(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f2d9e50"],{"0052":function(t,e,i){"use strict";i("37d0")},"0660":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-create"},[i("div",{staticClass:"page-create__toolbar"},[i("Toolbar",{on:{action:t.onToolbar}})],1),i("div",{staticClass:"page-create__main"},[i("Blocks")],1),i("div",{staticClass:"page-create__params"},[i("Params",{model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1)])},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-create-toolbar"},[i("div",{staticClass:"d-create-toolbar__dataset"},[i("div",{staticClass:"d-create-toolbar__item",on:{click:function(e){return t.handleAction("add-dataset")}}},[i("d-svg",{attrs:{name:"folder-add"}})],1),i("div",{staticClass:"d-create-toolbar__item",on:{click:function(e){return t.handleAction("save")}}},[i("d-svg",{attrs:{name:"folder-save"}})],1),i("div",{staticClass:"d-create-toolbar__item",on:{click:function(e){return t.handleAction("validate")}}},[i("d-svg",{attrs:{name:"folder-validate"}})],1),i("div",{staticClass:"d-create-toolbar__item",on:{click:function(e){return t.handleAction("delete-dataset")}}},[i("d-svg",{attrs:{name:"folder-remove"}})],1)]),i("div",{staticClass:"d-create-toolbar__workspace mt-10"},[i("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(e){return t.add({type:"input"})}}},[i("d-svg",{attrs:{name:"sloy-start-add"}})],1),i("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(e){return t.add({type:"middle"})}}},[i("d-svg",{attrs:{name:"sloy-middle-add"}})],1),i("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(e){return t.add({type:"handler"})}}},[i("d-svg",{attrs:{name:"sloy-handler-add"}})],1),i("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(e){return t.add({type:"output"})}}},[i("d-svg",{attrs:{name:"sloy-end-add"}})],1)])])},l=[],r=i("5530"),o=i("2f62"),c={name:"WorkspaceActions",methods:Object(r["a"])({},Object(o["b"])({add:"create/add"}))},d=c,u=(i("51f6"),i("2877")),h=Object(u["a"])(d,a,l,!1,null,"fb0ddf84",null),v=h.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.key,staticClass:"blocks",on:{contextmenu:t.contextmenu}},[i("net",{staticClass:"blocks__center",attrs:{x:t.centerX,y:t.centerY,scale:t.scale}}),i("Link",{staticClass:"blocks__lines",attrs:{lines:t.lines}}),t._l(t.blocks,(function(e){return i("Block",t._b({key:e.id,ref:"block_"+e.id,refInFor:!0,attrs:{options:t.optionsForChild,linkingCheck:t.tempLink},on:{linkingStart:function(i){return t.linkingStart(e,i)},linkingStop:function(i){return t.linkingStop(e,i)},linkingBreak:function(i){return t.linkingBreak(e,i)},select:function(i){return t.blockSelect(e)},position:function(e){return t.position(e)}}},"Block",e,!1))}))],2)},m=[],p=i("3835"),g=i("2909"),b=i("b85c"),_=(i("7db0"),i("caad"),i("4de4"),i("159b"),i("2532"),i("99af"),i("d81d"),i("c8fb")),k=i("00b9"),y=i("2523"),C={name:"Blocks",components:{Block:k["default"],Link:y["default"]},props:{},data:function(){return{key:1,save:[],menu:{},dragging:!1,centerX:0,centerY:0,scale:1,tempLink:null,hasDragged:!1,mouseX:0,mouseY:0,lastMouseX:0,lastMouseY:0,minScale:.2,maxScale:5,linking:!1,linkStart:null,inputSlotClassName:"inputSlot"}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])("create",{getKeyEvent:"getKeyEvent",blocks:"getBlocks",links:"getLinks",selectLength:"getSelectedLength"})),{},{keyEvent:{set:function(t){this.setKeyEvent(t)},get:function(){return this.getKeyEvent}},optionsForChild:function(){return{scale:this.scale,x:this.centerX,y:this.centerY}},container:function(){return{centerX:this.centerX,centerY:this.centerY,scale:this.scale}},lines:function(){var t,e=this,i=[],n=Object(b["a"])(this.links);try{var s=function(){var n=t.value,s=e.blocks.find((function(t){var e=t.id;return e===n.originID})),a=e.blocks.find((function(t){var e=t.id;return e===n.targetID}));if(!s||!a||s.id===a.id)return console.warn("Remove invalid link",n),e.removeLink(n.id),"continue";var l=e.getConnectionPos(s,n.originSlot,!1),r=e.getConnectionPos(a,n.targetSlot,!0);if(!l||!r)return console.log("Remove invalid link (slot not exist)",n),e.removeLink(n.id),"continue";var o=l.x,c=l.y,d=r.x,u=r.y;i.push({x1:o,y1:c,x2:d,y2:u,slot:n.originSlot,scale:e.scale,style:{stroke:"rgb(101, 124, 244)",strokeWidth:2*e.scale,fill:"none",zIndex:999},outlineStyle:{stroke:"#666",strokeWidth:2*e.scale,strokeOpacity:.6,fill:"none",zIndex:999}})};for(n.s();!(t=n.n()).done;)s()}catch(a){n.e(a)}finally{n.f()}return this.tempLink&&i.push(this.tempLink),i}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("create",["add","cloneAll","align","distance","remove","clone","select","setKeyEvent","deselect","position","update","addLink","updateLink","removeLink"])),{},{event:function(t){this.menu={},console.log(t),"add"===t&&this.add({}),"delete"===t&&this.remove(),"clone"===t&&this.cloneAll(),"left"===t&&this.align("ArrowLeft"),"right"===t&&this.align("ArrowRight"),"up"===t&&this.align("ArrowUp"),"down"===t&&this.align("ArrowDown"),"center"===t&&this.align("center"),"vertical"===t&&this.distance("vertical"),"horizon"===t&&this.distance("horizon"),"select"===t&&this.deselect(!0),this.key+=1},contextmenu:function(t){console.log(t.clientX,t.clientY)},handleMauseOver:function(t){this.mouseIsOver="mouseenter"===t.type},keyup:function(t){var e=this;this.keyEvent=t;var i=t.code,n=t.ctrlKey,s=t.shiftKey,a=this.mouseIsOver;console.log(t),"keyup"===t.type&&(a&&"Delete"===i&&this.remove(),a&&"KeyA"===i&&n&&this.deselect(!0),a&&["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"].includes(i)&&n&&!s&&(this.align(i),this.key+=1),a&&["ArrowUp"].includes(i)&&n&&s&&(this.distance("vertical"),this.key+=1),a&&"KeyC"===i&&n&&(this.save=this.blocks.filter((function(t){return t.selected}))),a&&"KeyX"===i&&n&&(this.save=JSON.parse(JSON.stringify(this.blocks.filter((function(t){return t.selected})))),console.log(this.save),this.remove()),a&&"KeyV"===i&&n&&(this.deselect(),this.save.forEach((function(t){e.clone(t)}))))},handleMove:function(t){var e=Object(_["b"])(this.$el,t);if(this.mouseX=e.x,this.mouseY=e.y,this.dragging){console.log("handleMove");var i=this.mouseX-this.lastMouseX,n=this.mouseY-this.lastMouseY;this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.centerX+=i,this.centerY+=n,this.hasDragged=!0}if(this.linking&&this.linkStart){var s=this.getConnectionPos(this.linkStart.block,this.linkStart.slot,!1);this.tempLink={x1:s.x,y1:s.y,x2:this.mouseX,y2:this.mouseY,slot:this.linkStart.slot,style:{stroke:"#8f8f8f",strokeWidth:2*this.scale,fill:"none"}}}},handleDown:function(t){console.log("handleDown"),console.log(t);var e=t.target||t.srcElement;if((e===this.$el||e.matches("svg, svg *"))&&1===t.which){var i;this.dragging=!0;var n=Object(_["b"])(this.$el,t);this.mouseX=n.x,this.mouseY=n.y,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,null!==(i=this.keyEvent)&&void 0!==i&&i.ctrlKey||this.deselect(),t.preventDefault&&t.preventDefault()}},handleUp:function(t){console.log("handleUp");var e=t.target||t.srcElement;this.dragging&&(this.dragging=!1,this.hasDragged&&(this.hasDragged=!1)),!this.$el.contains(e)||"string"===typeof e.className&&e.className.includes(this.inputSlotClassName)||(this.linking=!1,this.tempLink=null,this.linkStart=null)},handleWheel:function(t){var e=t.target||t.srcElement;if(this.$el.contains(e)){var i=Math.pow(1.1,-.01*t.deltaY);if(this.scale*=i,this.scale<this.minScale)return void(this.scale=this.minScale);if(this.scale>this.maxScale)return void(this.scale=this.maxScale);var n=(this.mouseX-this.centerX)*(i-1),s=(this.mouseY-this.centerY)*(i-1);this.centerX-=n,this.centerY-=s}},getConnectionPos:function(t,e,i){var n,s,a;if(t&&-1!==e){var l=0,r=0;l+=t.position[0],r+=t.position[1];var o=(null===(n=this.$refs)||void 0===n||null===(s=n["block_"+t.id])||void 0===s||null===(a=s[0])||void 0===a?void 0:a.getH())||{},c=o.width,d=void 0===c?0:c,u=o.heigth,h=void 0===u?0:u;return i?(l+=d/2,r+=-3):(l+=d/2,r+=h),l*=this.scale,r*=this.scale,l+=this.centerX,r+=this.centerY,{x:l,y:r}}},linkingStart:function(t,e){console.log("linkingStart"),this.linkStart={block:t,slot:e};var i=this.getConnectionPos(t,e,!1);this.tempLink={x1:i.x,y1:i.y,x2:this.mouseX,y2:this.mouseY,style:{stroke:"#8f8f8f",strokeWidth:2*this.scale,fill:"none"}},this.linking=!0},linkingStop:function(t,e){if(console.log("linkingStop"),this.linkStart&&t&&e>-1){var i=this.linkStart,n=i.slot,s=i.block.id,a=t.id,l=e,r=this.links.filter((function(t){return!(t.targetID===a&&t.targetSlot===l&&t.originID===s&&t.originSlot===n)&&!(t.targetID===s&&t.originID===a||t.originID===s&&t.targetID===a)}));this.updateLink(r);var o=Math.max.apply(Math,[0].concat(Object(g["a"])(this.links.map((function(t){return t.id})))));if(this.linkStart.block.id!==t.id){var c=this.linkStart.block.id,d=this.linkStart.slot,u=t.id,h=e;this.addLink({id:o+1,originID:c,originSlot:d,targetID:u,targetSlot:h}),this.updateModel()}}this.linking=!1,this.tempLink=null,this.linkStart=null},linkingBreak:function(t,e){if(console.log("linkingBreak"),t&&e>-1){var i=this.links.find((function(i){var n=i.targetID,s=i.targetSlot;return n===t.id&&s===e}));if(i){var n=this.blocks.find((function(t){var e=t.id;return e===i.originID})),s=this.links.filter((function(i){var n=i.targetID,s=i.targetSlot;return!(n===t.id&&s===e)}));this.updateLink(s),this.linkingStart(n,i.originSlot),this.updateModel()}}},position:function(t){var e=t.left,i=t.top;if(!this.keyEvent.ctrlKey){var n=this.blocks.map((function(t){var n=Object(p["a"])(t.position,2),s=n[0],a=n[1],l=t.selected?[s+e,a+i]:[s,a];return Object(r["a"])(Object(r["a"])({},t),{},{position:l})}));this.update(n)}},blockSelect:function(t){var e=t.id,i=t.selected;console.log(e,i),i&&!this.keyEvent.ctrlKey||this.select({id:e})},updateModel:function(){}}),mounted:function(){var t=document.documentElement;this.$el.addEventListener("mouseenter",this.handleMauseOver),this.$el.addEventListener("mouseleave",this.handleMauseOver),t.addEventListener("keydown",this.keyup),t.addEventListener("keyup",this.keyup),t.addEventListener("mousemove",this.handleMove,!0),t.addEventListener("mousedown",this.handleDown,!0),t.addEventListener("mouseup",this.handleUp,!0),t.addEventListener("wheel",this.handleWheel,!0),this.centerX=this.$el.clientWidth/2,this.centerY=this.$el.clientHeight/2},beforeDestroy:function(){var t=document.documentElement;this.$el.removeEventListener("mouseenter",this.handleMauseOver),this.$el.removeEventListener("mouseleave",this.handleMauseOver),t.removeEventListener("keydown",this.keyup),t.removeEventListener("keyup",this.keyup),t.removeEventListener("mousemove",this.handleMove,!0),t.removeEventListener("mousedown",this.handleDown,!0),t.removeEventListener("mouseup",this.handleUp,!0),t.removeEventListener("wheel",this.handleWheel,!0)}},S=C,w=(i("8639"),Object(u["a"])(S,f,m,!1,null,null,null)),x=w.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"params"},[i("div",{staticClass:"params__body"},[i("div",{staticClass:"params__header"},[t._v("Данные")]),i("scrollbar",[i("div",{staticClass:"params__inner"},[i(t.getComp.component,{tag:"component"})],1)])],1),i("div",{staticClass:"params__footer"},[i("Pagination",{attrs:{value:t.value,title:t.getComp.title},on:{next:t.onNext,prev:t.onPrev}})],1)])},D=[],j=i("1da1"),L=(i("96cf"),i("eb4c")),E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview"},[i("div",{staticClass:"preview__files"},[i("files-menu",{model:{value:t.filesSource,callback:function(e){t.filesSource=e},expression:"filesSource"}})],1),i("div",{staticClass:"preview__title"},[t._v("Предпросмотр")]),i("div",{staticClass:"preview__cards"},[t._l(t.mixinFiles,(function(e,n){return["folder"===e.type?i("CardFile",t._b({key:"files_"+n},"CardFile",e,!1)):t._e(),"table"===e.type?i("CardTable",t._b({key:"files_"+n},"CardTable",e,!1)):t._e()]}))],2),i("div",{staticClass:"preview__title"},[t._v("Параметры")])])},M=[],$=i("b79b"),X=i("4328"),Y={components:{CardFile:$["a"],CardTable:X["a"]},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getFileManager:"createDataset/getFileManager"})),{},{mixinFiles:function(){return this.getFileManager.map((function(t){return{id:t.id,cover:t.cover,label:t.label,type:t.type,table:t.table,value:t.path}}))},filesSource:{set:function(t){this.$store.dispatch("datasets/setFilesSource",t)},get:function(){return this.getFileManager}}})},A=Y,F=(i("7385"),Object(u["a"])(A,E,M,!1,null,"75816f9a",null)),I=F.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel-settings"},[t._v(" "+t._s(t.type)+" "),"input"===t.type?[t._l(t.mixinFiles,(function(e,n){return["folder"===e.type?i("CardFile",t._b({key:"files_"+n},"CardFile",e,!1)):t._e(),"table"===e.type?i("CardTable",t._b({key:"files_"+n},"CardTable",e,!1)):t._e()]}))]:t._e(),"handler"===t.type?[t._l(t.formsHandler,(function(e,n){return[i("t-auto-field-handler",t._b({key:n,attrs:{parameters:{},idKey:"key_"+n,root:""},on:{change:t.change}},"t-auto-field-handler",e,!1))]}))]:t._e(),"middle"===t.type?[t._l(t.input,(function(e,n){return[i("t-auto-field",t._b({key:"inputData.color"+n,attrs:{parameters:t.parameters,idKey:"key_"+n,id:n+3,update:t.mixinUpdateDate,isAudio:t.isAudio,root:""},on:{multiselect:t.mixinUpdate,change:t.mixinChange}},"t-auto-field",e,!1))]}))]:t._e(),"output"===t.type?[t._l(t.formsHandler,(function(e,n){return[i("t-auto-field-handler",t._b({key:n,attrs:{parameters:{},idKey:"key_"+n,root:""},on:{change:t.change}},"t-auto-field-handler",e,!1))]}))]:t._e()],2)},N=[],K=(i("b0c0"),i("c740"),i("d3b7"),i("25f0"),{name:"DatasetSettings",components:{CardFile:$["a"],CardTable:X["a"]},data:function(){return{show:!0,ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}},colors:["#1ea61d","#a51da6","#0d6dea","#fecd05","#d72239","#054f1d","#630e76","#031e70","#b78b01","#660634","#86e372","#e473d0","#6bb5f9","#ffe669","#f38079"],table:{}}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getSelected:"create/getSelected",getFileManager:"createDataset/getFileManager",getDefault:"create/getDefault"})),{},{mixinFiles:function(){return this.getFileManager.map((function(t){return{id:t.id,cover:t.cover,label:t.label,type:t.type,table:t.table,value:t.path}}))},formsHandler:function(){return this.$store.getters["datasets/getFormsHandler"]},type:function(){var t;return(null===this||void 0===this||null===(t=this.getSelected)||void 0===t?void 0:t.type)||""},input:function(){return this.getDefault("input")}}),created:function(){var t=this.$store.getters["datasets/getFilesSource"];console.log(t),this.table=t.filter((function(t){return"table"===t.type})).reduce((function(t,e){return t[e.title]=[],t}),{})},methods:{change:function(t){var e=t.id,i=t.value,n=t.name,s=this.handlers.findIndex((function(t){return t.id===e}));"name"===n&&(this.handlers[s].name=i),"type"===n&&(this.handlers[s].type=i),this.handlers[s]&&(this.handlers[s].parameters[n]=i),this.handlers=Object(g["a"])(this.handlers)},select:function(t){this.handlers=this.handlers.map((function(e){return e.active=e.id===t,e}))},deselect:function(){this.handlers=this.handlers.map((function(t){return t.active=!1,t}))},handleAdd:function(){if(this.show){console.log(this.table),this.deselect();var t=Math.max.apply(Math,[0].concat(Object(g["a"])(this.handlers.map((function(t){return t.id})))));this.handlers.push({id:t+1,name:"Name_"+(t+1),active:!0,color:this.colors[this.handlers.length],layer:(this.handlers.length+1).toString(),type:"",table:JSON.parse(JSON.stringify(this.table)),parameters:{}}),console.log(this.handlers)}},handleClick:function(t,e){if("remove"===t&&(this.deselect(),this.handlers=this.handlers.filter((function(t){return t.id!==e}))),console.log(t),"copy"===t){this.deselect();var i=JSON.parse(JSON.stringify(this.handlers.filter((function(t){return t.id==e})))),n=Math.max.apply(Math,[0].concat(Object(g["a"])(this.handlers.map((function(t){return t.id})))));i[0].id=n+1,i[0].name="Name_"+(n+1),this.handlers=[].concat(Object(g["a"])(this.handlers),Object(g["a"])(i))}}}}),T=K,B=Object(u["a"])(T,P,N,!1,null,null,null),U=B.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tabs-download"},[i("div",{staticClass:"tabs-download-list flex align-center"},t._l(t.items,(function(e){var n=e.text,s=e.tab;return i("div",{key:"tab_"+s,class:["tabs-download-list__item",{"tabs-download-list__item--active":t.isActive(s)}],on:{click:function(e){return t.onTabs(s)}}},[t._v(" "+t._s(n)+" ")])})),0),i("div",{staticClass:"tabs-download-content mt-10"},[0===t.active?i("t-field",{attrs:{icon:"google",label:"Выберите файл на Google диске"}},[i("d-auto-complete",{attrs:{icon:"google-drive",placeholder:"Введите имя файла",list:t.getFilesSource},on:{click:t.getDatasetSources,change:function(e){return t.onSelect({mode:"GoogleDrive",value:e.value})}}})],1):t._e(),1===t.active?i("t-field",{attrs:{icon:"link",label:"Загрузите по ссылке"}},[i("d-input-text",{attrs:{placeholder:"URL"},on:{blur:function(e){return t.onSelect({mode:"URL",value:e.target.value})}}})],1):t._e()],1)])},R=[],W={name:"DatasetDownloadTabs",data:function(){return{items:[{text:"Google диск",tab:0},{text:"URL",tab:1}],active:0}},computed:Object(r["a"])({},Object(o["c"])("createDataset",["getFilesSource"])),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("createDataset",["getDatasetSources","setSelectSource"])),{},{isActive:function(t){return this.active===t},onSelect:function(t){this.setSelectSource(t)},onTabs:function(t){this.active=t,this.setSelectSource({})}})},J=W,z=(i("6334"),Object(u["a"])(J,H,R,!1,null,"1a93fef0",null)),G=z.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dataset-helpers"},[t._m(0),i("div",{staticClass:"dataset-helpers-list mt-5 ml-5"},[i("ul",{staticClass:"dataset-helpers-list__menu"},[i("li",{staticClass:"flex align-center"},[i("span",{staticClass:"panel-text-gray"},[t._v("1. Выбрать входные чистые данные")]),i("d-svg",{attrs:{name:"sloy-start-add"}})],1),i("li",{staticClass:"flex align-center"},[i("span",{staticClass:"panel-text-gray"},[t._v("2. Задать обработчик")]),i("d-svg",{attrs:{name:"sloy-middle-add"}})],1),i("li",{staticClass:"flex align-center"},[i("span",{staticClass:"panel-text-gray"},[t._v("3. Соединить все в инпут вход один")]),i("d-svg",{attrs:{name:"sloy-end-add"}})],1)])])])},V=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dataset-helpers-header"},[i("p",[t._v("Для создания датасета необходимо:")])])}],Q={name:"DatasetHelpers"},Z=Q,tt=(i("8728"),Object(u["a"])(Z,q,V,!1,null,"af400e0c",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-pagination"},[i("button",{staticClass:"d-pagination__btn",attrs:{disabled:t.isDisabled},on:{click:function(e){return t.$emit("prev",e)}}},[i("d-svg",{attrs:{name:"arrow-carret-left-longer-big"}})],1),i("div",{staticClass:"d-pagination__inner"},[i("div",{staticClass:"d-pagination__list"},t._l(t.qty,(function(e){return i("div",{key:e,class:["d-pagination__item",{"d-pagination__item--active":t.isActive(e)}]})})),0),i("div",{staticClass:"d-pagination__title"},[i("span",[t._v(t._s(t.title))])])]),i("d-button",{staticStyle:{width:"40%"},attrs:{color:"secondary",direction:"left",text:"Далее",disabled:t.isStatus},on:{click:function(e){return t.$emit("next",e)}}})],1)},nt=[],st=(i("a9e3"),{name:"DPagination",props:{qty:{type:Number,default:4},title:{type:String,default:""},value:{type:Number,default:0}},data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({select:"createDataset/getSelectSource"})),{},{isDisabled:function(){return 1===this.value},isStatus:function(){var t;return console.log(this.select),!(1!==this.value||null!==this&&void 0!==this&&null!==(t=this.select)&&void 0!==t&&t.value)}}),methods:{isActive:function(t){return this.value===t}}}),at=st,lt=(i("f96a"),Object(u["a"])(at,it,nt,!1,null,null,null)),rt=lt.exports,ot={components:{Preview:I,Settings:U,Download:G,Pagination:rt,Helpers:et},data:function(){return{value:3,debounce:null,list:[{id:1,title:"Download",component:"download"},{id:2,title:"Preview",component:"Preview"},{id:3,title:"Settings",component:"settings"},{id:4,title:"Helpers",component:"helpers"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({select:"createDataset/getSelectSource"})),{},{getComp:function(){var t=this;return this.list.find((function(e){return e.id===t.value}))}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])({setSourceLoad:"createDataset/setSourceLoad",sourceLoadProgress:"createDataset/sourceLoadProgress",setOverlay:"settings/setOverlay"})),{},{onNext:function(){1===this.value&&this.onDownload(),this.value<this.list.length&&(this.value=this.value+1)},onPrev:function(){this.value>1&&(this.value=this.value-1)},onProgress:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.sourceLoadProgress();case 2:n=e.sent,null!==n&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.finished?t.setOverlay(!1):t.debounce(!0);case 4:case"end":return e.stop()}}),e)})))()},onDownload:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var i,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.select,n=i.mode,s=i.value,e.next=3,t.setSourceLoad({mode:n,value:s});case 3:a=e.sent,a&&(t.setOverlay(!0),t.debounce(!0));case 5:case"end":return e.stop()}}),e)})))()}}),created:function(){var t=this;this.debounce=Object(L["a"])((function(e){e&&t.onProgress()}),1e3)},beforeDestroy:function(){this.debounce(!1)}},ct=ot,dt=(i("0052"),Object(u["a"])(ct,O,D,!1,null,null,null)),ut=dt.exports,ht={name:"Datasets",components:{Toolbar:v,Blocks:x,Params:ut},data:function(){return{state:1}},methods:{onToolbar:function(t){console.log(t)}}},vt=ht,ft=(i("506e"),Object(u["a"])(vt,n,s,!1,null,null,null));e["default"]=ft.exports},"0d85":function(t,e,i){},"1ddc":function(t,e,i){"use strict";i("5630")},"305f":function(t,e,i){},"37d0":function(t,e,i){},4328:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-table"},[i("div",{staticClass:"t-table__header"}),i("div",{staticClass:"t-table__data"},[i("div",{staticClass:"t-table__col",style:{padding:"1px 0"}},t._l(6,(function(e,n){return i("div",{key:"idx_r_"+e,staticClass:"t-table__row"},[t._v(t._s(n||""))])})),0),i("div",{staticClass:"t-table__border"},t._l(t.origTable,(function(e,n){return i("div",{key:"row_"+n,class:["t-table__col",{"t-table__col--active":e.active}],style:t.getColor,on:{click:function(i){return t.select(e,i)}}},[t._l(e,(function(e,n){return[n<=5?i("div",{key:"item_"+n,staticClass:"t-table__row"},[t._v(" "+t._s(e)+" ")]):t._e()]})),i("div",{staticClass:"t-table__select"},t._l(t.all(e),(function(t,e){return i("div",{key:"all"+e,staticClass:"t-table__circle",style:t})})),0)],2)})),0)]),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outside,expression:"outside"}],staticClass:"t-table__footer"},[i("span",[t._v(t._s(t.label))]),i("div",{staticClass:"t-table__footer--btn",on:{click:function(e){t.show=!0}}},[i("i",{staticClass:"t-icon icon-file-dot"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"t-table__dropdown"},t._l(t.items,(function(e,n){var s=e.icon,a=e.event;return i("div",{key:"icon"+n,staticClass:"t-table__dropdown--item",on:{click:function(e){t.$emit("event",{label:t.label,event:a}),t.show=!1}}},[i("i",{class:["t-icon",s]})])})),0)])])},s=[],a=i("3835"),l=(i("a9e3"),i("7db0"),i("d81d"),i("caad"),i("2532"),i("4de4"),{name:"CardTable",props:{label:String,type:String,id:Number,cover:String,table:Array,value:String},data:function(){return{show:!1,items:[{icon:"icon-deploy-remove",event:"remove"}]}},computed:{getColor:function(){var t=this.handlers.find((function(t){return t.active}));return{borderColor:(null===t||void 0===t?void 0:t.color)||""}},origTable:function(){var t=this;return this.table.map((function(e){return e.active=t.selected.includes(e[0]),e}))},handlers:{set:function(t){this.$store.dispatch("tables/setHandlers",t)},get:function(){return this.$store.getters["tables/getHandlers"]}},selected:{set:function(t){var e=this;this.handlers=this.handlers.map((function(i){return i.active&&i.table[e.label]&&(i.table[e.label]=t),i}))},get:function(){var t=this.handlers.find((function(t){return t.active}));return t?t.table[this.label]:[]}}},methods:{outside:function(){this.show=!1},all:function(t){var e=this,i=Object(a["a"])(t,1),n=i[0];return this.handlers.filter((function(t){return t.table[e.label].includes(n)})).map((function(t,e){return{backgroundColor:t.color,top:-3*e+"px"}}))},select:function(t){var e=Object(a["a"])(t,1),i=e[0];this.selected.find((function(t){return t===i}))?this.selected=this.selected.filter((function(t){return t!==i})):this.selected.push(i)}}}),r=l,o=(i("ad58"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,"137e7a5b",null);e["a"]=c.exports},"506e":function(t,e,i){"use strict";i("be11")},"51f6":function(t,e,i){"use strict";i("7197")},5630:function(t,e,i){},"5ee8":function(t,e,i){},6280:function(t,e,i){},6334:function(t,e,i){"use strict";i("0d85")},7197:function(t,e,i){},"730f":function(t,e,i){},7323:function(t,e,i){},7385:function(t,e,i){"use strict";i("7323")},8639:function(t,e,i){"use strict";i("730f")},8728:function(t,e,i){"use strict";i("5ee8")},ad58:function(t,e,i){"use strict";i("305f")},b79b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outside,expression:"outside"}],staticClass:"t-card-file",style:t.bc},[t.id?i("div",{staticClass:"t-card-file__header",style:t.bg},[t._v(t._s(t.title))]):t._e(),i("div",{class:["t-card-file__body","icon-file-"+t.type],style:t.img}),i("div",{staticClass:"t-card-file__footer"},[i("div",{staticClass:"t-card-file__footer--label"},[t._v(t._s(t.label))]),i("div",{staticClass:"t-card-file__footer--btn",on:{click:function(e){t.show=!0}}},[i("i",{staticClass:"t-icon icon-file-dot"})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"t-card-file__dropdown"},t._l(t.items,(function(e,n){var s=e.icon,a=e.event;return i("div",{key:"icon"+n,staticClass:"t-card-file__dropdown--item",on:{click:function(e){t.$emit("event",{label:t.label,event:a}),t.show=!1}}},[i("i",{class:["t-icon",s]})])})),0)])},s=[],a=(i("a9e3"),{name:"t-card-file",props:{label:String,type:String,id:Number,cover:String},data:function(){return{show:!1,items:[{icon:"icon-deploy-remove",event:"remove"}]}},computed:{img:function(){return this.cover?{backgroundImage:"url('".concat(this.cover,"')"),backgroundPosition:"center",backgroundSize:"cover"}:{}},selectInputData:function(){return this.$store.getters["datasets/getInputDataByID"](this.id)||{}},title:function(){var t=this.selectInputData;return"input"===t.layer?"Входные данные "+t.id:"Выходные данные "+t.id},color:function(){return this.selectInputData.color||""},bg:function(){return{backgroundColor:this.id?this.color:""}},bc:function(){return{borderColor:this.id?this.color:""}}},methods:{outside:function(){this.show=!1}}}),l=a,r=(i("1ddc"),i("2877")),o=Object(r["a"])(l,n,s,!1,null,"8cd777c2",null);e["a"]=o.exports},be11:function(t,e,i){},f96a:function(t,e,i){"use strict";i("6280")}}]);