(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4339e56a"],{"0052":function(e,t,n){"use strict";n("37d0")},"0213":function(e,t,n){},"0660":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-create"},[n("div",{staticClass:"page-create__toolbar"},[n("Toolbar",{on:{action:e.onToolbar}})],1),n("div",{staticClass:"page-create__main"},[n("Blocks")],1),n("div",{staticClass:"page-create__params"},[n("Params",{model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1)])},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-create-toolbar"},[n("div",{staticClass:"d-create-toolbar__dataset"},[n("div",{staticClass:"d-create-toolbar__item",on:{click:function(t){return e.handleAction("add-dataset")}}},[n("d-svg",{attrs:{name:"folder-add"}})],1),n("div",{staticClass:"d-create-toolbar__item",on:{click:function(t){return e.handleAction("save")}}},[n("d-svg",{attrs:{name:"folder-save"}})],1),n("div",{staticClass:"d-create-toolbar__item",on:{click:function(t){return e.handleAction("validate")}}},[n("d-svg",{attrs:{name:"folder-validate"}})],1),n("div",{staticClass:"d-create-toolbar__item",on:{click:function(t){return e.handleAction("delete-dataset")}}},[n("d-svg",{attrs:{name:"folder-remove"}})],1)]),n("div",{staticClass:"d-create-toolbar__workspace mt-10"},[n("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(t){return e.onAdd({type:"input"})}}},[n("d-svg",{attrs:{name:"sloy-start-add"}})],1),n("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(t){return e.onAdd({type:"middle"})}}},[n("d-svg",{attrs:{name:"sloy-middle-add"}})],1),n("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(t){return e.onAdd({type:"handler"})}}},[n("d-svg",{attrs:{name:"sloy-handler-add"}})],1),n("div",{staticClass:"d-create-toolbar__item d-create-toolbar__item--no-hover",on:{click:function(t){return e.onAdd({type:"output"})}}},[n("d-svg",{attrs:{name:"sloy-end-add"}})],1)])])},l=[],r=n("5530"),o=n("2f62"),c={name:"d-toolbar",computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getPagination:"createDataset/getPagination"})),{},{isActive:function(){return Boolean(3===this.getPagination)}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])({add:"create/add"})),{},{onAdd:function(e){this.isActive&&this.add(e)}})},u=c,d=(n("2aa3"),n("2877")),h=Object(d["a"])(u,s,l,!1,null,"f23ccdcc",null),p=h.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.key,staticClass:"blocks",on:{contextmenu:e.contextmenu}},[e.isActive?e._e():n("div",{staticClass:"blocks__overlay"}),n("net",{staticClass:"blocks__center",attrs:{x:e.centerX,y:e.centerY,scale:e.scale}}),n("Link",{staticClass:"blocks__lines",attrs:{lines:e.lines}}),e._l(e.blocks,(function(t){return n("Block",e._b({key:t.id,ref:"block_"+t.id,refInFor:!0,attrs:{options:e.optionsForChild,linkingCheck:e.tempLink},on:{linkingStart:function(n){return e.linkingStart(t,n)},linkingStop:function(n){return e.linkingStop(t,n)},linkingBreak:function(n){return e.linkingBreak(t,n)},select:function(n){return e.blockSelect(t)},position:function(t){return e.position(t)}}},"Block",t,!1))}))],2)},v=[],m=n("3835"),g=n("2909"),b=n("b85c"),_=(n("7db0"),n("d3b7"),n("caad"),n("4de4"),n("e9c4"),n("159b"),n("2532"),n("99af"),n("d81d"),n("c8fb")),y=n("00b9"),k=n("2523"),S={name:"Blocks",components:{Block:y["default"],Link:k["default"]},props:{},data:function(){return{key:1,save:[],menu:{},dragging:!1,centerX:0,centerY:0,scale:1,tempLink:null,hasDragged:!1,mouseX:0,mouseY:0,lastMouseX:0,lastMouseY:0,minScale:.2,maxScale:5,linking:!1,linkStart:null,inputSlotClassName:"inputSlot"}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getKeyEvent:"create/getKeyEvent",blocks:"create/getBlocks",links:"create/getLinks",selectLength:"create/getSelectedLength",getPagination:"createDataset/getPagination"})),{},{isActive:function(){return console.log(this.getPagination),Boolean(3===this.getPagination)},keyEvent:{set:function(e){this.setKeyEvent(e)},get:function(){return this.getKeyEvent}},optionsForChild:function(){return{scale:this.scale,x:this.centerX,y:this.centerY}},container:function(){return{centerX:this.centerX,centerY:this.centerY,scale:this.scale}},lines:function(){var e,t=this,n=[],i=Object(b["a"])(this.links);try{var a=function(){var i=e.value,a=t.blocks.find((function(e){var t=e.id;return t===i.originID})),s=t.blocks.find((function(e){var t=e.id;return t===i.targetID}));if(!a||!s||a.id===s.id)return console.warn("Remove invalid link",i),t.removeLink(i.id),"continue";var l=t.getConnectionPos(a,i.originSlot,!1),r=t.getConnectionPos(s,i.targetSlot,!0);if(!l||!r)return console.log("Remove invalid link (slot not exist)",i),t.removeLink(i.id),"continue";var o=l.x,c=l.y,u=r.x,d=r.y;n.push({x1:o,y1:c,x2:u,y2:d,slot:i.originSlot,scale:t.scale,style:{stroke:"rgb(101, 124, 244)",strokeWidth:2*t.scale,fill:"none",zIndex:999},outlineStyle:{stroke:"#666",strokeWidth:2*t.scale,strokeOpacity:.6,fill:"none",zIndex:999}})};for(i.s();!(e=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return this.tempLink&&n.push(this.tempLink),n}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("create",["add","cloneAll","align","distance","remove","clone","select","setKeyEvent","deselect","position","update","addLink","updateLink","removeLink"])),{},{event:function(e){this.menu={},console.log(e),"add"===e&&this.add({}),"delete"===e&&this.remove(),"clone"===e&&this.cloneAll(),"left"===e&&this.align("ArrowLeft"),"right"===e&&this.align("ArrowRight"),"up"===e&&this.align("ArrowUp"),"down"===e&&this.align("ArrowDown"),"center"===e&&this.align("center"),"vertical"===e&&this.distance("vertical"),"horizon"===e&&this.distance("horizon"),"select"===e&&this.deselect(!0),this.key+=1},contextmenu:function(e){console.log(e.clientX,e.clientY)},handleMauseOver:function(e){this.mouseIsOver="mouseenter"===e.type},keyup:function(e){var t=this;this.keyEvent=e;var n=e.code,i=e.ctrlKey,a=e.shiftKey,s=this.mouseIsOver;console.log(e),"keyup"===e.type&&(s&&"Delete"===n&&this.remove(),s&&"KeyA"===n&&i&&this.deselect(!0),s&&["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"].includes(n)&&i&&!a&&(this.align(n),this.key+=1),s&&["ArrowUp"].includes(n)&&i&&a&&(this.distance("vertical"),this.key+=1),s&&"KeyC"===n&&i&&(this.save=this.blocks.filter((function(e){return e.selected}))),s&&"KeyX"===n&&i&&(this.save=JSON.parse(JSON.stringify(this.blocks.filter((function(e){return e.selected})))),console.log(this.save),this.remove()),s&&"KeyV"===n&&i&&(this.deselect(),this.save.forEach((function(e){t.clone(e)}))))},handleMove:function(e){var t=Object(_["b"])(this.$el,e);if(this.mouseX=t.x,this.mouseY=t.y,this.dragging){console.log("handleMove");var n=this.mouseX-this.lastMouseX,i=this.mouseY-this.lastMouseY;this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.centerX+=n,this.centerY+=i,this.hasDragged=!0}if(this.linking&&this.linkStart){var a=this.getConnectionPos(this.linkStart.block,this.linkStart.slot,!1);this.tempLink={x1:a.x,y1:a.y,x2:this.mouseX,y2:this.mouseY,slot:this.linkStart.slot,style:{stroke:"#8f8f8f",strokeWidth:2*this.scale,fill:"none"}}}},handleDown:function(e){console.log("handleDown"),console.log(e);var t=e.target||e.srcElement;if((t===this.$el||t.matches("svg, svg *"))&&1===e.which){var n;this.dragging=!0;var i=Object(_["b"])(this.$el,e);this.mouseX=i.x,this.mouseY=i.y,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,null!==(n=this.keyEvent)&&void 0!==n&&n.ctrlKey||this.deselect(),e.preventDefault&&e.preventDefault()}},handleUp:function(e){console.log("handleUp");var t=e.target||e.srcElement;this.dragging&&(this.dragging=!1,this.hasDragged&&(this.hasDragged=!1)),!this.$el.contains(t)||"string"===typeof t.className&&t.className.includes(this.inputSlotClassName)||(this.linking=!1,this.tempLink=null,this.linkStart=null)},handleWheel:function(e){var t=e.target||e.srcElement;if(this.$el.contains(t)){var n=Math.pow(1.1,-.01*e.deltaY);if(this.scale*=n,this.scale<this.minScale)return void(this.scale=this.minScale);if(this.scale>this.maxScale)return void(this.scale=this.maxScale);var i=(this.mouseX-this.centerX)*(n-1),a=(this.mouseY-this.centerY)*(n-1);this.centerX-=i,this.centerY-=a}},getConnectionPos:function(e,t,n){var i,a,s;if(e&&-1!==t){var l=0,r=0;l+=e.position[0],r+=e.position[1];var o=(null===(i=this.$refs)||void 0===i||null===(a=i["block_"+e.id])||void 0===a||null===(s=a[0])||void 0===s?void 0:s.getH())||{},c=o.width,u=void 0===c?0:c,d=o.heigth,h=void 0===d?0:d;return n?(l+=u/2,r+=-3):(l+=u/2,r+=h),l*=this.scale,r*=this.scale,l+=this.centerX,r+=this.centerY,{x:l,y:r}}},linkingStart:function(e,t){console.log("linkingStart"),this.linkStart={block:e,slot:t};var n=this.getConnectionPos(e,t,!1);this.tempLink={x1:n.x,y1:n.y,x2:this.mouseX,y2:this.mouseY,style:{stroke:"#8f8f8f",strokeWidth:2*this.scale,fill:"none"}},this.linking=!0},linkingStop:function(e,t){if(console.log("linkingStop"),this.linkStart&&e&&t>-1){var n=this.linkStart,i=n.slot,a=n.block.id,s=e.id,l=t,r=this.links.filter((function(e){return!(e.targetID===s&&e.targetSlot===l&&e.originID===a&&e.originSlot===i)&&!(e.targetID===a&&e.originID===s||e.originID===a&&e.targetID===s)}));this.updateLink(r);var o=Math.max.apply(Math,[0].concat(Object(g["a"])(this.links.map((function(e){return e.id})))));if(this.linkStart.block.id!==e.id){var c=this.linkStart.block.id,u=this.linkStart.slot,d=e.id,h=t;this.addLink({id:o+1,originID:c,originSlot:u,targetID:d,targetSlot:h}),this.updateModel()}}this.linking=!1,this.tempLink=null,this.linkStart=null},linkingBreak:function(e,t){if(console.log("linkingBreak"),e&&t>-1){var n=this.links.find((function(n){var i=n.targetID,a=n.targetSlot;return i===e.id&&a===t}));if(n){var i=this.blocks.find((function(e){var t=e.id;return t===n.originID})),a=this.links.filter((function(n){var i=n.targetID,a=n.targetSlot;return!(i===e.id&&a===t)}));this.updateLink(a),this.linkingStart(i,n.originSlot),this.updateModel()}}},position:function(e){var t=e.left,n=e.top;if(!this.keyEvent.ctrlKey){var i=this.blocks.map((function(e){var i=Object(m["a"])(e.position,2),a=i[0],s=i[1],l=e.selected?[a+t,s+n]:[a,s];return Object(r["a"])(Object(r["a"])({},e),{},{position:l})}));this.update(i)}},blockSelect:function(e){var t=e.id,n=e.selected;console.log(t,n),n&&!this.keyEvent.ctrlKey||this.select({id:t})},updateModel:function(){}}),mounted:function(){var e=document.documentElement;this.$el.addEventListener("mouseenter",this.handleMauseOver),this.$el.addEventListener("mouseleave",this.handleMauseOver),e.addEventListener("keydown",this.keyup),e.addEventListener("keyup",this.keyup),e.addEventListener("mousemove",this.handleMove,!0),e.addEventListener("mousedown",this.handleDown,!0),e.addEventListener("mouseup",this.handleUp,!0),e.addEventListener("wheel",this.handleWheel,!0),this.centerX=this.$el.clientWidth/2,this.centerY=this.$el.clientHeight/2},beforeDestroy:function(){var e=document.documentElement;this.$el.removeEventListener("mouseenter",this.handleMauseOver),this.$el.removeEventListener("mouseleave",this.handleMauseOver),e.removeEventListener("keydown",this.keyup),e.removeEventListener("keyup",this.keyup),e.removeEventListener("mousemove",this.handleMove,!0),e.removeEventListener("mousedown",this.handleDown,!0),e.removeEventListener("mouseup",this.handleUp,!0),e.removeEventListener("wheel",this.handleWheel,!0)}},x=S,C=(n("8639"),Object(d["a"])(x,f,v,!1,null,null,null)),w=C.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"params"},[n("div",{staticClass:"params__body"},[n("div",{staticClass:"params__header"},[e._v("Данные")]),n("scrollbar",[n("div",{staticClass:"params__inner"},[n(e.getComp.component,{tag:"component"})],1)])],1),n("div",{staticClass:"params__footer"},[n("Pagination",{attrs:{value:e.value,title:e.getComp.title},on:{next:e.onNext,prev:e.onPrev}})],1)])},j=[],$=n("1da1"),E=(n("96cf"),n("eb4c")),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preview"},[n("div",{staticClass:"preview__cards"},[e._l(e.mixinFiles,(function(t,i){return["folder"===t.type?n("CardFile",e._b({key:"files_"+i},"CardFile",t,!1)):e._e(),"table"===t.type?n("CardTable",e._b({key:"files_"+i},"CardTable",t,!1)):e._e()]}))],2),n("div",{staticClass:"preview__title mb-2"},[e._v("Файлы")]),n("div",{staticClass:"preview__files"},[n("files-menu",{model:{value:e.filesSource,callback:function(t){e.filesSource=t},expression:"filesSource"}})],1)])},A=[],F=n("b79b"),T=n("4328"),L={components:{CardFile:F["a"],CardTable:T["a"]},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getFileManager:"createDataset/getFileManager"})),{},{mixinFiles:function(){return this.getFileManager.map((function(e){return{id:e.id,cover:e.cover,label:e.title,type:e.type,table:e.table,value:e.path}}))},filesSource:{set:function(e){this.$store.dispatch("datasets/setFilesSource",e)},get:function(){return this.getFileManager}}})},I=L,P=(n("2fde"),Object(d["a"])(I,D,A,!1,null,"5d779de8",null)),M=P.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-settings"},[e._v(" "+e._s(e.type)+" "),"input"===e.type?n("SettingInput",{attrs:{selected:e.getSelected}}):e._e(),"handler"===e.type?n("SettingHandler",{attrs:{selected:e.getSelected}}):e._e(),"middle"===e.type?n("SettingMiddle",{attrs:{selected:e.getSelected}}):e._e(),"middle"===e.type?n("SettingMiddle",{attrs:{selected:e.getSelected}}):e._e(),"output"===e.type?n("SettingOutput",{attrs:{selected:e.getSelected}}):e._e(),e.type?e._e():n("SettingEmpty")],1)},N=[],B=(n("b0c0"),n("c740"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-settings-empty"},[n("div",{staticClass:"panel-settings-empty__title mb-4"},[e._v("Для создания датасета необходимо:")]),n("div",{staticClass:"panel-settings-empty__info pl-4"},[n("ul",[n("li",[n("span",[e._v("1. Выбрать входные чистые данные")]),n("d-svg",{attrs:{name:"sloy-start-add"}})],1),n("li",[n("span",[e._v("2. Задать обработчик")]),n("d-svg",{attrs:{name:"sloy-middle-add"}})],1),n("li",[n("span",[e._v("3. Соединить все в инпут вход один")]),n("d-svg",{attrs:{name:"sloy-handler-add"}})],1)])])])}),K=[],X={},Y=X,H=(n("f244"),Object(d["a"])(Y,B,K,!1,null,null,null)),q=H.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-input"},[n("div",{staticClass:"panel-input__view"},[e._l(e.mixinFiles,(function(t,i){return["folder"===t.type?n("CardFile",e._b({key:"files_"+i},"CardFile",t,!1)):e._e(),"table"===t.type?n("CardTable",e._b({key:"files_"+i},"CardTable",t,!1)):e._e()]}))],2),n("div",{staticClass:"panel-input__forms"},[n("t-field",{attrs:{label:"Данные"}},[n("d-select",{attrs:{value:1,list:e.listFiles}})],1)],1)])},U=[],W={components:{CardFile:F["a"],CardTable:T["a"]},props:{selected:{type:Object}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getFileManager:"createDataset/getFileManager"})),{},{mixinFiles:function(){return this.getFileManager.map((function(e){return console.log(e),{id:e.id,cover:e.cover,label:e.title,type:e.type,table:e.table,value:e.path}}))},listFiles:function(){return this.getFileManager.map((function(e){return{label:e.title,value:e.value}}))}})},z=W,J=(n("3916"),Object(d["a"])(z,R,U,!1,null,null,null)),Q=J.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.formsHandler,(function(t,i){return[n("TAutoFieldHandler",e._b({key:i,attrs:{parameters:{},idKey:"key_"+i,root:""},on:{change:e.change}},"TAutoFieldHandler",t,!1))]}))],2)},Z=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"forms"},["multiselect_sources_paths"===e.type?n("t-multi-select",{attrs:{id:e.id,name:"sources_paths",label:"Выберите путь",errors:e.error,inline:""},on:{multiselect:function(t){return e.$emit("multiselect",t)}}}):e._e(),"segmentation_manual"===e.type?n("t-segmentation-manual",{key:e.name+e.idKey,attrs:{id:e.id,label:e.label,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"segmentation_annotation"===e.type?n("t-segmentation-annotation",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,id:e.id,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"segmentation_search"===e.type?n("t-segmentation-search",{key:e.name+e.idKey,attrs:{value:e.getValue,id:e.id,label:e.label,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"tuple"===e.type?n("TInput",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"number"===e.type||"text"===e.type?n("TInput",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,type:e.type,parse:e.parse,name:e.name,error:e.error,update:e.update,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"checkbox"===e.type?n("Checkbox",{key:e.name+e.idKey,attrs:{inline:"",value:e.getValue,label:e.label,type:"checkbox",parse:e.parse,name:e.name,event:e.event,error:e.error},on:{cleanError:e.cleanError,change:e.change}}):e._e(),"select"===e.type?n("TSelect",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,lists:e.list,parse:e.parse,name:e.name,error:e.error},on:{cleanError:e.cleanError,change:e.change}}):e._e(),"select_creation_tasks"===e.type?n("t-select-tasks",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,lists:e.list,parse:e.parse,name:e.name,error:e.error},on:{cleanError:e.cleanError,change:e.change}}):e._e(),e._l(e.dataFields,(function(t,i){return[n("t-auto-field-handler",e._b({key:e.idKey+i,attrs:{idKey:e.idKey+i,id:e.id,parameters:e.parameters,update:e.update},on:{multiselect:function(t){return e.$emit("multiselect",t)},change:function(t){return e.$emit("change",t)}}},"t-auto-field-handler",t,!1))]}))],2)},te=[],ne=(n("a9e3"),n("15d1")),ie=n("63b0"),ae=n("9175"),se={name:"t-auto-field-handler",components:{TInput:ne["a"],Checkbox:ie["a"],TSelect:ae["a"]},props:{idKey:String,type:String,value:[String,Boolean,Number,Array],list:Array,event:String,label:String,parse:String,name:String,fields:Object,id:Number,root:Boolean,parameters:Object,update:Object,isAudio:Number},data:function(){return{valueIn:null}},computed:{getValue:function(){var e,t;return null!==(e=null===(t=this.parameters)||void 0===t?void 0:t[this.name])&&void 0!==e?e:this.value},errors:function(){return this.$store.getters["datasets/getErrors"](this.id)},error:function(){var e,t,n,i,a,s=this.name;return(null===(e=this.errors)||void 0===e||null===(t=e[s])||void 0===t?void 0:t[0])||(null===(n=this.errors)||void 0===n||null===(i=n.parameters)||void 0===i||null===(a=i[s])||void 0===a?void 0:a[0])||""},dataFields:function(){return this.fields&&this.fields[this.valueIn]?this.fields[this.valueIn]:[]}},methods:{change:function(e){var t=this,n=e.value,i=e.name;this.valueIn=null,this.$emit("change",{id:this.id,value:n,name:i,root:this.root}),this.$nextTick((function(){t.valueIn=n}))},cleanError:function(){this.$store.dispatch("datasets/cleanError",{id:this.id,name:this.name})}},created:function(){},mounted:function(){var e=this;this.$emit("change",{id:this.id,value:this.getValue,name:this.name,root:this.root}),this.$nextTick((function(){e.valueIn=e.getValue})),this.$emit("height",this.$el.clientHeight)}},le=se,re=Object(d["a"])(le,ee,te,!1,null,null,null),oe=re.exports,ce={components:{TAutoFieldHandler:oe},computed:Object(r["a"])({},Object(o["c"])({formsHandler:"datasets/getFormsHandler"}))},ue=ce,de=Object(d["a"])(ue,G,Z,!1,null,null,null),he=de.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.input,(function(t,i){return[n("TAutoField",e._b({key:"inputData.color"+i,attrs:{parameters:e.parameters,idKey:"key_"+i,id:i+3,update:e.mixinUpdateDate,isAudio:e.isAudio,root:""},on:{multiselect:e.mixinUpdate,change:e.mixinChange}},"TAutoField",t,!1))]}))],2)},fe=[],ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"forms"},["multiselect_sources_paths"===e.type?n("t-multi-select",{attrs:{id:e.id,name:"sources_paths",label:"Выберите путь",errors:e.error,inline:""},on:{multiselect:function(t){return e.$emit("multiselect",t)}}}):e._e(),"segmentation_manual"===e.type?n("t-segmentation-manual",{key:e.name+e.idKey,attrs:{id:e.id,label:e.label,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"segmentation_annotation"===e.type?n("t-segmentation-annotation",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,id:e.id,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"segmentation_search"===e.type?n("t-segmentation-search",{key:e.name+e.idKey,attrs:{value:e.getValue,id:e.id,label:e.label,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"tuple"===e.type?n("TInput",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,type:"text",parse:e.parse,name:e.name,error:e.error,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"number"===e.type||"text"===e.type?n("TInput",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,type:e.type,parse:e.parse,name:e.name,error:e.error,update:e.update,inline:""},on:{change:e.change,cleanError:e.cleanError}}):e._e(),"checkbox"===e.type?n("Checkbox",{key:e.name+e.idKey,attrs:{inline:"",value:e.getValue,label:e.label,type:"checkbox",parse:e.parse,name:e.name,event:e.event,error:e.error},on:{cleanError:e.cleanError,change:e.change}}):e._e(),"select"===e.type?n("TSelect",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,lists:e.list,parse:e.parse,name:e.name,error:e.error},on:{cleanError:e.cleanError,change:e.change}}):e._e(),"select_creation_tasks"===e.type?n("t-select-tasks",{key:e.name+e.idKey,attrs:{value:e.getValue,label:e.label,lists:e.list,parse:e.parse,name:e.name,error:e.error},on:{cleanError:e.cleanError,change:e.change}}):e._e(),e._l(e.dataFields,(function(t,i){return[n("t-auto-field",e._b({key:e.idKey+i,attrs:{idKey:e.idKey+i,id:e.id,parameters:e.parameters,update:e.update},on:{multiselect:function(t){return e.$emit("multiselect",t)},change:function(t){return e.$emit("change",t)}}},"t-auto-field",t,!1))]}))],2)},me=[],ge={name:"t-auto-field",components:{TInput:ne["a"],Checkbox:ie["a"],TSelect:ae["a"]},props:{idKey:String,type:String,value:[String,Boolean,Number,Array],list:Array,event:String,label:String,parse:String,name:String,fields:Object,id:Number,root:Boolean,parameters:Object,update:Object,isAudio:Number},data:function(){return{valueIn:null,audio:[{type:"select",name:"parameter",label:"Параметр",parse:"parameter",value:"audio_signal",disabled:!1,list:[{value:"audio_signal",label:"Audio signal"},{value:"chroma_stft",label:"Chroma STFT"},{value:"mfcc",label:"MFCC"},{value:"rms",label:"RMS"},{value:"spectral_centroid",label:"Spectral centroid"},{value:"spectral_bandwidth",label:"Spectral bandwidth"},{value:"spectral_rolloff",label:"Spectral roll-off"},{value:"zero_crossing_rate",label:"Zero-crossing rate"}],fields:null,api:null}]}},computed:{getValue:function(){var e,t;return null!==(e=null===(t=this.parameters)||void 0===t?void 0:t[this.name])&&void 0!==e?e:this.value},errors:function(){return this.$store.getters["datasets/getErrors"](this.id)},error:function(){var e,t,n,i,a,s=this.name;return(null===(e=this.errors)||void 0===e||null===(t=e[s])||void 0===t?void 0:t[0])||(null===(n=this.errors)||void 0===n||null===(i=n.parameters)||void 0===i||null===(a=i[s])||void 0===a?void 0:a[0])||""},dataFields:function(){return"type"===this.name&&"Audio"===this.valueIn&&this.isAudio!==this.id?this.audio:this.fields&&this.fields[this.valueIn]?this.fields[this.valueIn]:[]}},methods:{change:function(e){var t=this,n=e.value,i=e.name;this.valueIn=null,this.$emit("change",{id:this.id,value:n,name:i,root:this.root}),this.$nextTick((function(){t.valueIn=n}))},cleanError:function(){this.$store.dispatch("datasets/cleanError",{id:this.id,name:this.name})}},created:function(){},mounted:function(){var e=this;this.$emit("change",{id:this.id,value:this.getValue,name:this.name,root:this.root}),this.$nextTick((function(){e.valueIn=e.getValue})),this.$emit("height",this.$el.clientHeight)}},be=ge,_e=Object(d["a"])(be,ve,me,!1,null,null,null),ye=_e.exports,ke={components:{TAutoField:ye},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getDefault:"create/getDefault"})),{},{input:function(){return this.getDefault("input")}})},Se=ke,xe=Object(d["a"])(Se,pe,fe,!1,null,null,null),Ce=xe.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.formsHandler,(function(t,i){return[n("TAutoFieldHandler",e._b({key:i,attrs:{parameters:{},idKey:"key_"+i,root:""},on:{change:e.change}},"TAutoFieldHandler",t,!1))]}))],2)},Oe=[],je={components:{TAutoFieldHandler:oe},computed:Object(r["a"])({},Object(o["c"])({getSelected:"create/getSelected",getFileManager:"createDataset/getFileManager",getDefault:"create/getDefault"}))},$e=je,Ee=Object(d["a"])($e,we,Oe,!1,null,null,null),De=Ee.exports,Ae={name:"DatasetSettings",components:{SettingEmpty:q,SettingInput:Q,SettingMiddle:Ce,SettingHandler:he,SettingOutput:De},data:function(){return{show:!0,ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({getSelected:"create/getSelected"})),{},{type:function(){var e;return(null===this||void 0===this||null===(e=this.getSelected)||void 0===e?void 0:e.type)||""}}),created:function(){var e=this.$store.getters["datasets/getFilesSource"];console.log(e),this.table=e.filter((function(e){return"table"===e.type})).reduce((function(e,t){return e[t.title]=[],e}),{})},methods:{change:function(e){var t=e.id,n=e.value,i=e.name,a=this.handlers.findIndex((function(e){return e.id===t}));"name"===i&&(this.handlers[a].name=n),"type"===i&&(this.handlers[a].type=n),this.handlers[a]&&(this.handlers[a].parameters[i]=n),this.handlers=Object(g["a"])(this.handlers)},select:function(e){this.handlers=this.handlers.map((function(t){return t.active=t.id===e,t}))},deselect:function(){this.handlers=this.handlers.map((function(e){return e.active=!1,e}))},handleAdd:function(){if(this.show){console.log(this.table),this.deselect();var e=Math.max.apply(Math,[0].concat(Object(g["a"])(this.handlers.map((function(e){return e.id})))));this.handlers.push({id:e+1,name:"Name_"+(e+1),active:!0,color:this.colors[this.handlers.length],layer:(this.handlers.length+1).toString(),type:"",table:JSON.parse(JSON.stringify(this.table)),parameters:{}}),console.log(this.handlers)}},handleClick:function(e,t){if("remove"===e&&(this.deselect(),this.handlers=this.handlers.filter((function(e){return e.id!==t}))),console.log(e),"copy"===e){this.deselect();var n=JSON.parse(JSON.stringify(this.handlers.filter((function(e){return e.id==t})))),i=Math.max.apply(Math,[0].concat(Object(g["a"])(this.handlers.map((function(e){return e.id})))));n[0].id=i+1,n[0].name="Name_"+(i+1),this.handlers=[].concat(Object(g["a"])(this.handlers),Object(g["a"])(n))}}}},Fe=Ae,Te=(n("4b70"),Object(d["a"])(Fe,V,N,!1,null,null,null)),Le=Te.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabs-download"},[n("div",{staticClass:"tabs-download-list flex align-center"},e._l(e.items,(function(t){var i=t.text,a=t.tab;return n("div",{key:"tab_"+a,class:["tabs-download-list__item",{"tabs-download-list__item--active":e.isActive(a)}],on:{click:function(t){return e.onTabs(a)}}},[e._v(" "+e._s(i)+" ")])})),0),n("div",{staticClass:"tabs-download-content mt-10"},[0===e.project.active?n("t-field",{attrs:{icon:"google",label:"Выберите файл на Google диске"}},[n("d-auto-complete",{attrs:{icon:"google-drive",placeholder:"Введите имя файла",list:e.getFilesSource},on:{click:e.getDatasetSources,change:function(t){return e.onSelect({mode:"GoogleDrive",value:t.value})}},model:{value:e.project.google,callback:function(t){e.$set(e.project,"google",t)},expression:"project.google"}})],1):e._e(),1===e.project.active?n("t-field",{attrs:{icon:"link",label:"Загрузите по ссылке"}},[n("d-input-text",{attrs:{placeholder:"URL"},on:{blur:function(t){return e.onSelect({mode:"URL",value:t.target.value})}},model:{value:e.project.url,callback:function(t){e.$set(e.project,"url",t)},expression:"project.url"}})],1):e._e()],1),n("div",[n("t-field",{attrs:{label:"Название датасета"}},[n("d-input-text",{model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}})],1),n("t-field",{attrs:{label:"Версия"}},[n("d-input-text",{model:{value:e.project.version,callback:function(t){e.$set(e.project,"version",t)},expression:"project.version"}})],1),n("div",{staticClass:"mb-2"},[n("DTags",{model:{value:e.project.tags,callback:function(t){e.$set(e.project,"tags",t)},expression:"project.tags"}})],1),n("div",[n("DSlider",{model:{value:e.project.train,callback:function(t){e.$set(e.project,"train",t)},expression:"project.train"}})],1),n("t-field",{attrs:{label:"Сохранить последовательность"}},[n("d-checkbox",{model:{value:e.project.shuffle,callback:function(t){e.$set(e.project,"shuffle",t)},expression:"project.shuffle"}})],1),n("t-field",{attrs:{label:"Использовать генератор"}},[n("d-checkbox",{model:{value:e.project.use_generator,callback:function(t){e.$set(e.project,"use_generator",t)},expression:"project.use_generator"}})],1)],1)])},Pe=[],Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t-field"},[n("div",{staticClass:"t-field__label"},[e._v("Train / Val")]),n("div",{ref:"slider",class:["d-slider",{"d-slider--disable":e.disable}],on:{mouseleave:e.stopDrag,mouseup:e.stopDrag}},[n("div",{staticClass:"d-slider__inputs"},[n("input",{attrs:{name:"[info][part][train]",type:"number","data-degree":e.degree},domProps:{value:e.btnFirstVal}}),n("input",{attrs:{name:"[info][part][validation]",type:"number","data-degree":e.degree},domProps:{value:100-e.btnFirstVal}})]),n("div",{staticClass:"d-slider__scales"},[n("div",{staticClass:"scales__first",style:e.firstScale},[n("input",{directives:[{name:"autowidth",rawName:"v-autowidth"}],key:e.key1,ref:"key1",attrs:{type:"number",autocomplete:"off"},domProps:{value:e.btnFirstVal},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inter(1,t)},blur:function(t){return e.clickInput(1,t)},focus:e.focus}})]),n("div",{staticClass:"scales__second",style:e.secondScale},[n("input",{directives:[{name:"autowidth",rawName:"v-autowidth"}],key:e.key2,ref:"key2",attrs:{type:"number",autocomplete:"off"},domProps:{value:100-e.btnFirstVal},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inter(2,t)},blur:function(t){return e.clickInput(2,t)},focus:e.focus}})])]),n("div",{ref:"between",staticClass:"d-slider__between"},[n("button",{staticClass:"d-slider__btn-1",style:e.sliderFirstStyle,on:{mousedown:e.startDragFirst,mouseup:e.stopDragFirst}})])])])},Ve=[],Ne={name:"d-slider",props:{degree:Number,disable:Boolean,value:{type:Number,default:70}},data:function(){return{input:0,select:0,firstBtnDrag:!1,key1:1,key2:1}},methods:{focus:function(e){var t=e.target;t.select()},inter:function(e,t){var n=t.target;n.blur();var i=this.$refs["key".concat(e+1)];i&&(i.focus(),this.$nextTick((function(){i.select()})))},clickInput:function(e,t){var n=t.target,i=+n.value;1===e&&i>=0&&i<=90&&(this.btnFirstVal=i>10?i:10),2===e&&i>=0&&i<=90&&(this.btnFirstVal=i>10?100-i:10),this["key".concat(e)]+=1},stopDrag:function(){this.$refs.slider.removeEventListener("mousemove",this.firstBtn)},startDragFirst:function(){this.firstBtnDrag=!0,this.$refs.slider.addEventListener("mousemove",this.firstBtn)},stopDragFirst:function(){this.$refs.slider.removeEventListener("mousemove",this.firstBtn),this.firstBtnDrag=!1},firstBtn:function(e){if(this.firstBtnDrag){var t=document.querySelector(".d-slider__btn-1"),n=e.pageX-t.parentNode.getBoundingClientRect().x,i=this.$refs.slider.clientWidth;this.btnFirstVal=Math.round(n/i*100),console.log(this.btnFirstVal),this.btnFirstVal<10&&(this.btnFirstVal=10),this.btnFirstVal>90&&(this.btnFirstVal=90)}},diff:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e<n&&(e=n),e>t&&(e=t),e}},computed:{sliderFirstStyle:function(){return{left:this.diff(this.btnFirstVal,90)+"%"}},sliderSecondStyle:function(){return{left:this.diff(this.btnFirstVal,90)+"%"}},firstScale:function(){return{width:this.diff(this.btnFirstVal,90)+"%"}},secondScale:function(){return{width:this.diff(100-this.btnFirstVal,90)+"%"}},btnFirstVal:{set:function(e){this.$emit("input",e)},get:function(){return this.value}}},watch:{disable:function(e){this.btnFirstVal=e?0:70}}},Be=Ne,Ke=(n("b0da"),Object(d["a"])(Be,Me,Ve,!1,null,"133910f9",null)),Xe=Ke.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["t-field",{"t-inline":e.inline}]},[n("label",{staticClass:"t-field__label",attrs:{for:e.parse}},[e._v(e._s(e.label))]),n("div",{staticClass:"d-tags"},[n("button",{staticClass:"d-tags__add mr-2",attrs:{type:"button"}},[n("i",{staticClass:"d-tags__add--icon t-icon icon-tag-plus",on:{click:e.create}}),n("input",{staticClass:"d-tags__add--input",attrs:{type:"text",disabled:e.tags.length>=3,placeholder:"Добавить"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.create.apply(null,arguments))}}})]),e._l(e.tags,(function(t,i){var a=t.value;return[n("div",{key:"tag_"+i,staticClass:"d-tags__item mr-2"},[n("input",{staticClass:"d-tags__input",style:{width:8*(a.length+1)<=90?8*(a.length+1)+"px":"90px"},attrs:{"data-index":i,name:"[tags][][name]",type:"text",autocomplete:"off"},domProps:{value:a},on:{input:e.change,blur:e.blur}}),n("i",{staticClass:"d-tags__remove--icon t-icon icon-tag-plus",on:{click:function(t){return e.removeTag(i)}}})])]}))],2)])},He=[],qe={name:"t-input",props:{label:{type:String,default:"Теги"},type:{type:String,default:"text"},value:{type:Array},parse:String,name:String,inline:Boolean,disabled:Boolean},data:function(){return{}},computed:{tags:{set:function(e){this.$emit("input",e)},get:function(){return this.value}}},methods:{removeTag:function(e){this.tags=this.tags.filter((function(t,n){return n!==+e}))},create:function(){var e,t=null===(e=this.$el.getElementsByClassName("d-tags__add--input"))||void 0===e?void 0:e[0];console.log(t.value),t.value&&t.value.length>=3&&this.tags.length<=3&&(this.tags.push({value:t.value}),this.tags=Object(g["a"])(this.tags),t.value="")},change:function(e){var t=e.target.dataset.index;console.log(t),e.target.value.length>=3&&(this.tags[+t].value=e.target.value)},blur:function(e){var t=e.target.dataset.index;e.target.value.length<=2&&(this.tags=this.tags.filter((function(e,n){return n!==+t})))}}},Re=qe,Ue=(n("7a68"),Object(d["a"])(Re,Ye,He,!1,null,"d57d1126",null)),We=Ue.exports,ze={name:"DatasetDownloadTabs",components:{DSlider:Xe,DTags:We},data:function(){return{items:[{text:"Google диск",tab:0},{text:"URL",tab:1}],active:0}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])("createDataset",["getFilesSource","getProject"])),{},{project:{set:function(e){this.setProject(e)},get:function(){return this.getProject}}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("createDataset",["getDatasetSources","setSelectSource"])),{},{isActive:function(e){return this.project.active===e},onSelect:function(e){this.setSelectSource(e)},onTabs:function(e){this.project.active=e,this.project.google="",this.project.url="",this.setSelectSource({})}})},Je=ze,Qe=(n("2aaa"),Object(d["a"])(Je,Ie,Pe,!1,null,"24c47416",null)),Ge=Qe.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dataset-helpers"},[e._m(0),n("div",{staticClass:"dataset-helpers-list mt-5 ml-5"},[n("ul",{staticClass:"dataset-helpers-list__menu"},[n("li",{staticClass:"flex align-center"},[n("span",{staticClass:"panel-text-gray"},[e._v("1. Выбрать входные чистые данные")]),n("d-svg",{attrs:{name:"sloy-start-add"}})],1),n("li",{staticClass:"flex align-center"},[n("span",{staticClass:"panel-text-gray"},[e._v("2. Задать обработчик")]),n("d-svg",{attrs:{name:"sloy-middle-add"}})],1),n("li",{staticClass:"flex align-center"},[n("span",{staticClass:"panel-text-gray"},[e._v("3. Соединить все в инпут вход один")]),n("d-svg",{attrs:{name:"sloy-end-add"}})],1)])])])},et=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dataset-helpers-header"},[n("p",[e._v("Для создания датасета необходимо:")])])}],tt={name:"DatasetHelpers"},nt=tt,it=(n("8728"),Object(d["a"])(nt,Ze,et,!1,null,"af400e0c",null)),at=it.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-pagination"},[n("button",{staticClass:"d-pagination__btn",attrs:{disabled:e.isDisabled},on:{click:function(t){return e.$emit("prev",t)}}},[n("d-svg",{attrs:{name:"arrow-carret-left-longer-big"}})],1),n("div",{staticClass:"d-pagination__inner"},[n("div",{staticClass:"d-pagination__list"},e._l(e.qty,(function(t){return n("div",{key:t,class:["d-pagination__item",{"d-pagination__item--active":e.isActive(t)}]})})),0),n("div",{staticClass:"d-pagination__title"},[n("span",[e._v(e._s(e.title))])])]),n("d-button",{staticStyle:{width:"40%"},attrs:{color:"secondary",direction:"left",text:"Далее",disabled:e.isStatus},on:{click:function(t){return e.$emit("next",t)}}})],1)},lt=[],rt={name:"DPagination",props:{qty:{type:Number,default:4},title:{type:String,default:""},value:{type:Number,default:0}},data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({project:"createDataset/getProject"})),{},{isDisabled:function(){return 1===this.value},isStatus:function(){var e,t,n,i;return!(1!==this.value||(null!==this&&void 0!==this&&null!==(e=this.project)&&void 0!==e&&e.url||null!==this&&void 0!==this&&null!==(t=this.project)&&void 0!==t&&t.google)&&null!==this&&void 0!==this&&null!==(n=this.project)&&void 0!==n&&n.name&&null!==this&&void 0!==this&&null!==(i=this.project)&&void 0!==i&&i.version)}}),methods:{isActive:function(e){return this.value===e}}},ot=rt,ct=(n("f96a"),Object(d["a"])(ot,st,lt,!1,null,null,null)),ut=ct.exports,dt={components:{Preview:M,Settings:Le,Download:Ge,Pagination:ut,Helpers:at},data:function(){return{debounce:null,list:[{id:1,title:"Download",component:"download"},{id:2,title:"Preview",component:"Preview"},{id:3,title:"Settings",component:"settings"},{id:4,title:"Helpers",component:"helpers"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({select:"createDataset/getSelectSource",getPagination:"createDataset/getPagination"})),{},{getComp:function(){var e=this;return this.list.find((function(t){return t.id===e.value}))},value:{set:function(e){this.setPagination(e)},get:function(){return this.getPagination}}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])({setSourceLoad:"createDataset/setSourceLoad",sourceLoadProgress:"createDataset/sourceLoadProgress",setPagination:"createDataset/setPagination",setOverlay:"settings/setOverlay"})),{},{onNext:function(){1===this.value&&this.onDownload(),this.value<this.list.length&&(this.value=this.value+1)},onPrev:function(){this.value>1&&(this.value=this.value-1)},onProgress:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.sourceLoadProgress();case 2:i=t.sent,null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.finished?e.setOverlay(!1):e.debounce(!0);case 4:case"end":return t.stop()}}),t)})))()},onDownload:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.select,i=n.mode,a=n.value,t.next=3,e.setSourceLoad({mode:i,value:a});case 3:s=t.sent,s&&(e.setOverlay(!0),e.debounce(!0));case 5:case"end":return t.stop()}}),t)})))()}}),created:function(){var e=this;this.debounce=Object(E["a"])((function(t){t&&e.onProgress()}),1e3)},beforeDestroy:function(){this.debounce(!1)}},ht=dt,pt=(n("0052"),Object(d["a"])(ht,O,j,!1,null,null,null)),ft=pt.exports,vt={name:"Datasets",components:{Toolbar:p,Blocks:w,Params:ft},data:function(){return{state:1}},methods:{onToolbar:function(e){console.log(e)}}},mt=vt,gt=(n("506e"),Object(d["a"])(mt,i,a,!1,null,null,null));t["default"]=gt.exports},1566:function(e,t,n){},"15d1":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["t-field",{"t-inline":e.inline}]},[n("label",{staticClass:"t-field__label",on:{click:function(t){e.$el.getElementsByTagName("input")[0].focus()}}},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2),"checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],class:["t-field__input",{small:e.small},{"t-field__error":e.error}],attrs:{name:e.name||e.parse,disabled:e.disabled,"data-degree":e.degree,autocomplete:"off",type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(e.input)?e._i(e.input,e.value)>-1:e.input},on:{blur:e.change,focus:e.focus,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1},change:function(t){var n=e.input,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e.value,l=e._i(n,s);i.checked?l<0&&(e.input=n.concat([s])):l>-1&&(e.input=n.slice(0,l).concat(n.slice(l+1)))}else e.input=a}}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],class:["t-field__input",{small:e.small},{"t-field__error":e.error}],attrs:{name:e.name||e.parse,disabled:e.disabled,"data-degree":e.degree,autocomplete:"off",type:"radio"},domProps:{value:e.value,checked:e._q(e.input,e.value)},on:{blur:e.change,focus:e.focus,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1},change:function(t){e.input=e.value}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],class:["t-field__input",{small:e.small},{"t-field__error":e.error}],attrs:{name:e.name||e.parse,disabled:e.disabled,"data-degree":e.degree,autocomplete:"off",type:e.type},domProps:{value:e.value,value:e.input},on:{blur:e.change,focus:e.focus,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1},input:function(t){t.target.composing||(e.input=t.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.error&&e.hover,expression:"error && hover"}],class:["t-field__hint",{"t-inline__hint":e.inline}]},[n("span",[e._v(e._s(e.error))])])])},a=[],s=(n("a9e3"),n("b0c0"),{name:"t-input",props:{label:{type:String,default:"Label"},type:{type:String,default:"text"},value:{type:[String,Number,Array]},parse:String,name:String,inline:Boolean,disabled:Boolean,small:Boolean,error:String,degree:Number,update:Object},data:function(){return{isChange:!1,hover:!1}},computed:{input:{set:function(e){this.$emit("input",e),this.isChange=!0},get:function(){return this.value}}},methods:{focus:function(e){this.$emit("focus",e),this.error&&this.$emit("cleanError",!0)},change:function(e){var t=e.target.value;this.isChange&&""!==t&&(t="number"===this.type?+t:t,this.$emit("change",{name:this.name,value:t}),this.$emit("parse",{name:this.name,parse:this.parse,value:t})),this.isChange=!1}},created:function(){this.input=this.value},watch:{update:function(e){var t=this;console.log(e),e[this.name]&&(console.log("ok"),this.$el.getElementsByTagName("input")[0].value=e[this.name],this.$nextTick((function(){t.input=e[t.name]})))}}}),l=s,r=(n("c88f"),n("2877")),o=Object(r["a"])(l,i,a,!1,null,"2a1e0160",null);t["a"]=o.exports},"1ddc":function(e,t,n){"use strict";n("5630")},"27c3":function(e,t,n){"use strict";n("6400")},"2aa3":function(e,t,n){"use strict";n("ccc0")},"2aaa":function(e,t,n){"use strict";n("1566")},"2fde":function(e,t,n){"use strict";n("917a")},"305f":function(e,t,n){},"37d0":function(e,t,n){},3916:function(e,t,n){"use strict";n("773a")},"3e0e":function(e,t,n){},4328:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t-table"},[n("div",{staticClass:"t-table__header"}),n("div",{staticClass:"t-table__data"},[n("div",{staticClass:"t-table__col",style:{padding:"1px 0"}},e._l(6,(function(t,i){return n("div",{key:"idx_r_"+t,staticClass:"t-table__row"},[e._v(e._s(i||""))])})),0),n("div",{staticClass:"t-table__border"},e._l(e.origTable,(function(t,i){return n("div",{key:"row_"+i,class:["t-table__col",{"t-table__col--active":t.active}],style:e.getColor,on:{click:function(n){return e.select(t,n)}}},[e._l(t,(function(t,i){return[i<=5?n("div",{key:"item_"+i,staticClass:"t-table__row"},[e._v(" "+e._s(t)+" ")]):e._e()]})),n("div",{staticClass:"t-table__select"},e._l(e.all(t),(function(e,t){return n("div",{key:"all"+t,staticClass:"t-table__circle",style:e})})),0)],2)})),0)]),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.outside,expression:"outside"}],staticClass:"t-table__footer"},[n("span",[e._v(e._s(e.label))]),n("div",{staticClass:"t-table__footer--btn",on:{click:function(t){e.show=!0}}},[n("i",{staticClass:"t-icon icon-file-dot"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"t-table__dropdown"},e._l(e.items,(function(t,i){var a=t.icon,s=t.event;return n("div",{key:"icon"+i,staticClass:"t-table__dropdown--item",on:{click:function(t){e.$emit("event",{label:e.label,event:s}),e.show=!1}}},[n("i",{class:["t-icon",a]})])})),0)])])},a=[],s=n("3835"),l=(n("a9e3"),n("7db0"),n("d3b7"),n("d81d"),n("caad"),n("2532"),n("4de4"),{name:"CardTable",props:{label:String,type:String,id:Number,cover:String,table:Array,value:String},data:function(){return{show:!1,items:[{icon:"icon-deploy-remove",event:"remove"}]}},computed:{getColor:function(){var e=this.handlers.find((function(e){return e.active}));return{borderColor:(null===e||void 0===e?void 0:e.color)||""}},origTable:function(){var e=this;return this.table.map((function(t){return t.active=e.selected.includes(t[0]),t}))},handlers:{set:function(e){this.$store.dispatch("tables/setHandlers",e)},get:function(){return this.$store.getters["tables/getHandlers"]}},selected:{set:function(e){var t=this;this.handlers=this.handlers.map((function(n){return n.active&&n.table[t.label]&&(n.table[t.label]=e),n}))},get:function(){var e=this.handlers.find((function(e){return e.active}));return e?e.table[this.label]:[]}}},methods:{outside:function(){this.show=!1},all:function(e){var t=this,n=Object(s["a"])(e,1),i=n[0];return this.handlers.filter((function(e){return e.table[t.label].includes(i)})).map((function(e,t){return{backgroundColor:e.color,top:-3*t+"px"}}))},select:function(e){var t=Object(s["a"])(e,1),n=t[0];this.selected.find((function(e){return e===n}))?this.selected=this.selected.filter((function(e){return e!==n})):this.selected.push(n)}}}),r=l,o=(n("ad58"),n("2877")),c=Object(o["a"])(r,i,a,!1,null,"137e7a5b",null);t["a"]=c.exports},"4b70":function(e,t,n){"use strict";n("0213")},"4d91":function(e,t,n){},"506e":function(e,t,n){"use strict";n("be11")},5630:function(e,t,n){},"5ee8":function(e,t,n){},6280:function(e,t,n){},"63b0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["t-field",{"t-inline":e.inline}]},[n("label",{staticClass:"t-field__label",on:{click:e.clickLabel}},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2),n("div",{staticClass:"t-field__switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checVal,expression:"checVal"}],class:["t-field__input",{"t-field__error":e.error}],attrs:{type:"checkbox",name:e.parse,id:e.name,"data-reverse":e.reverse},domProps:{checked:e.checVal?"checked":"",value:e.checVal,checked:Array.isArray(e.checVal)?e._i(e.checVal,e.checVal)>-1:e.checVal},on:{change:[function(t){var n=e.checVal,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e.checVal,l=e._i(n,s);i.checked?l<0&&(e.checVal=n.concat([s])):l>-1&&(e.checVal=n.slice(0,l).concat(n.slice(l+1)))}else e.checVal=a},e.change],mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}}),n("span")]),e.error&&e.hover?n("div",{staticClass:"t-field__hint"},[n("span",[e._v(e._s(e.error))])]):e._e()])},a=[],s=(n("b0c0"),{name:"t-checkbox",props:{label:{type:String,default:"Label"},inline:Boolean,value:Boolean,name:String,parse:String,error:String,reverse:Boolean,event:{type:Array,default:function(){return[]}}},data:function(){return{checVal:!1,hover:!1}},methods:{change:function(e){var t=e.target.checked;this.$emit("change",{name:this.name,value:t}),this.$emit("parse",{parse:this.parse,value:t}),this.error&&this.$emit("cleanError",!0)},clickLabel:function(){this.checVal=!this.checVal,this.$emit("change",{name:this.name,value:this.checVal}),this.$emit("parse",{name:this.name,parse:this.parse,value:this.checVal})}},created:function(){this.checVal=this.value}}),l=s,r=(n("c23e"),n("2877")),o=Object(r["a"])(l,i,a,!1,null,"79dcb2e8",null);t["a"]=o.exports},6400:function(e,t,n){},"6a15":function(e,t,n){},"730f":function(e,t,n){},"773a":function(e,t,n){},"7a68":function(e,t,n){"use strict";n("809b")},"809b":function(e,t,n){},8639:function(e,t,n){"use strict";n("730f")},8728:function(e,t,n){"use strict";n("5ee8")},9175:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t-field"},[n("label",{staticClass:"t-field__label"},[e._v(e._s(e.label))]),n("input",{staticStyle:{display:"none"},attrs:{name:e.parse},domProps:{value:e.select}}),n("AtSelect",{staticClass:"t-field__select",attrs:{size:"small",disabled:e.disabled,width:"150px"},on:{"on-change":e.change},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},e._l(e.items,(function(t,i){var a=t.label,s=t.value;return n("at-option",{key:"item_"+i,attrs:{value:s}},[e._v(" "+e._s(a)+" ")])})),1)],1)},a=[],s=(n("a9e3"),n("d81d"),n("b64b"),n("b0c0"),function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],class:["at-select",(e={"at-select--visible":this.visible,"at-select--disabled":this.disabled,"at-select--multiple":this.multiple,"at-select--single":!this.multiple,"at-select--show-clear":this.showCloseIcon},e["at-select--"+this.size]=!!this.size,e)]},[i("div",{ref:"trigger",class:["at-select__selection",{"at-select__selection--active":this.visible}],style:"width: "+t.width,on:{click:t.toggleMenu}},[t._l(t.selectedMultiple,(function(e,n){return i("span",{key:"indedsx_"+n,staticClass:"at-tag"},[i("span",{staticClass:"at-tag__text"},[t._v(t._s(e.label))]),i("i",{staticClass:"icon icon-x at-tag__close",on:{click:function(e){return e.stopPropagation(),t.removeTag(n)}}})])})),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showPlaceholder&&!t.filterable,expression:"showPlaceholder && !filterable"}],staticClass:"at-select__placeholder"},[t._v(t._s(t.localePlaceholder))]),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.showPlaceholder&&!t.multiple&&!t.filterable,expression:"!showPlaceholder && !multiple && !filterable"}],staticClass:"at-select__selected"},[t._v(t._s(t.selectedSingle))]),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"at-select__input",attrs:{type:"text",placeholder:t.showPlaceholder?t.localePlaceholder:""},domProps:{value:t.query},on:{blur:t.handleBlur,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.handleInputDelete.apply(null,arguments)},input:function(e){e.target.composing||(t.query=e.target.value)}}}):t._e(),i("div",{staticClass:"at-select__arrow-border"}),i("i",{staticClass:"t-icon icon-file-arrow at-select__arrow"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.showCloseIcon,expression:"showCloseIcon"}],staticClass:"icon icon-x at-select__clear",on:{click:function(e){return e.stopPropagation(),t.clearSingleSelect.apply(null,arguments)}}})],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"popover",staticClass:"at-select__dropdown",class:[t.placement?"at-select__dropdown--"+t.placement:"at-select__dropdown--bottom"]},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.notFound,expression:"notFound"}],staticClass:"at-select__not-found"},[i("li",[t._v(t._s(t.localeNotFoundText))])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:!t.notFound,expression:"!notFound"}],ref:"options",staticClass:"at-select__list"},[t._t("default")],2)])])}),l=[],r=n("53ca"),o=(n("d3b7"),n("159b"),n("a434"),n("5931")),c=n("f6f0"),u=n("6110"),d=n("390a"),h=n("2482"),p={name:"AtSelect",mixins:[c["a"],u["a"],d["a"]],directives:{Clickoutside:o["a"]},props:{value:{type:[String,Number,Array],default:""},trigger:{type:String,default:"click"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},size:{type:String,default:"normal",validator:function(e){return["normal","small","large"].indexOf(e)>-1}},valueWithLabel:{type:Boolean,default:!1},notFoundText:{type:String},placement:{type:String,default:"bottom"},width:{type:String,required:!1}},data:function(){return{visible:!1,options:[],optionInstances:[],selectedSingle:"",selectedMultiple:[],focusIndex:0,query:"",notFound:!1,model:this.value}},provide:function(){return{select:this}},computed:{showPlaceholder:function(){var e=!1;return(""===this.model||Array.isArray(this.model)&&!this.model.length)&&(e=!0),e},showCloseIcon:function(){return!this.multiple&&this.clearable&&!this.showPlaceholder},localePlaceholder:function(){return"undefined"===typeof this.placeholder?this.t("at.select.placeholder"):this.placeholder},localeNotFoundText:function(){return"undefined"===typeof this.notFoundText?this.t("at.select.notFoundText"):this.notFoundText}},watch:{value:function(e){this.model=e,""===e&&(this.query="")},model:function(){this.$emit("input",this.model),this.modelToQuery(),this.multiple?this.updateMultipleSelected():this.updateSingleSelected()},visible:function(e){var t=this;e?this.multiple&&this.filterable?this.$refs.input.focus():this.filterable&&this.$refs.input.select():(this.filterable&&(this.$refs.input.blur(),setTimeout((function(){t.broadcastQuery("")}),300)),this.broadcast("Dropdown","on-destroy-popper"))},query:function(e){var t=this;this.broadcast("AtOption","on-query-change",e);var n=!0;this.$nextTick((function(){var e=Object(h["d"])(t,"AtOption");e.forEach((function(e){e.hidden||(n=!1)})),t.notFound=n})),this.broadcast("Dropdown","on-update-popper")}},methods:{toggleMenu:function(){this.disabled||(this.visible=!this.visible)},hideMenu:function(){this.visible=!1,this.focusIndex=0,this.broadcast("AtOption","on-select-close")},handleClose:function(){this.hideMenu()},handleKeydown:function(e){if(this.visible){var t=e.keyCode;if(27===t)e.preventDefault(),this.hideMenu();else if(40===t)e.preventDefault(),this.navigateOptions("next");else if(38===t)e.preventDefault(),this.navigateOptions("prev");else if(13===t){e.preventDefault();var n=!1,i=Object(h["d"])(this,"AtOption");i.forEach((function(e){e.isFocus&&(n=!0,e.doSelect())})),n||this.selectFirstOption()}}},selectFirstOption:function(){var e,t=Object(h["d"])(this,"AtOption");t.forEach((function(t){e||t.hidden||(e=t,t.doSelect())}))},updateOptions:function(){var e=this,t=[],n=Object(h["d"])(this,"AtOption");n.forEach((function(n){t.push({value:n.value,label:"undefined"===typeof n.label?n.$el.innerHTML:n.label}),e.optionInstances.push(n)})),this.options=t,this.updateSingleSelected(!0),this.updateMultipleSelected(!0)},onOptionDestroy:function(e){this.options.splice(e,1),this.optionInstances.splice(e,1)},updateSingleSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r["a"])(this.model);if("string"===t||"number"===t)for(var n=0;n<this.options.length;n++)if(this.model===this.options[n].value){this.selectedSingle=this.options[n].label;break}this.toggleSingleSelected(this.model,e)},updateMultipleSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.multiple&&Array.isArray(this.model)){for(var t=[],n=0;n<this.model.length;n++)for(var i=this.model[n],a=0;a<this.options.length;a++){var s=this.options[a];i===s.value&&t.push({value:s.value,label:s.label})}this.selectedMultiple=t}this.toggleMultipleSelected(this.model,e)},clearSingleSelect:function(){if(this.showCloseIcon){var e=Object(h["d"])(this,"AtOption");e.forEach((function(e){e.selected=!1})),this.model="",this.filterable&&(this.query="")}},removeTag:function(e){if(this.disabled)return!1;this.model.splice(e,1),this.filterable&&this.visible&&this.$refs.input.focus(),this.broadcast("Dropdown","on-update-popper")},toggleSingleSelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.multiple){var n="",i=Object(h["d"])(this,"AtOption");i.forEach((function(t){t.value===e?(t.selected=!0,n="undefined"===typeof t.label?t.$el.innerHTML:t.label):t.selected=!1})),this.hideMenu(),t||(this.valueWithLabel?this.$emit("on-change",{value:e,label:n}):this.$emit("on-change",e))}},toggleMultipleSelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.multiple){for(var n=[],i=0;i<e.length;i++)n.push({value:e[i]});var a=Object(h["d"])(this,"AtOption");a.forEach((function(t){var i=e.indexOf(t.value);i>-1?(t.selected=!0,n[i].label="undefined"===typeof t.label?t.$el.innerHTML:t.label):t.selected=!1})),t||(this.valueWithLabel?this.$emit("on-change",n):this.$emit("on-change",e))}},navigateOptions:function(e){var t=this;if("next"===e){var n=this.focusIndex+1;this.focusIndex=this.focusIndex===this.options.length?1:n}else if("prev"===e){var i=this.focusIndex-1;this.focusIndex=this.focusIndex<=1?this.options.length:i}var a=!1,s=!1,l=Object(h["d"])(this,"AtOption");l.forEach((function(e,n){n+1===t.focusIndex?(a=!e.disabled&&!e.hidden,a&&(e.isFocus=!0)):e.isFocus=!1,e.hidden||e.disabled||(s=!0)})),!a&&s&&this.navigateOptions(e),this.resetScrollTop()},resetScrollTop:function(){var e=this.focusIndex-1,t=this.optionInstances[e].$el.getBoundingClientRect().bottom-this.$refs.popover.getBoundingClientRect().bottom;t&&(this.$refs.popover.scrollTop+=t)},handleFocus:function(){this.$refs.input.select()},handleBlur:function(){var e=this;setTimeout((function(){if(e.multiple||""===e.model)e.query="";else{var t=Object(h["d"])(e,"AtOption");t.forEach((function(t){t.value===e.model&&(e.query="undefined"===typeof t.label?t.searchLabel:t.label)}))}}),300)},handleInputDelete:function(){this.multiple&&this.model.length&&""===this.query&&this.removeTag(this.model.length-1)},modelToQuery:function(){var e=this;if(!this.multiple&&this.filterable&&"undefined"!==typeof this.model){var t=Object(h["d"])(this,"AtOption");t.forEach((function(t){e.model===t.value&&(e.query=t.label||t.searchLabel||t.value)}))}},broadcastQuery:function(e){this.broadcast("AtOption","on-query-change",e)}},mounted:function(){var e=this;this.modelToQuery(),this.updateOptions(),document.addEventListener("keydown",this.handleKeydown),this.$on("on-select-selected",(function(t){if(e.model===t)e.hideMenu();else if(e.multiple){var n=e.model.indexOf(t);n>-1?e.removeTag(n):(e.model.push(t),e.broadcast("Dropdown","on-update-popper")),e.filterable&&(e.query="",e.$refs.input.focus())}else if(e.model=t,e.filterable){var i=Object(h["d"])(e,"AtOption");i.forEach((function(n){n.value===t&&(e.query="undefined"===typeof n.label?n.searchLabel:n.label)}))}}))},beforeDestory:function(){document.removeEventListener("keydown",this.handleKeydown)}},f=p,v=(n("ec32"),n("2877")),m=Object(v["a"])(f,s,l,!1,null,"e51efb16",null),g=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],ref:"option",staticClass:"at-select__option",class:[e.disabled?"at-select__option--disabled":"",e.selected?"at-select__option--selected":"",e.isFocus?"at-select__option--focus":""],on:{click:function(t){return t.stopPropagation(),e.doSelect.apply(null,arguments)},mouseout:function(t){return t.stopPropagation(),e.blur.apply(null,arguments)}}},[e._t("default",(function(){return[e._v(e._s(e.showLabel))]}))],2)},_=[],y=(n("ac1f"),n("5319"),n("00b4"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),{name:"AtOption",mixins:[c["a"]],inject:["select"],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1}},data:function(){return{selected:!1,index:0,isFocus:!1,hidden:!1,searchLabel:""}},computed:{showLabel:function(){return this.label?this.label:this.value}},methods:{doSelect:function(){if(this.disabled)return!1;this.dispatch("AtSelect","on-select-selected",this.value)},blur:function(){this.isFocus=!1},queryChange:function(e){var t=e.replace(/(\^|\(|\)|\[|\]|\$|\*|\+|\.|\?|\\|\{|\}|\|)/g,"\\$1");this.hidden=!new RegExp(t,"i").test(this.searchLabel)}},mounted:function(){var e=this;this.select.optionInstances.push(this),this.select.options.push({_instance:this,value:this.value,label:"undefined"===typeof this.label?this.$el.innerHTML:this.label}),this.searchLabel=this.$el.innerHTML,this.$on("on-select-close",(function(){e.isFocus=!1})),this.$on("on-query-change",(function(t){e.queryChange(t)}))},beforeDestroy:function(){var e=this;this.select.options.forEach((function(t,n){t._instance===e&&e.select.onOptionDestroy(n)}))}}),k=y,S=(n("91f3"),Object(v["a"])(k,b,_,!1,null,"90de92b2",null)),x=S.exports,C={name:"TSelect",components:{AtSelect:g,AtOption:x},props:{label:{type:String,default:"Label"},type:{type:String,default:""},value:{type:[String,Number]},name:{type:String},parse:{type:String},lists:{type:[Array,Object]},disabled:Boolean},data:function(){return{select:""}},computed:{items:function(){return Array.isArray(this.lists)?this.lists.map((function(e){return e||""})):Object.keys(this.lists)}},methods:{change:function(e){this.$emit("input",e),console.log(e),console.log("__null__"===e),this.$emit("change",{name:this.name,value:"__null__"===e?null:e})}},created:function(){this.select=this.value},destroyed:function(){}},w=C,O=(n("27c3"),Object(v["a"])(w,i,a,!1,null,"a8d5c784",null));t["a"]=O.exports},"917a":function(e,t,n){},"91f3":function(e,t,n){"use strict";n("de47")},ad58:function(e,t,n){"use strict";n("305f")},b0da:function(e,t,n){"use strict";n("f1cf")},b79b:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.outside,expression:"outside"}],staticClass:"t-card-file",style:e.bc},[e.id?n("div",{staticClass:"t-card-file__header",style:e.bg},[e._v(e._s(e.title))]):e._e(),n("div",{class:["t-card-file__body","icon-file-"+e.type],style:e.img}),n("div",{staticClass:"t-card-file__footer"},[n("div",{staticClass:"t-card-file__footer--label"},[e._v(e._s(e.label))]),n("div",{staticClass:"t-card-file__footer--btn",on:{click:function(t){e.show=!0}}},[n("i",{staticClass:"t-icon icon-file-dot"})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"t-card-file__dropdown"},e._l(e.items,(function(t,i){var a=t.icon,s=t.event;return n("div",{key:"icon"+i,staticClass:"t-card-file__dropdown--item",on:{click:function(t){e.$emit("event",{label:e.label,event:s}),e.show=!1}}},[n("i",{class:["t-icon",a]})])})),0)])},a=[],s=(n("a9e3"),{name:"t-card-file",props:{label:String,type:String,id:Number,cover:String},data:function(){return{show:!1,items:[{icon:"icon-deploy-remove",event:"remove"}]}},computed:{img:function(){return this.cover?{backgroundImage:"url('".concat(this.cover,"')"),backgroundPosition:"center",backgroundSize:"cover"}:{}},selectInputData:function(){return this.$store.getters["datasets/getInputDataByID"](this.id)||{}},title:function(){var e=this.selectInputData;return"input"===e.layer?"Входные данные "+e.id:"Выходные данные "+e.id},color:function(){return this.selectInputData.color||""},bg:function(){return{backgroundColor:this.id?this.color:""}},bc:function(){return{borderColor:this.id?this.color:""}}},methods:{outside:function(){this.show=!1}}}),l=s,r=(n("1ddc"),n("2877")),o=Object(r["a"])(l,i,a,!1,null,"8cd777c2",null);t["a"]=o.exports},be11:function(e,t,n){},c23e:function(e,t,n){"use strict";n("eadc")},c88f:function(e,t,n){"use strict";n("4d91")},ccc0:function(e,t,n){},de47:function(e,t,n){},eadc:function(e,t,n){},ec32:function(e,t,n){"use strict";n("6a15")},f1cf:function(e,t,n){},f244:function(e,t,n){"use strict";n("3e0e")},f96a:function(e,t,n){"use strict";n("6280")}}]);