(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29926623"],{"0427":function(e,t,a){},"27db":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"page-deploy"},[a("div",{staticClass:"cont"},[a("Deploy"),a("Params")],1)])},c=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"params"},[a("scrollbar",[a("div",{staticClass:"params-container__name"},[e._v("Загрузка в демо-панель")]),a("div",{staticClass:"params-container pa-5"},[a("div",{staticClass:"label"},[e._v("Название папки")]),a("div",{staticClass:"t-input"},[a("label",{staticClass:"t-input__label"},[e._v(" https://demo.neural-university.ru/"+e._s(e.userData.login)+"/"+e._s(e.projectData.name_alias)+"/"+e._s(e.deploy)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.deploy,expression:"deploy"}],staticClass:"t-input__input",attrs:{type:"text",name:"deploy[deploy]"},domProps:{value:e.deploy},on:{blur:function(t){return e.$emit("blur",t.target.value)},input:function(t){t.target.composing||(e.deploy=t.target.value)}}})]),a("Checkbox",{staticClass:"pd__top",attrs:{label:"Перезаписать с таким же названием папки",type:"checkbox"},on:{change:e.UseReplace}}),a("Checkbox",{attrs:{label:"Использовать пароль для просмотра страницы",type:"checkbox"},on:{change:e.UseSec}}),e.use_sec?a("div",{staticClass:"password"},[a("div",{staticClass:"t-input"},["checkbox"===(e.passwordShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.sec,expression:"sec"}],attrs:{placeholder:"Введите пароль",type:"checkbox"},domProps:{checked:Array.isArray(e.sec)?e._i(e.sec,null)>-1:e.sec},on:{change:function(t){var a=e.sec,s=t.target,c=!!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&(e.sec=a.concat([n])):r>-1&&(e.sec=a.slice(0,r).concat(a.slice(r+1)))}else e.sec=c}}}):"radio"===(e.passwordShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.sec,expression:"sec"}],attrs:{placeholder:"Введите пароль",type:"radio"},domProps:{checked:e._q(e.sec,null)},on:{change:function(t){e.sec=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.sec,expression:"sec"}],attrs:{placeholder:"Введите пароль",type:e.passwordShow?"text":"password"},domProps:{value:e.sec},on:{input:function(t){t.target.composing||(e.sec=t.target.value)}}}),a("div",{staticClass:"password__icon"},[a("i",{class:["t-icon",e.passwordShow?"icon-deploy-password-open":"icon-deploy-password-close"],attrs:{title:"show password"},on:{click:function(t){e.passwordShow=!e.passwordShow}}})])]),a("div",{staticClass:"t-input"},["checkbox"===(e.passwordShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.sec_accept,expression:"sec_accept"}],attrs:{placeholder:"Подтверждение пароля",type:"checkbox"},domProps:{checked:Array.isArray(e.sec_accept)?e._i(e.sec_accept,null)>-1:e.sec_accept},on:{change:function(t){var a=e.sec_accept,s=t.target,c=!!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&(e.sec_accept=a.concat([n])):r>-1&&(e.sec_accept=a.slice(0,r).concat(a.slice(r+1)))}else e.sec_accept=c}}}):"radio"===(e.passwordShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.sec_accept,expression:"sec_accept"}],attrs:{placeholder:"Подтверждение пароля",type:"radio"},domProps:{checked:e._q(e.sec_accept,null)},on:{change:function(t){e.sec_accept=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.sec_accept,expression:"sec_accept"}],attrs:{placeholder:"Подтверждение пароля",type:e.passwordShow?"text":"password"},domProps:{value:e.sec_accept},on:{input:function(t){t.target.composing||(e.sec_accept=t.target.value)}}}),a("div",{staticClass:"password__icon"},[a("i",{class:["t-icon",e.checkCorrect],attrs:{title:"is correct"}})])])]):e._e(),e.DataSent?e._e():a("button",{attrs:{disabled:e.send_disabled},on:{click:e.SendData}},[e._v("Загрузить")]),e.DataLoading?a("div",{staticClass:"loader"},[a("div",{staticClass:"loader__title"},[e._v("Дождитесь окончания загрузки")]),a("div",{staticClass:"loader__progress"},[a("load-spiner")],1)]):e._e(),e.DataSent?a("div",{staticClass:"req-ans"},[a("div",{staticClass:"answer__success"},[e._v("Загрузка завершена!")]),a("div",{staticClass:"answer__label"},[e._v("Ссылка на сформированную загрузку")]),a("div",{staticClass:"answer__url"},[a("i",{class:["t-icon","icon-deploy-copy"],attrs:{title:"copy"},on:{click:function(t){return e.Copy(e.moduleList.url)}}}),a("a",{attrs:{href:e.moduleList.url,target:"_blank"}},[e._v(e._s(e.moduleList.url))])])]):e._e(),e.DataSent?a("ModuleList",{attrs:{moduleList:e.moduleList.api_text}}):e._e()],1)])],1)},r=[],i=a("1da1"),o=a("5530"),l=(a("96cf"),a("7db0"),a("ac1f"),a("5319"),a("2f62")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"t-field t-inline"},[a("label",{staticClass:"t-field__label",attrs:{for:e.parse}},[e._v(e._s(e.label))]),a("div",{staticClass:"t-field__switch"},[a("input",{staticClass:"t-field__input",attrs:{id:e.parse,type:e.type,name:e.parse},domProps:{checked:e.checked?"checked":"",value:e.checked},on:{change:e.change}}),a("span")])])},u=[],p=(a("b0c0"),a("caad"),a("2532"),a("56d7")),h={props:{label:{type:String,default:"Label"},type:{type:String,default:"text"},value:{type:[Boolean]},name:{type:String},parse:{type:String},event:{type:Array,default:function(){return[]}}},data:function(){return{checked:null}},methods:{change:function(e){var t=e.target.checked;this.$emit("change",{name:this.name,value:t}),p["bus"].$emit("change",{event:this.name,value:t})}},created:function(){var e=this;this.checked=this.value,this.event.length&&p["bus"].$on("change",(function(t){var a=t.event;e.event.includes(a)&&(e.checked=!1)}))},destroyed:function(){this.event.length&&(p["bus"].$off(),console.log("destroyed",this.name))}},_=h,f=(a("a868"),a("2877")),m=Object(f["a"])(_,d,u,!1,null,"96e0dd2e",null),v=m.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"load__answer"},[a("scrollbar",[a("div",{staticClass:"apiBlock"},[e._v(" "+e._s(e.moduleList)+" ")])])],1)},y=[],b={name:"ModuleList",props:{moduleList:{type:String,default:function(){return""}}}},C=b,x=(a("46b3"),Object(f["a"])(C,g,y,!1,null,"ef881ec4",null)),w=x.exports,k=a("1636"),S={name:"Settings",components:{Checkbox:v,ModuleList:w,LoadSpiner:k["a"]},data:function(){return{deploy:"",replace:!1,use_sec:!1,sec:"",sec_accept:"",send_disabled:!0,DataSent:!1,DataLoading:!1,passwordShow:!1,pattern:/^(?=[a-zA-Z])[A-Z_a-z0-9]+$/}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])({height:"settings/height",moduleList:"deploy/getModuleList",projectData:"projects/getProject",userData:"projects/getUser"})),{},{checkCorrect:function(){return this.sec==this.sec_accept&&this.sec.length>5?"icon-deploy-password-correct":"icon-deploy-password-incorrect"}}),mounted:function(){},watch:{deploy:function(e){""!==e&&this.pattern.test(this.deploy)?this.send_disabled=!1:this.send_disabled=!0},sec_accept:function(e){this.use_sec&&(e==this.sec&&this.pattern.test(this.deploy)?this.send_disabled=!1:this.send_disabled=!0)}},methods:{click:function(){console.log()},Percents:function(e){var t=document.querySelector(".progress-bar > .loading");t.style.width=e+"%",t.find("span").value=e},Copy:function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(a){console.error("Fallback: Oops, unable to copy",a)}document.body.removeChild(t)},UseSec:function(e){this.use_sec=e.value},UseReplace:function(e){this.replace=e.value},progress:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deploy/CheckProgress");case 2:a=t.sent,console.log(a),a?(e.DataLoading=!1,e.DataSent=!0):e.getProgress();case 5:case"end":return t.stop()}}),t)})))()},getProgress:function(){setTimeout(this.progress,2e3)},SendData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={deploy:e.deploy,replace:e.replace,use_sec:e.use_sec},e.use_sec&&(a["sec"]=e.sec),t.next=4,e.$store.dispatch("deploy/SendDeploy",a);case 4:s=t.sent,console.log(s),s&&(c=s.error,n=s.success,console.log(c,n),!c&&n&&(e.DataLoading=!0,e.getProgress()));case 7:case"end":return t.stop()}}),t)})))()}}},j=S,D=(a("d6c5"),Object(f["a"])(j,n,r,!1,null,"74af094d",null)),L=D.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"board"},[a("scrollbar",[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content"},e._l(e.Cards,(function(t,s){return a("div",{key:"block-"+s,staticClass:"board__data-field"},["table"!=e.deployType?a("button",{staticClass:"board__reload-all",on:{click:function(t){return e.ReloadAll(s)}}},[a("i",{class:["t-icon","icon-deploy-reload"],attrs:{title:"reload"}}),a("span",[e._v("Перезагрузить все")])]):e._e(),a("div",{staticClass:"board__title"},[e._v("Исходные данные / Предсказанные данные")]),a("div",{staticClass:"board__data"},e._l(t.data,(function(t,c){return a("IndexCard",e._b({key:"card-"+c,attrs:{block:s,index:c},on:{reload:e.ReloadCard}},"IndexCard",t,!1))})),1)])})),0)])])],1)},P=[],T=(a("d3b7"),a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card__content"},["image_classification"==e.deployType?a("div",[a("div",{staticClass:"card__original"},[a("ImgCard",{attrs:{imgUrl:e.source}})],1),a("div",{staticClass:"card__result"},[a("TextCard",{style:{width:"224px"}},[e._v(e._s(e.imageClassificationText))])],1)]):e._e(),"image_segmentation"==e.deployType?a("div",[a("div",{staticClass:"card__original"},[a("ImgCard",{attrs:{imgUrl:e.source}})],1),a("div",{staticClass:"card__result"},[a("ImgCard",{attrs:{imgUrl:e.segment}})],1)]):e._e(),"graphic"==e.deployType?a("div",{staticClass:"card__graphic"},[a("Plotly",{attrs:{data:e.data,layout:e.layout,"display-mode-bar":!1}})],1):e._e()]),"table"!=e.deployType?a("div",{staticClass:"card__reload"},[a("button",{staticClass:"btn-reload",on:{click:e.ReloadCard}},[a("i",{class:["t-icon","icon-deploy-reload"],attrs:{title:"reload"}})])]):e._e()])}),$=[],R=(a("a9e3"),a("4e82"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img-card"},[a("img",{staticClass:"img-card__image",attrs:{src:e.src}})])}),A=[],E={name:"ImgCard",props:{imgUrl:{type:String,default:"img.png"}},computed:{src:function(){return"/_media/blank/?path=".concat(this.imgUrl)}}},U=E,I=(a("5a53"),Object(f["a"])(U,R,A,!1,null,"6e5245ac",null)),N=I.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-card"},[a("scrollbar",[a("pre",[e._t("default",(function(){return[e._v("TEXT")]}))],2)])],1)},M=[],z={name:"TextCard",props:{text:{type:String,default:"text"}}},B=z,J=(a("f6e8"),Object(f["a"])(B,q,M,!1,null,"4bc69c66",null)),Z=J.exports,F=a("04d11"),G={name:"IndexCard",components:{ImgCard:N,TextCard:Z,Plotly:F["Plotly"]},data:function(){return{}},props:{source:{type:String,default:""},segment:{type:String,default:""},data:{type:[Array,Object,String],default:function(){return{}}},block:String,index:[String,Number]},methods:{ReloadCard:function(){this.$emit("reload",{id:this.block,indexes:[this.index.toString()]})}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])({graphicData:"deploy/getGraphicData",defaultLayout:"deploy/getDefaultLayout",origTextStyle:"deploy/getOrigTextStyle",deployType:"deploy/getDeployType"})),{},{layout:function(){var e=this.defaultLayout;return this.char&&(e.title.text=this.char.title||"",e.xaxis.title=this.char.xaxis.title||"",e.yaxis.title=this.char.yaxis.title||""),e},imageClassificationText:function(){var e=this.data,t="";e.sort((function(e,t){return e[1]<t[1]?1:-1}));for(var a=0;a<e.length;a++){if(a>2)break;t+="".concat(e[a][0]," - вероятность ").concat(e[a][1],"% \n")}return t}})},H=G,X=(a("ddbb"),Object(f["a"])(H,T,$,!1,null,"182d6cd5",null)),K=X.exports,Q={components:{IndexCard:K},data:function(){return{}},computed:Object(o["a"])({},Object(l["b"])({dataLoaded:"deploy/getDataLoaded",Cards:"deploy/getCards",deployType:"deploy/getDeployType",height:"settings/autoHeight"})),methods:{ReloadCard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("deploy/ReloadCard",e);case 2:case"end":return a.stop()}}),a)})))()},ReloadAll:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s=[],c=0;c<t.Cards[e].data.length;c++)s.push(c.toString());return a.next=4,t.$store.dispatch("deploy/ReloadCard",{id:e,indexes:s});case 4:case"end":return a.stop()}}),a)})))()}}},V=Q,W=(a("c0fd"),Object(f["a"])(V,O,P,!1,null,"4f76a180",null)),Y=W.exports,ee={name:"Datasets",components:{Params:L,Deploy:Y}},te=ee,ae=(a("f2af"),Object(f["a"])(te,s,c,!1,null,"31143d8c",null));t["default"]=ae.exports},"2d80":function(e,t,a){},"46b3":function(e,t,a){"use strict";a("f099")},"5a53":function(e,t,a){"use strict";a("ff6f")},9323:function(e,t,a){},a868:function(e,t,a){"use strict";a("0427")},c0fd:function(e,t,a){"use strict";a("2d80")},cd06:function(e,t,a){},d6c5:function(e,t,a){"use strict";a("faaf")},ddbb:function(e,t,a){"use strict";a("e7d0")},e7d0:function(e,t,a){},f099:function(e,t,a){},f2af:function(e,t,a){"use strict";a("cd06")},f6e8:function(e,t,a){"use strict";a("9323")},faaf:function(e,t,a){},ff6f:function(e,t,a){}}]);