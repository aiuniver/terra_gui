(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ccf0494","chunk-39c73cc3"],{"07ce":function(t,e,a){},"0bf7":function(t,e,a){},"0da8":function(t,e,a){},1039:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-text-segmented",style:{width:t.block_width}},[a("div",{staticClass:"t-text-segmented__content"},t._l(t.arrText,(function(e,i){var r=e.tags,s=e.word;return a("div",{key:"word_"+i,staticClass:"t-text-segmented__word"},[r.includes("p1")?a("div",{staticClass:"t-text-segmented__text"},[t._v(t._s(s))]):a("at-tooltip",[a("div",{staticClass:"t-text-segmented__text"},[t._v(t._s(s))]),a("template",{slot:"content"},t._l(r,(function(e){return a("div",{key:"colors_"+e,staticClass:"t-text-segmented__colors",style:"background-color: rgb("+t.rgb(e)+");"},[t._v(t._s(e))])})),0)],2),t._l(r,(function(e,r){return a("div",{key:"tags_"+i+"_"+r,staticClass:"t-text-segmented__line",style:"background-color: rgb("+t.rgb(e)+");"})}))],2)})),0)])},r=[],s=(a("5b81"),a("ac1f"),a("466d"),a("d81d"),a("a15b"),a("5319"),a("1276"),{name:"TableTextSegmented",props:{value:{type:String,default:""},color_mark:{type:Array,default:function(){return[]}},tags_color:{type:Object,default:function(){}},layer:{type:String,default:""},block_width:{type:String,default:"400px"}},computed:{tags:function(){var t;return(null===(t=this.tags_color)||void 0===t?void 0:t[this.layer])||{}},arrText:function(){var t=this,e=this.value.replaceAll(" ",""),a=e.match(/(<[sp][0-9]>)+([^<\/>]+)(<\/[sp][0-9]>)+/g);return a.map((function(e){return t.convert(e)}))}},methods:{rgb:function(t){var e=this.tags[t]||[];return e.join(" ")},convert:function(t){t=t.replace(/(<\/[^>]+>)+/g,"");var e=t.replace(/(<[^>]+>)+/g,"");t=t.replace(/></g,",");var a=t.match(/<(.+)>/)[1].split(",");return{tags:a,word:e}}}}),n=s,c=(a("ca51"),a("2877")),l=Object(c["a"])(n,i,r,!1,null,"be918f14",null);e["default"]=l.exports},"3af9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card__content"},["ImageClassification"==t.type?a("div",[a("div",{staticClass:"card__original"},[a("ImgCard",{attrs:{imgUrl:t.card.source}})],1),a("div",{staticClass:"card__result"},[a("TextCard",{style:{width:"224px",height:"80px"}},[t._v(t._s(t.ClassificationResult))])],1)]):t._e(),"TextClassification"==t.type?a("div",[a("div",{staticClass:"card__original"},[a("TextCard",{style:{width:"600px",color:"#A7BED3",height:"324px"}},[t._v(t._s(t.card.source))])],1),a("div",{staticClass:"card__result"},[a("TextCard",{style:{width:"600px",height:"80px"}},[t._v(t._s(t.ClassificationResult))])],1)]):t._e(),"TextSegmentation"==t.type?a("div",[a("div",{staticClass:"card__original segmentation__original",style:{height:"324px"}},[a("scrollbar",{attrs:{ops:t.ops}},[a("TableTextSegmented",t._b({key:t.RandId},"TableTextSegmented",{value:t.card.format,tags_color:{segmentationLayer:t.segmentationLayer},layer:"segmentationLayer",block_width:"598px"},!1))],1)],1),a("div",{staticClass:"card__result"},[a("SegmentationTags",{style:{width:"600px",height:"80px"},attrs:{tags:t.segmentationLayer}})],1)]):t._e(),"AudioClassification"==t.type?a("div",[a("div",{staticClass:"card__original"},[a("AudioCard",{attrs:{value:t.card.source,update:t.RandId}})],1),a("div",{staticClass:"card__result"},[a("TextCard",{style:{width:"600px",height:"80px"}},[t._v(t._s(t.ClassificationResult))])],1)]):t._e(),"ImageSegmentation"==t.type?a("div",[a("div",{staticClass:"card__original"},[a("ImgCard",{attrs:{imgUrl:t.card.source}})],1),a("div",{staticClass:"card__result"},[a("ImgCard",{attrs:{imgUrl:t.card.segment}})],1)]):t._e(),"Timeseries"==t.type?a("div",{staticClass:"card__graphic"},[a("GraphicCard",t._b({key:"graphic_"+t.index},"GraphicCard",t.card,!1))],1):t._e()]),a("div",{staticClass:"card__reload"},[a("button",{staticClass:"btn-reload",on:{click:t.ReloadCard}},[a("i",{class:["t-icon","icon-deploy-reload"],attrs:{title:"reload"}})])])])},r=[],s=a("5530"),n=(a("a9e3"),a("d3b7"),a("25f0"),a("caad"),a("2532"),a("fb6a"),a("4e82"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-card"},[a("img",{staticClass:"img-card__image",attrs:{src:t.src}})])}),c=[],l=a("2f62"),o={name:"ImgCard",props:{imgUrl:{type:String,default:"img.png"}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])({id:"deploy/getRandId"})),{},{src:function(){return"/_media/blank/?path=".concat(this.imgUrl,"&r=").concat(this.id)}})},d=o,u=(a("7e8a"),a("2877")),p=Object(u["a"])(d,n,c,!1,null,"5ab7da04",null),g=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-card"},[a("scrollbar",{attrs:{ops:t.ops}},[a("pre",[t._t("default",(function(){return[t._v("TEXT")]}))],2)])],1)},_=[],h={name:"TextCard",props:{text:{type:String,default:"text"}},data:function(){return{ops:{scrollPanel:{scrollingX:!1,scrollingY:!0}}}}},m=h,v=(a("f4ce"),Object(u["a"])(m,f,_,!1,null,"6e13d9d6",null)),y=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div",{staticClass:"audio"},[a("div",{staticClass:"audio__card"},[a("av-waveform",{attrs:{"canv-width":500,"canv-height":23,"played-line-color":"#65B9F4","noplayed-line-color":"#2B5278","played-line-width":0,playtime:!1,"canv-top":!0,"canv-class":"custom-player","canv-fill-color":"#2B5278","audio-src":t.src}})],1)])])},x=[],C={name:"AudioCard",props:{value:{type:String,default:""},update:{type:String,default:""}},computed:{src:function(){return"/_media/blank/?path=".concat(this.value,"&r=").concat(this.update)}},mounted:function(){console.log(this.update),this.$el.querySelector("audio").setAttribute("controlsList","nodownload")}},w=C,T=(a("7bf5"),Object(u["a"])(w,b,x,!1,null,null,null)),k=T.exports,S=a("1039"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("scrollbar",{attrs:{ops:t.ops}},[a("div",{staticClass:"card__text"},t._l(t.tags,(function(e,i,r){return a("div",{key:"tag-line_"+r,staticClass:"card__text--line"},[a("p",{style:{"background-color":t.rgb(e)}},[t._v(t._s(i))]),t._v(" - Название "+t._s(r)+" ")])})),0)])],1)},j=[],A={name:"SegmentationTags",props:{tags:{type:Object,default:function(){return{}}}},methods:{rgb:function(t){var e="#";for(var a in t){var i=t[a].toString(16);e+=1==i.length?"0"+i:i}return e}},data:function(){return{ops:{scrollPanel:{scrollingX:!1,scrollingY:!0}}}}},E=A,D=(a("cd1e"),Object(u["a"])(E,O,j,!1,null,"37c346ca",null)),I=D.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-graphics"},[a("div",{staticClass:"t-graphics__button"},[a("scrollbar",[a("div",{staticClass:"t-graphics__extra"},t._l(t.predict,(function(e,i){return a("div",{key:i,staticClass:"t-graphics__item",class:i==t.name?"t-graphics__item--active":"",attrs:{title:i},on:{click:function(e){t.name=i}}},[t._v(" "+t._s(i)+" ")])})),0)])],1),a("div",{staticClass:"t-graphics__main"},[a("Plotly",{attrs:{data:t.testPredictData(t.predict[t.name]),layout:t.layout(),"display-mode-bar":!1}}),a("div",{staticClass:"t-graphics__title"},[t._v(t._s(t.name))])],1)])},L=[],B=(a("b0c0"),a("b64b"),a("04d11")),$={name:"GraphicCard",components:{Plotly:B["Plotly"]},props:{source:Object,predict:Object},data:function(){return{name:null,line:{dash:"dot",width:4,color:"#89D764"},test:{plot_bgcolor:"#d3d3d3",paper_bgcolor:"#d3d3d3"},defLayout:{height:350,width:600,plot_bgcolor:"#fff0",paper_bgcolor:"#242F3D",showlegend:!0,legend:{orientation:"h"},font:{color:"#A7BED3",size:9},margin:{pad:1,t:5,r:5,b:30,l:30},xaxis:{gridcolor:"#17212B",showline:!1,linecolor:"#A7BED3",linewidth:1,title:{standoff:0,font:{size:10}}},yaxis:{gridcolor:"#17212B",showline:!1,linecolor:"#A7BED3",linewidth:1,title:{font:{size:10}}}}}},computed:{},methods:{layout:function(){var t=this.defLayout;return t.xaxis.title.text="",t.yaxis.title.text="",t},testPredictData:function(t){var e=0,a=[];for(var i in t){var r=t[i],s={x:[],y:[],type:"scatter",name:"Предсказанные значения"};for(var n in e>0?s["line"]=this.line:s["name"]="Реальные значения",r)s["x"].push(e),s["y"].push(r[n]),e++;e--,a.push(s)}return a}},mounted:function(){this.name=Object.keys(this.predict)[0]}},P=$,G=(a("9e41"),Object(u["a"])(P,R,L,!1,null,"717964a0",null)),U=G.exports,X={name:"IndexCard",components:{ImgCard:g,TextCard:y,GraphicCard:U,AudioCard:k,TableTextSegmented:S["default"],SegmentationTags:I},data:function(){return{ops:{scrollPanel:{scrollingX:!1,scrollingY:!0}}}},props:{card:{type:Object,default:function(){return{}}},index:[String,Number],color_map:{type:Array,default:function(){return[]}}},methods:{ReloadCard:function(){this.$emit("reload",[this.index.toString()])},GraphicData:function(){}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])({graphicData:"deploy/getGraphicData",defaultLayout:"deploy/getDefaultLayout",origTextStyle:"deploy/getOrigTextStyle",type:"deploy/getDeployType",RandId:"deploy/getRandId"})),{},{layout:function(){var t=this.defaultLayout;return this.char&&(t.title.text=this.char.title||"",t.xaxis.title=this.char.xaxis.title||"",t.yaxis.title=this.char.yaxis.title||""),t},segmentationLayer:function(){var t={};for(var e in this.color_map)if(!this.color_map[e][0].includes("p")){var a=this.color_map[e][0].slice(1,this.color_map[e][0].length-1);t[a]=this.color_map[e][2]}return t},ClassificationResult:function(){var t=this.card.data,e="";t.sort((function(t,e){return t[1]<e[1]?1:-1}));for(var a=0;a<t.length;a++)e+="".concat(t[a][0]," - ").concat(t[a][1],"% \n");return e}}),mounted:function(){console.log(this.card)}},z=X,Y=(a("f6fa"),Object(u["a"])(z,i,r,!1,null,"43b0fa24",null));e["default"]=Y.exports},"5b81":function(t,e,a){"use strict";var i=a("23e7"),r=a("1d80"),s=a("1626"),n=a("44e7"),c=a("577e"),l=a("dc4a"),o=a("ad6d"),d=a("0cb2"),u=a("b622"),p=a("c430"),g=u("replace"),f=RegExp.prototype,_=Math.max,h=function(t,e,a){return a>t.length?-1:""===e?a:t.indexOf(e,a)};i({target:"String",proto:!0},{replaceAll:function(t,e){var a,i,u,m,v,y,b,x,C,w=r(this),T=0,k=0,S="";if(null!=t){if(a=n(t),a&&(i=c(r("flags"in f?t.flags:o.call(t))),!~i.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(u=l(t,g),u)return u.call(t,w,e);if(p&&a)return c(w).replace(t,e)}m=c(w),v=c(t),y=s(e),y||(e=c(e)),b=v.length,x=_(1,b),T=h(m,v,0);while(-1!==T)C=y?c(e(v,T,m)):d(v,m,T,[],void 0,e),S+=m.slice(k,T)+C,k=T+b,T=h(m,v,T+x);return k<m.length&&(S+=m.slice(k)),S}})},7064:function(t,e,a){},"7bf5":function(t,e,a){"use strict";a("bf44")},"7e8a":function(t,e,a){"use strict";a("0da8")},"9e41":function(t,e,a){"use strict";a("7064")},b022:function(t,e,a){},bf44:function(t,e,a){},ca51:function(t,e,a){"use strict";a("b022")},cd1e:function(t,e,a){"use strict";a("de5c")},de5c:function(t,e,a){},f4ce:function(t,e,a){"use strict";a("07ce")},f6fa:function(t,e,a){"use strict";a("0bf7")}}]);