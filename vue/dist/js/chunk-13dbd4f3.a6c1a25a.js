(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13dbd4f3"],{"0709":function(e,t,i){"use strict";i("9581")},2184:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header"},[i("div",{staticClass:"header-left"},[i("div",{staticClass:"header-left--logo",attrs:{href:"#"},on:{click:function(t){e.isShowNavigation=!e.isShowNavigation}}}),e.isShowNavigation?i("div",{staticClass:"header-dropdown"},[i("ul",[e._l(e.routes,(function(t){return i("li",{key:t.id,staticClass:"header-dropdown__item",on:{click:function(i){i.preventDefault(),e.selectedGeneratedId=t.id}}},[e._v(" "+e._s(t.title)+" ")])})),i("li",{staticClass:"header-dropdown__item header-dropdown__item--border"},[e._v("Тестовое поле")])],2)]):e._e(),i("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(t){e.isShowNavigation=!e.isShowNavigation}}},[i("path",{attrs:{d:"M12 14.5L17 9.5H7L12 14.5Z",fill:"#6C7883"}})]),i("div",{staticClass:"header-left__menu"},[i("ul",e._l(e.selectedGenerated,(function(t,s){return i("li",{key:t.title+s,staticClass:"header-left__menu-item"},[e._v(" "+e._s(t.title)+" ")])})),0)])]),i("div",{staticClass:"header-right"},[i("div",{staticClass:"header-right__line"}),e._l(e.iconRight,(function(e,t){var s=e.title,n=e.icon;return i("div",{key:"menu_"+t,staticClass:"header-right__icon",attrs:{title:s}},[i("i",{class:[n]})])})),i("div",{on:{click:function(t){e.DialogProfile=!0}}},[e._m(0)])],2),i("DModal",{staticStyle:{position:"absolute"},attrs:{title:"Мой профиль"},model:{value:e.DialogProfile,callback:function(t){e.DialogProfile=t},expression:"DialogProfile"}},[i("t-field",{staticClass:"profile-modal-content__wrapper",attrs:{label:"Имя *"}},[i("DInputText",{attrs:{error:e.errFirst},on:{input:function(t){e.errFirst=""}},model:{value:e.firstName,callback:function(t){e.firstName="string"===typeof t?t.trim():t},expression:"firstName"}})],1),i("t-field",{staticClass:"profile-modal-content__wrapper",attrs:{label:"Фамилия *"}},[i("DInputText",{attrs:{error:e.errLast},on:{input:function(t){e.errLast=""}},model:{value:e.lastName,callback:function(t){e.lastName="string"===typeof t?t.trim():t},expression:"lastName"}})],1),i("t-field",{staticClass:"profile-modal-content__wrapper",attrs:{label:"Логин"}},[i("p",[e._v(e._s(e.user.login))])]),i("t-field",{staticClass:"profile-modal-content__wrapper",attrs:{label:"E-mail"}},[i("p",[e._v(e._s(e.user.email))])]),i("t-field",{staticClass:"profile-modal-content__wrapper",attrs:{label:"Token"}},[i("p",[i("span",{ref:"token"},[e._v(e._s(e.user.token))]),i("svg",{staticClass:"btn-copy",attrs:{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:e.copy}},[i("path",{attrs:{d:"M12.9999 20.9999H2.99995C2.46402 21.0186 1.94442 20.8138 1.56524 20.4347C1.18605 20.0555 0.981324 19.5359 0.999948 18.9999V8.99995C0.981324 8.46402 1.18605 7.94442 1.56524 7.56524C1.94442 7.18605 2.46402 6.98132 2.99995 6.99995H6.99995V2.99995C6.98132 2.46402 7.18605 1.94442 7.56524 1.56524C7.94442 1.18605 8.46402 0.981324 8.99995 0.999948H18.9999C19.5359 0.981324 20.0555 1.18605 20.4347 1.56524C20.8138 1.94442 21.0186 2.46402 20.9999 2.99995V12.9999C21.0183 13.5358 20.8134 14.0552 20.4343 14.4343C20.0552 14.8134 19.5358 15.0183 18.9999 14.9999H14.9999V18.9999C15.0183 19.5358 14.8134 20.0552 14.4343 20.4343C14.0552 20.8134 13.5358 21.0183 12.9999 20.9999ZM2.99995 8.99995V18.9999H12.9999V14.9999H8.99995C8.46411 15.0183 7.94468 14.8134 7.56557 14.4343C7.18645 14.0552 6.98162 13.5358 6.99995 12.9999V8.99995H2.99995ZM8.99995 2.99995V12.9999H18.9999V2.99995H8.99995Z"}})])]),i("p",{staticClass:"copy-msg"}),i("div",{staticClass:"btn-text",on:{click:e.updateTokenProfile}},[e._v("Обновить токен")])]),i("t-field",{directives:[{name:"show",rawName:"v-show",value:e.showNoticeProfile,expression:"showNoticeProfile"}],staticClass:"profile-modal-content__wrapper"},[i("div",[i("i",{staticClass:"notice__icon"}),i("p",[e._v(e._s(e.noticeMsgProfile))])])]),i("template",{slot:"footer"},[i("DButton",{staticStyle:{"margin-left":"auto"},attrs:{loading:e.isLoadingProfile,disabled:e.isLoadingProfile,color:"primary",direction:"left"},on:{click:e.saveProfile}},[e._v("Сохранить")])],1)],2)],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-right__icon"},[i("i",{staticClass:"profile"})])}],a=i("1da1"),r=i("5530"),o=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("2f62")),l={name:"NewHeader",components:{DModal:function(){return i.e("chunk-08dcfb34").then(i.bind(null,"23e5"))},DButton:function(){return i.e("chunk-20483bc3").then(i.bind(null,"681e"))},DInputText:function(){return i.e("chunk-0c1b8f7d").then(i.bind(null,"db2e"))}},data:function(){return{DialogProfile:!1,isChangedProfile:!1,showNoticeProfile:!1,noticeMsgProfile:"",errFirst:"",errLast:"",isLoadingProfile:!1,iconRight:[{title:"вопрос",icon:"icon-project-ask"},{title:"уведомление",icon:"icon-project-notification"}],isShowNavigation:!1,selectedGeneratedId:1}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])({user:"projects/getUser"})),{},{firstName:{set:function(e){this.$store.commit("projects/SET_USER",{first_name:e})},get:function(){return this.user.first_name}},lastName:{set:function(e){this.$store.commit("projects/SET_USER",{last_name:e})},get:function(){return this.user.last_name}},routes:function(){return[{id:1,title:"Данные"},{id:2,title:"Проектирование"},{id:3,title:"Обучение"},{id:4,title:"Проекты"}]},generated:function(){return{1:[{title:"Датасеты"},{title:"Создание датасета"},{title:"Разметка"},{title:"Просмотр датасета"}]}},selectedGenerated:function(){return this.generated[this.selectedGeneratedId]}}),methods:{copy:function(){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(this.$refs.token),e.removeAllRanges(),e.addRange(t),document.execCommand("copy"),e.removeAllRanges(),document.querySelector(".copy-msg").textContent="Token скопирован в буфер обмена"},updateTokenProfile:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("axios",{url:"/profile/update_token/"});case 2:i=t.sent,i.success&&(e.$refs.token.textContent=i.data.new_token,e.$store.dispatch("messages/setMessage",{message:"Ваш token успешно обновлен"}));case 4:case"end":return t.stop()}}),t)})))()},saveProfile:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.firstName||(e.errFirst="Поле обязательно для заполнения"),e.lastName||(e.errLast="Поле обязательно для заполнения"),!e.firstName||!e.lastName){t.next=9;break}return e.isLoadingProfile=!0,t.next=6,e.$store.dispatch("profile/save",{first_name:e.firstName,last_name:e.lastName});case 6:i=t.sent,e.isLoadingProfile=!1,i.success&&e.$store.dispatch("messages/setMessage",{message:"Ваши данные успешно изменены"});case 9:case"end":return t.stop()}}),t)})))()}},watch:{firstName:function(){this.isChangedProfile=!0},lastName:function(){this.isChangedProfile=!0}}},c=l,d=(i("0709"),i("2877")),u=Object(d["a"])(c,s,n,!1,null,"99d611e4",null);t["default"]=u.exports},9581:function(e,t,i){}}]);