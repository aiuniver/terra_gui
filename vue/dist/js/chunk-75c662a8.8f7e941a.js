(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75c662a8"],{"0b25":function(t,e,n){var i=n("a691"),r=n("50c4");t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length or index");return n}},1220:function(t,e,n){"use strict";n("f230")},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1448:function(t,e,n){var i=n("ebb5").aTypedArrayConstructor,r=n("4840");t.exports=function(t,e){var n=r(t,t.constructor),o=0,a=e.length,s=new(i(n))(a);while(a>o)s[o]=e[o++];return s}},"145e":function(t,e,n){"use strict";var i=n("7b0b"),r=n("23cb"),o=n("50c4"),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),c=r(t,s),l=r(e,s),u=arguments.length>2?arguments[2]:void 0,d=a((void 0===u?s:r(u,s))-l,s-c),h=1;l<c&&c<l+d&&(h=-1,l+=d-1,c+=d-1);while(d-- >0)l in n?n[c]=n[l]:delete n[c],c+=h,l+=h;return n}},"170b":function(t,e,n){"use strict";var i=n("ebb5"),r=n("50c4"),o=n("23cb"),a=n("4840"),s=i.aTypedArray,c=i.exportTypedArrayMethod;c("subarray",(function(t,e){var n=s(this),i=n.length,c=o(t,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,r((void 0===e?i:o(e,i))-c))}))},"17a0":function(t,e,n){},"182d":function(t,e,n){var i=n("f8cd");t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},"1a8a":function(t,e,n){},"1b04":function(t,e,n){"use strict";n("94bf")},"1dbb":function(t,e,n){},"219c":function(t,e,n){"use strict";var i=n("ebb5"),r=n("da84"),o=n("d039"),a=n("1c0b"),s=n("50c4"),c=n("addb"),l=n("04d1"),u=n("d998"),d=n("2d00"),h=n("512c"),f=i.aTypedArray,p=i.exportTypedArrayMethod,m=r.Uint16Array,v=m&&m.prototype.sort,g=!!v&&!o((function(){var t=new m(2);t.sort(null),t.sort({})})),y=!!v&&!o((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(h)return h<602;var t,e,n=new m(516),i=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,i[t]=t-2*e+3;for(n.sort((function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==i[t])return!0})),b=function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}};p("sort",(function(t){var e=this;if(void 0!==t&&a(t),y)return v.call(e,t);f(e);var n,i=s(e.length),r=Array(i);for(n=0;n<i;n++)r[n]=e[n];for(r=c(e,b(t)),n=0;n<i;n++)e[n]=r[n];return e}),!y||g)},"23f6":function(t,e,n){},"25a1":function(t,e,n){"use strict";var i=n("ebb5"),r=n("d58f").right,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("reduceRight",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2954:function(t,e,n){"use strict";var i=n("ebb5"),r=n("4840"),o=n("d039"),a=i.aTypedArray,s=i.aTypedArrayConstructor,c=i.exportTypedArrayMethod,l=[].slice,u=o((function(){new Int8Array(1).slice()}));c("slice",(function(t,e){var n=l.call(a(this),t,e),i=r(this,this.constructor),o=0,c=n.length,u=new(s(i))(c);while(c>o)u[o]=n[o++];return u}),u)},"2b7f":function(t,e,n){},3280:function(t,e,n){"use strict";var i=n("ebb5"),r=n("e58c"),o=i.aTypedArray,a=i.exportTypedArrayMethod;a("lastIndexOf",(function(t){return r.apply(o(this),arguments)}))},"3a7b":function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").findIndex,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("findIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(t,e,n){"use strict";var i=n("ebb5"),r=n("50c4"),o=n("182d"),a=n("7b0b"),s=n("d039"),c=i.aTypedArray,l=i.exportTypedArrayMethod,u=s((function(){new Int8Array(1).set({})}));l("set",(function(t){c(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(t),s=r(i.length),l=0;if(s+e>n)throw RangeError("Wrong length");while(l<s)this[e+l]=i[l++]}),u)},"3fcc":function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").map,o=n("4840"),a=i.aTypedArray,s=i.aTypedArrayConstructor,c=i.exportTypedArrayMethod;c("map",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(o(t,t.constructor)))(e)}))}))},"41dc":function(t,e,n){},"4d8f":function(t,e,n){"use strict";n("1a8a")},"52e8":function(t,e,n){"use strict";n("ec1a")},"5cc6":function(t,e,n){var i=n("74e8");i("Uint8",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},"5f96":function(t,e,n){"use strict";var i=n("ebb5"),r=i.aTypedArray,o=i.exportTypedArrayMethod,a=[].join;o("join",(function(t){return a.apply(r(this),arguments)}))},"60bd":function(t,e,n){"use strict";var i=n("da84"),r=n("ebb5"),o=n("e260"),a=n("b622"),s=a("iterator"),c=i.Uint8Array,l=o.values,u=o.keys,d=o.entries,h=r.aTypedArray,f=r.exportTypedArrayMethod,p=c&&c.prototype[s],m=!!p&&("values"==p.name||void 0==p.name),v=function(){return l.call(h(this))};f("entries",(function(){return d.call(h(this))})),f("keys",(function(){return u.call(h(this))})),f("values",v,!m),f(s,v,!m)},"621a":function(t,e,n){"use strict";var i=n("da84"),r=n("83ab"),o=n("a981"),a=n("9112"),s=n("e2cc"),c=n("d039"),l=n("19aa"),u=n("a691"),d=n("50c4"),h=n("0b25"),f=n("77a7"),p=n("e163"),m=n("d2bb"),v=n("241c").f,g=n("9bf2").f,y=n("81d5"),b=n("d44e"),k=n("69f3"),w=k.get,x=k.set,_="ArrayBuffer",A="DataView",S="prototype",C="Wrong length",E="Wrong index",T=i[_],M=T,L=i[A],D=L&&L[S],O=Object.prototype,B=i.RangeError,P=f.pack,$=f.unpack,I=function(t){return[255&t]},j=function(t){return[255&t,t>>8&255]},R=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Y=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},N=function(t){return P(t,23,4)},U=function(t){return P(t,52,8)},X=function(t,e){g(t[S],e,{get:function(){return w(this)[e]}})},V=function(t,e,n,i){var r=h(n),o=w(t);if(r+e>o.byteLength)throw B(E);var a=w(o.buffer).bytes,s=r+o.byteOffset,c=a.slice(s,s+e);return i?c:c.reverse()},F=function(t,e,n,i,r,o){var a=h(n),s=w(t);if(a+e>s.byteLength)throw B(E);for(var c=w(s.buffer).bytes,l=a+s.byteOffset,u=i(+r),d=0;d<e;d++)c[l+d]=u[o?d:e-d-1]};if(o){if(!c((function(){T(1)}))||!c((function(){new T(-1)}))||c((function(){return new T,new T(1.5),new T(NaN),T.name!=_}))){M=function(t){return l(this,M),new T(h(t))};for(var W,z=M[S]=T[S],H=v(T),G=0;H.length>G;)(W=H[G++])in M||a(M,W,T[W]);z.constructor=M}m&&p(D)!==O&&m(D,O);var q=new L(new M(2)),J=D.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||s(D,{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},{unsafe:!0})}else M=function(t){l(this,M,_);var e=h(t);x(this,{bytes:y.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},L=function(t,e,n){l(this,L,A),l(t,M,A);var i=w(t).byteLength,o=u(e);if(o<0||o>i)throw B("Wrong offset");if(n=void 0===n?i-o:d(n),o+n>i)throw B(C);x(this,{buffer:t,byteLength:n,byteOffset:o}),r||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},r&&(X(M,"byteLength"),X(L,"buffer"),X(L,"byteLength"),X(L,"byteOffset")),s(L[S],{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Y(V(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Y(V(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return $(V(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return $(V(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){F(this,1,t,I,e)},setUint8:function(t,e){F(this,1,t,I,e)},setInt16:function(t,e){F(this,2,t,j,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){F(this,2,t,j,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){F(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){F(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){F(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){F(this,8,t,U,e,arguments.length>2?arguments[2]:void 0)}});b(M,_),b(L,A),t.exports={ArrayBuffer:M,DataView:L}},"649e":function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").some,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("some",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},6522:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown"},[n("label",{attrs:{for:t.name}},[t._v(t._s(t.label))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"dropdown__input",attrs:{id:t.name,name:t.name,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.search},on:{focus:t.focus,blur:function(e){return t.select(!1)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dropdown__content"},[t._l(t.filterList,(function(e,i){return n("div",{key:i,on:{mousedown:function(n){return t.select(e)}}},[t._v(" "+t._s(e.label)+" ")])})),t.filterList.length?t._e():n("div",[t._v("Нет данных")])],2)])},r=[],o=(n("ac1f"),n("841c"),n("4de4"),n("caad"),n("2532"),{name:"Autocomplete",props:{name:String,list:{type:Array,required:!0,default:function(){return[]}},placeholder:String,disabled:Boolean,label:String,value:String},data:function(){return{selected:{},show:!1,search:""}},created:function(){this.search=this.value},computed:{filterList:function(){var t=this;return this.list?this.list.filter((function(e){var n=t.search;return!n||e.label.toLowerCase().includes(n.toLowerCase())})):[]}},methods:{select:function(t){t?(this.selected=t,this.show=!1,this.search=t.label,this.$emit("input",this.selected.value),this.$emit("change",t)):(this.search=this.selected.label,this.show=!1)},focus:function(){this.show=!0,this.$emit("focus",!0)}},watch:{value:{handler:function(t){this.show=!1,this.search=t}}}}),a=o,s=(n("d84f"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"73c680fb",null);e["a"]=c.exports},"72f7":function(t,e,n){"use strict";var i=n("ebb5").exportTypedArrayMethod,r=n("d039"),o=n("da84"),a=o.Uint8Array,s=a&&a.prototype||{},c=[].toString,l=[].join;r((function(){c.call({})}))&&(c=function(){return l.call(this)});var u=s.toString!=c;i("toString",c,u)},"735e":function(t,e,n){"use strict";var i=n("ebb5"),r=n("81d5"),o=i.aTypedArray,a=i.exportTypedArrayMethod;a("fill",(function(t){return r.apply(o(this),arguments)}))},"74e8":function(t,e,n){"use strict";var i=n("23e7"),r=n("da84"),o=n("83ab"),a=n("8aa7"),s=n("ebb5"),c=n("621a"),l=n("19aa"),u=n("5c6c"),d=n("9112"),h=n("50c4"),f=n("0b25"),p=n("182d"),m=n("c04e"),v=n("5135"),g=n("f5df"),y=n("861d"),b=n("7c73"),k=n("d2bb"),w=n("241c").f,x=n("a078"),_=n("b727").forEach,A=n("2626"),S=n("9bf2"),C=n("06cf"),E=n("69f3"),T=n("7156"),M=E.get,L=E.set,D=S.f,O=C.f,B=Math.round,P=r.RangeError,$=c.ArrayBuffer,I=c.DataView,j=s.NATIVE_ARRAY_BUFFER_VIEWS,R=s.TYPED_ARRAY_TAG,Y=s.TypedArray,N=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,X=s.isTypedArray,V="BYTES_PER_ELEMENT",F="Wrong length",W=function(t,e){var n=0,i=e.length,r=new(U(t))(i);while(i>n)r[n]=e[n++];return r},z=function(t,e){D(t,e,{get:function(){return M(this)[e]}})},H=function(t){var e;return t instanceof $||"ArrayBuffer"==(e=g(t))||"SharedArrayBuffer"==e},G=function(t,e){return X(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},q=function(t,e){return G(t,e=m(e,!0))?u(2,t[e]):O(t,e)},J=function(t,e,n){return!(G(t,e=m(e,!0))&&y(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?D(t,e,n):(t[e]=n.value,t)};o?(j||(C.f=q,S.f=J,z(N,"buffer"),z(N,"byteOffset"),z(N,"byteLength"),z(N,"length")),i({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:q,defineProperty:J}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",c="get"+t,u="set"+t,m=r[s],v=m,g=v&&v.prototype,S={},C=function(t,e){var n=M(t);return n.view[c](e*o+n.byteOffset,!0)},E=function(t,e,i){var r=M(t);n&&(i=(i=B(i))<0?0:i>255?255:255&i),r.view[u](e*o+r.byteOffset,i,!0)},O=function(t,e){D(t,e,{get:function(){return C(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};j?a&&(v=e((function(t,e,n,i){return l(t,v,s),T(function(){return y(e)?H(e)?void 0!==i?new m(e,p(n,o),i):void 0!==n?new m(e,p(n,o)):new m(e):X(e)?W(v,e):x.call(v,e):new m(f(e))}(),t,v)})),k&&k(v,Y),_(w(m),(function(t){t in v||d(v,t,m[t])})),v.prototype=g):(v=e((function(t,e,n,i){l(t,v,s);var r,a,c,u=0,d=0;if(y(e)){if(!H(e))return X(e)?W(v,e):x.call(v,e);r=e,d=p(n,o);var m=e.byteLength;if(void 0===i){if(m%o)throw P(F);if(a=m-d,a<0)throw P(F)}else if(a=h(i)*o,a+d>m)throw P(F);c=a/o}else c=f(e),a=c*o,r=new $(a);L(t,{buffer:r,byteOffset:d,byteLength:a,length:c,view:new I(r)});while(u<c)O(t,u++)})),k&&k(v,Y),g=v.prototype=b(N)),g.constructor!==v&&d(g,"constructor",v),R&&d(g,R,s),S[s]=v,i({global:!0,forced:v!=m,sham:!j},S),V in v||d(v,V,o),V in g||d(g,V,o),A(s)}):t.exports=function(){}},"77a7":function(t,e){var n=Math.abs,i=Math.pow,r=Math.floor,o=Math.log,a=Math.LN2,s=function(t,e,s){var c,l,u,d=new Array(s),h=8*s-e-1,f=(1<<h)-1,p=f>>1,m=23===e?i(2,-24)-i(2,-77):0,v=t<0||0===t&&1/t<0?1:0,g=0;for(t=n(t),t!=t||t===1/0?(l=t!=t?1:0,c=f):(c=r(o(t)/a),t*(u=i(2,-c))<1&&(c--,u*=2),t+=c+p>=1?m/u:m*i(2,1-p),t*u>=2&&(c++,u/=2),c+p>=f?(l=0,c=f):c+p>=1?(l=(t*u-1)*i(2,e),c+=p):(l=t*i(2,p-1)*i(2,e),c=0));e>=8;d[g++]=255&l,l/=256,e-=8);for(c=c<<e|l,h+=e;h>0;d[g++]=255&c,c/=256,h-=8);return d[--g]|=128*v,d},c=function(t,e){var n,r=t.length,o=8*r-e-1,a=(1<<o)-1,s=a>>1,c=o-7,l=r-1,u=t[l--],d=127&u;for(u>>=7;c>0;d=256*d+t[l],l--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=e;c>0;n=256*n+t[l],l--,c-=8);if(0===d)d=1-s;else{if(d===a)return n?NaN:u?-1/0:1/0;n+=i(2,e),d-=s}return(u?-1:1)*n*i(2,d-e)};t.exports={pack:s,unpack:c}},"7b8d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"t-field"},[n("label",{staticClass:"t-field__label"},[t._v(t._s(t.label))]),n("input",{staticStyle:{display:"none"},attrs:{name:t.parse},domProps:{value:t.select}}),n("at-select",{staticClass:"t-field__select",staticStyle:{width:"100px"},attrs:{clearable:"",size:"small",disabled:t.disabled},on:{"on-change":t.change},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.items,(function(e,i){var r=e.label,o=e.value;return n("at-option",{key:"item_"+i,attrs:{value:o}},[t._v(" "+t._s(r)+" ")])})),1)],1)},r=[],o=(n("a9e3"),n("d81d"),n("b64b"),n("b0c0"),{name:"TSelect",props:{label:{type:String,default:"Label"},type:{type:String,default:""},value:{type:[String,Number]},name:{type:String},parse:{type:String},lists:{type:[Array,Object]},disabled:Boolean},data:function(){return{select:""}},computed:{items:function(){return Array.isArray(this.lists)?this.lists.map((function(t){return t||""})):Object.keys(this.lists)}},methods:{change:function(t){this.$emit("input",t),this.$emit("change",{name:this.name,value:t})}},created:function(){this.select=this.value},destroyed:function(){}}),a=o,s=(n("1b04"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"57a2a8d3",null);e["a"]=c.exports},"7d53":function(t,e,n){"use strict";n("41dc")},"82f8":function(t,e,n){"use strict";var i=n("ebb5"),r=n("4d64").includes,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("includes",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},"841c":function(t,e,n){"use strict";var i=n("d784"),r=n("825a"),o=n("1d80"),a=n("129f"),s=n("14c3");i("search",(function(t,e,n){return[function(e){var n=o(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,this,t);if(i.done)return i.value;var o=r(this),c=String(t),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var u=s(o,c);return a(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"8aa7":function(t,e,n){var i=n("da84"),r=n("d039"),o=n("1c7e"),a=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,c=i.Int8Array;t.exports=!a||!r((function(){c(1)}))||!r((function(){new c(-1)}))||!o((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||r((function(){return 1!==new c(new s(2),1,void 0).length}))},"8e6b":function(t,e,n){},"94bf":function(t,e,n){},"9a8c":function(t,e,n){"use strict";var i=n("ebb5"),r=n("145e"),o=i.aTypedArray,a=i.exportTypedArrayMethod;a("copyWithin",(function(t,e){return r.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},a078:function(t,e,n){var i=n("7b0b"),r=n("50c4"),o=n("35a1"),a=n("e95a"),s=n("0366"),c=n("ebb5").aTypedArrayConstructor;t.exports=function(t){var e,n,l,u,d,h,f=i(t),p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=o(f);if(void 0!=g&&!a(g)){d=g.call(f),h=d.next,f=[];while(!(u=h.call(d)).done)f.push(u.value)}for(v&&p>2&&(m=s(m,arguments[2],2)),n=r(f.length),l=new(c(this))(n),e=0;n>e;e++)l[e]=v?m(f[e],e):f[e];return l}},a969:function(t,e,n){"use strict";n("d852")},a975:function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").every,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("every",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},a981:function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},b39a:function(t,e,n){"use strict";var i=n("da84"),r=n("ebb5"),o=n("d039"),a=i.Int8Array,s=r.aTypedArray,c=r.exportTypedArrayMethod,l=[].toLocaleString,u=[].slice,d=!!a&&o((function(){l.call(new a(1))})),h=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));c("toLocaleString",(function(){return l.apply(d?u.call(s(this)):s(this),arguments)}),h)},c1ac:function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").filter,o=n("1448"),a=i.aTypedArray,s=i.exportTypedArrayMethod;s("filter",(function(t){var e=r(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)}))},c1bd:function(t,e,n){"use strict";n("1dbb")},c7a7:function(t,e,n){n("159b"),n("b64b"),n("d3b7"),n("4de4"),n("a15b"),n("d81d"),n("ac1f"),n("841c"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("fb6a"),n("25f0"),n("5319"),n("4d63"),n("3ca3"),n("ddb0"),function(e){"use strict";function n(t,e){function n(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]})),t}return e=e||{},s(e),Promise.resolve(t).then((function(t){return l(t,e.filter,!0)})).then(u).then(d).then(n).then((function(n){return h(n,e.width||g.width(t),e.height||g.height(t))}))}function i(t,e){return c(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,g.width(t),g.height(t)).data}))}function r(t,e){return c(t,e||{}).then((function(t){return t.toDataURL()}))}function o(t,e){return e=e||{},c(t,e).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))}function a(t,e){return c(t,e||{}).then(g.canvasToBlob)}function s(t){"undefined"==typeof t.imagePlaceholder?x.impl.options.imagePlaceholder=w.imagePlaceholder:x.impl.options.imagePlaceholder=t.imagePlaceholder,"undefined"==typeof t.cacheBust?x.impl.options.cacheBust=w.cacheBust:x.impl.options.cacheBust=t.cacheBust}function c(t,e){function i(t){var n=document.createElement("canvas");if(n.width=e.width||g.width(t),n.height=e.height||g.height(t),e.bgcolor){var i=n.getContext("2d");i.fillStyle=e.bgcolor,i.fillRect(0,0,n.width,n.height)}return n}return n(t,e).then(g.makeImage).then(g.delay(100)).then((function(e){var n=i(t);return n.getContext("2d").drawImage(e,0,0),n}))}function l(t,e,n){function i(t){return t instanceof HTMLCanvasElement?g.makeImage(t.toDataURL()):t.cloneNode(!1)}function r(t,e,n){function i(t,e,n){var i=Promise.resolve();return e.forEach((function(e){i=i.then((function(){return l(e,n)})).then((function(e){e&&t.appendChild(e)}))})),i}var r=t.childNodes;return 0===r.length?Promise.resolve(e):i(e,g.asArray(r),n).then((function(){return e}))}function o(t,e){function n(){function n(t,e){function n(t,e){g.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}t.cssText?e.cssText=t.cssText:n(t,e)}n(window.getComputedStyle(t),e.style)}function i(){function n(n){function i(t,e,n){function i(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function r(t){function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}return g.asArray(t).map(e).join("; ")+";"}var o="."+t+":"+e,a=n.cssText?i(n):r(n);return document.createTextNode(o+"{"+a+"}")}var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""!==o&&"none"!==o){var a=g.uid();e.className=e.className+" "+a;var s=document.createElement("style");s.appendChild(i(a,n,r)),e.appendChild(s)}}[":before",":after"].forEach((function(t){n(t)}))}function r(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function o(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}return e instanceof Element?Promise.resolve().then(n).then(i).then(r).then(o).then((function(){return e})):e}return n||!e||e(t)?Promise.resolve(t).then(i).then((function(n){return r(t,n,e)})).then((function(e){return o(t,e)})):Promise.resolve()}function u(t){return b.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function d(t){return k.inlineAll(t).then((function(){return t}))}function h(t,e,n){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(g.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}function f(){function t(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(n){var i=e(n).toLowerCase();return t()[i]||""}function i(t){return-1!==t.search(/^(data:)/)}function r(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),i=n.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=n.charCodeAt(o);e(new Blob([r],{type:"image/png"}))}))}function o(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):r(t)}function a(t,e){var n=document.implementation.createHTMLDocument(),i=n.createElement("base");n.head.appendChild(i);var r=n.createElement("a");return n.body.appendChild(r),i.href=e,r.href=t,r.href}function s(){var t=0;return function(){function e(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}return"u"+e()+t++}}function c(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){e(i)},i.onerror=n,i.src=t}))}function l(t){var e=3e4;return x.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(n){function i(){if(4===s.readyState){if(200!==s.status)return void(a?n(a):o("cannot fetch resource: "+t+", status: "+s.status));var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(s.response)}}function r(){a?n(a):o("timeout of "+e+"ms occured while fetching resource: "+t)}function o(t){console.error(t),n("")}var a,s=new XMLHttpRequest;if(s.onreadystatechange=i,s.ontimeout=r,s.responseType="blob",s.timeout=e,s.open("GET",t,!0),s.send(),x.impl.options.imagePlaceholder){var c=x.impl.options.imagePlaceholder.split(/,/);c&&c[1]&&(a=c[1])}}))}function u(t,e){return"data:"+e+";base64,"+t}function d(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function h(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}}function f(t){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}function p(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function m(t){var e=g(t,"border-left-width"),n=g(t,"border-right-width");return t.scrollWidth+e+n}function v(t){var e=g(t,"border-top-width"),n=g(t,"border-bottom-width");return t.scrollHeight+e+n}function g(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}return{escape:d,parseExtension:e,mimeType:n,dataAsUrl:u,isDataUrl:i,canvasToBlob:o,resolveUrl:a,getAndEncode:l,uid:s(),delay:h,asArray:f,escapeXhtml:p,makeImage:c,width:m,height:v}}function p(){function t(t){return-1!==t.search(r)}function e(t){for(var e,n=[];null!==(e=r.exec(t));)n.push(e[1]);return n.filter((function(t){return!g.isDataUrl(t)}))}function n(t,e,n,i){function r(t){return new RegExp("(url\\(['\"]?)("+g.escape(t)+")(['\"]?\\))","g")}return Promise.resolve(e).then((function(t){return n?g.resolveUrl(t,n):t})).then(i||g.getAndEncode).then((function(t){return g.dataAsUrl(t,g.mimeType(e))})).then((function(n){return t.replace(r(e),"$1"+n+"$3")}))}function i(i,r,o){function a(){return!t(i)}return a()?Promise.resolve(i):Promise.resolve(i).then(e).then((function(t){var e=Promise.resolve(i);return t.forEach((function(t){e=e.then((function(e){return n(e,t,r,o)}))})),e}))}var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:i,shouldProcess:t,impl:{readUrls:e,inline:n}}}function m(){function t(){return e(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))}function e(){function t(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return y.shouldProcess(t.style.getPropertyValue("src"))}))}function e(t){var e=[];return t.forEach((function(t){try{g.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(n){console.log("Error while reading CSS rules from "+t.href,n.toString())}})),e}function n(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return y.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}return Promise.resolve(g.asArray(document.styleSheets)).then(e).then(t).then((function(t){return t.map(n)}))}return{resolveAll:t,impl:{readAll:e}}}function v(){function t(t){function e(e){return g.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||g.getAndEncode).then((function(e){return g.dataAsUrl(e,g.mimeType(t.src))})).then((function(e){return new Promise((function(n,i){t.onload=n,t.onerror=i,t.src=e}))}))}return{inline:e}}function e(n){function i(t){var e=t.style.getPropertyValue("background");return e?y.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}return n instanceof Element?i(n).then((function(){return n instanceof HTMLImageElement?t(n).inline():Promise.all(g.asArray(n.childNodes).map((function(t){return e(t)})))})):Promise.resolve(n)}return{inlineAll:e,impl:{newImage:t}}}var g=f(),y=p(),b=m(),k=v(),w={imagePlaceholder:void 0,cacheBust:!1},x={toSvg:n,toPng:r,toJpeg:o,toBlob:a,toPixelData:i,impl:{fontFaces:b,images:k,util:g,inliner:y,options:{}}};t.exports=x}()},c9ef:function(t,e,n){"use strict";n("2b7f")},ca91:function(t,e,n){"use strict";var i=n("ebb5"),r=n("d58f").left,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("reduce",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cbe4:function(t,e,n){},cd26:function(t,e,n){"use strict";var i=n("ebb5"),r=i.aTypedArray,o=i.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){var t,e=this,n=r(e).length,i=a(n/2),o=0;while(o<i)t=e[o],e[o++]=e[--n],e[n]=t;return e}))},d139:function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").find,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("find",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},d58f:function(t,e,n){var i=n("1c0b"),r=n("7b0b"),o=n("44ad"),a=n("50c4"),s=function(t){return function(e,n,s,c){i(n);var l=r(e),u=o(l),d=a(l.length),h=t?d-1:0,f=t?-1:1;if(s<2)while(1){if(h in u){c=u[h],h+=f;break}if(h+=f,t?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=f)h in u&&(c=n(c,u[h],h,l));return c}};t.exports={left:s(!1),right:s(!0)}},d5d6:function(t,e,n){"use strict";var i=n("ebb5"),r=n("b727").forEach,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("forEach",(function(t){r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},d84f:function(t,e,n){"use strict";n("17a0")},d852:function(t,e,n){},e081:function(t,e,n){"use strict";n("23f6")},e4f6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"page-modeling"},[n("div",{staticClass:"cont"},[n("LoadModel",{model:{value:t.dialogLoadModel,callback:function(e){t.dialogLoadModel=e},expression:"dialogLoadModel"}}),n("SaveModel",{attrs:{image:t.imageModel},model:{value:t.dialogSaveModel,callback:function(e){t.dialogSaveModel=e},expression:"dialogSaveModel"}}),n("Toolbar",{on:{actions:t.actions}}),n("Blocks",{ref:"container",on:{blockSelect:function(e){t.selectBlock=e},blockDeselect:function(e){t.selectBlock=null}}}),n("Params",{attrs:{selectBlock:t.selectBlock}})],1)])},r=[],o=n("1da1"),a=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("ul",{staticClass:"toolbar__menu"},[t._l(t.toolbar,(function(e,i){var r=e.title,o=e.name,a=e.disabled,s=e.icon,c=e.hr;return[n("li",{key:i,staticClass:"toolbar__menu--item",attrs:{disabled:a},on:{click:function(e){return e.preventDefault(),t.click(o)}}},[n("i",{class:["t-icon",s],attrs:{title:r}})]),c?n("hr",{key:"hr_"+i}):t._e()]}))],2)])}),s=[],c={name:"Toolbar",data:function(){return{}},computed:{toolbar:{set:function(t){this.$store.dispatch("modeling/setToolbar",t)},get:function(){return this.$store.getters["modeling/getToolbar"]}}},methods:{click:function(t){this.$emit("actions",t)}}},l=c,u=(n("a969"),n("2877")),d=Object(u["a"])(l,a,s,!1,null,"49cd9578",null),h=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board"},[n("VueLink",{attrs:{lines:t.lines}}),t._l(t.blocks,(function(e){return n("VueBlock",t._b({key:e.id,attrs:{options:t.optionsForChild},on:{linkingStart:function(n){return t.linkingStart(e,n)},linkingStop:function(n){return t.linkingStop(e,n)},linkingBreak:function(n){return t.linkingBreak(e,n)},select:function(n){return t.blockSelect(e)},delete:function(n){return t.blockDelete(e)},position:function(n){return t.position(e,n)}}},"VueBlock",e,!1))})),n("div",{staticClass:"btn-zoom"},[n("div",{staticClass:"btn-zoom__item"},[n("i",{staticClass:"t-icon icon-zoom-inc",on:{click:function(e){return t.zoom(1)}}})]),n("hr"),n("div",{staticClass:"btn-zoom__item"},[n("i",{staticClass:"t-icon icon-zoom-reset",on:{click:function(e){return t.zoom(0)}}})]),n("hr"),n("div",{staticClass:"btn-zoom__item"},[n("i",{staticClass:"t-icon icon-zoom-dec",on:{click:function(e){return t.zoom(-1)}}})])])],2)},p=[],m=n("2909"),v=n("b85c"),g=(n("7db0"),n("c740"),n("4de4"),n("99af"),n("d81d"),n("159b"),n("c7a7")),y=n.n(g),b=n("9643"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-block",style:t.style,on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("div",{class:["header",t.group,{selected:t.selected}]},[n("div",{staticClass:"title",attrs:{title:t.name}},[t._v(t._s(t.name)+": "+t._s(t.type))]),n("div",{staticClass:"parametr",attrs:{title:t.parameters}},[t._v("[]")])]),-1===t.group.indexOf("middle")?n("div",{directives:[{name:"show",rawName:"v-show",value:t.hover||t.selected,expression:"hover || selected"}],staticClass:"hover-over"},[n("i",{staticClass:"t-icon icon-modeling-link"}),n("i",{staticClass:"t-icon icon-modeling-link-remove"})]):n("div",{directives:[{name:"show",rawName:"v-show",value:t.hover||t.selected,expression:"hover || selected"}],staticClass:"hover-sloy"},[n("i",{staticClass:"t-icon icon-modeling-link"}),n("i",{staticClass:"t-icon icon-modeling-link-remove"}),n("i",{staticClass:"t-icon icon-modeling-remove",on:{click:t.deleteBlock}})]),n("div",{staticClass:"inputs"},t._l(t.inputs,(function(e,i){return n("div",{key:"input"+i,staticClass:"input inputSlot",class:{active:e.active},on:{mouseup:function(e){return t.slotMouseUp(e,i)},mousedown:function(e){return t.slotBreak(e,i)}}})})),0),n("div",{staticClass:"outputs"},t._l(t.outputs,(function(e,i){return n("div",{key:"output"+i,staticClass:"output",class:[{active:e.active},t.typeLink[i]],on:{mousedown:function(e){return t.slotMouseDown(e,i)}}})})),0)])},w=[],x=(n("a9e3"),{name:"VueBlock",props:{id:{type:Number},name:{type:String},group:{type:String},position:{type:Array,default:function(){return[]},validator:function(t){return"number"===typeof t[0]&&"number"===typeof t[1]}},selected:Boolean,type:String,title:{type:String,default:"Title"},inputs:Array,outputs:Array,parameters:{type:Object,default:function(){}},options:{type:Object}},data:function(){return{hover:!1,hasDragged:!1,typeLink:["bottom","right","left"]}},created:function(){this.mouseX=0,this.mouseY=0,this.lastMouseX=0,this.lastMouseY=0,this.linking=!1,this.dragging=!1},mounted:function(){document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mousedown",this.handleDown,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0)},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mousedown",this.handleDown,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0)},methods:{handleMove:function(t){if(this.mouseX=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouseY=t.pageY||t.clientY+document.documentElement.scrollTop,this.dragging&&!this.linking){var e=this.mouseX-this.lastMouseX,n=this.mouseY-this.lastMouseY;this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.moveWithDiff(e,n),this.hasDragged=!0}},handleDown:function(t){this.mouseX=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouseY=t.pageY||t.clientY+document.documentElement.scrollTop,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var e=t.target||t.srcElement;this.$el.contains(e)&&1===t.which&&(this.dragging=!0,this.$emit("select"),t.preventDefault&&t.preventDefault())},handleUp:function(){this.dragging&&(this.dragging=!1,this.hasDragged&&(this.save(),this.hasDragged=!1)),this.linking&&(this.linking=!1)},slotMouseDown:function(t,e){this.linking=!0,this.$emit("linkingStart",e),t.preventDefault&&t.preventDefault()},slotMouseUp:function(t,e){this.$emit("linkingStop",e),t.preventDefault&&t.preventDefault()},slotBreak:function(t,e){this.linking=!0,this.$emit("linkingBreak",e),t.preventDefault&&t.preventDefault()},save:function(){this.$emit("update")},deleteBlock:function(){this.$emit("delete")},moveWithDiff:function(t,e){var n=this.position[0]+t/this.options.scale,i=this.position[1]+e/this.options.scale;this.$emit("position",[n,i])}},computed:{style:function(){return{left:this.options.center.x+this.position[0]*this.options.scale+"px",top:this.options.center.y+this.position[1]*this.options.scale+"px",width:this.options.width+"px",transform:"scale("+this.options.scale+")",transformOrigin:"top left"}}}}),_=x,A=(n("c9ef"),Object(u["a"])(_,k,w,!1,null,"58c7430c",null)),S=A.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{width:"100%",height:"100%"}},[t._l(t.renderedPathes,(function(e,i){return n("g",{key:"k"+i},[t.outline?n("path",{style:e.outlineStyle,attrs:{d:e.data}}):t._e(),n("path",{style:e.style,attrs:{d:e.data}})])})),n("g",t._l(t.renderedArrows,(function(t,e){return n("path",{key:"a"+e,style:t.style,attrs:{d:"M -1 -1 L 0 1 L 1 -1 z",transform:t.transform}})})),0)],2)},E=[],T={props:{lines:{type:Array,default:function(){return[]}},outline:{type:Boolean,default:!1}},methods:{distance:function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},computeConnectionPoint:function(t,e,n,i,r){var o=this.distance(t,e,n,i),a={x:t,y:e},s={x:t+.25*o,y:e},c={x:n-.25*o,y:i},l={x:n,y:i},u=(1-r)*(1-r)*(1-r),d=(1-r)*(1-r)*3*r,h=3*(1-r)*(r*r),f=r*r*r,p=u*a.x+d*s.x+h*c.x+f*l.x,m=u*a.y+d*s.y+h*c.y+f*l.y;return{x:p,y:m}}},computed:{renderedPathes:function(){var t=this;if(!this.lines)return[];var e=[];return this.lines.forEach((function(n){var i=.2*t.distance(n.x1,n.y1,n.x2,n.y2),r=["M ".concat(n.x1,", ").concat(n.y1," C ").concat(n.x1,", ").concat(n.y1,", ").concat(n.x2,", ").concat(n.y2,", ").concat(n.x2,", ").concat(n.y2),"M ".concat(n.x1,", ").concat(n.y1," C ").concat(n.x1+i,", ").concat(n.y1,", ").concat(n.x2-i,", ").concat(n.y2,", ").concat(n.x2,", ").concat(n.y2),"M ".concat(n.x1,", ").concat(n.y1," C ").concat(n.x1-i,", ").concat(n.y1,", ").concat(n.x2+i,", ").concat(n.y2,", ").concat(n.x2,", ").concat(n.y2)];e.push({data:r[n.slot]||r[0],style:n.style,outlineStyle:n.outlineStyle})})),e},renderedArrows:function(){var t=this;if(!this.lines)return[];var e=[];return this.lines.forEach((function(n){var i=t.computeConnectionPoint(n.x1,n.y1,n.x2,n.y2,.5),r=t.computeConnectionPoint(n.x1,n.y1,n.x2,n.y2,.501),o=-Math.atan2(r.x-i.x,r.y-i.y),a=180*(o>=0?o:2*Math.PI+o)/Math.PI;e.push({transform:"translate(".concat(i.x,", ").concat(i.y,") rotate(").concat(a-15,")"),style:{stroke:"rgb(80, 125, 150)",strokeWidth:2*n.style.strokeWidth,fill:n.style.stroke}})})),e}}},M=T,L=Object(u["a"])(M,C,E,!1,null,"c7f29b90",null),D=L.exports,O={name:"VueBlockContainer",components:{VueBlock:S,VueLink:D},props:{blocksContent:{type:Array,default:function(){return[]}},options:{type:Object}},data:function(){return{dragging:!1,centerX:0,centerY:0,scale:1,tempLink:null,selectedBlock:null,hasDragged:!1,mouseX:0,mouseY:0,lastMouseX:0,lastMouseY:0,minScale:.2,maxScale:5,linking:!1,linkStartData:null,inputSlotClassName:"inputSlot",defaultScene:{blocks:[],links:[],container:{}}}},computed:{blocks:{set:function(t){this.$store.dispatch("modeling/setBlocks",t)},get:function(){return this.$store.getters["modeling/getBlocks"]}},links:{set:function(t){console.log(t),this.$store.dispatch("modeling/setLinks",t)},get:function(){return this.$store.getters["modeling/getLinks"]}},optionsForChild:function(){return{width:200,titleHeight:48,scale:this.scale,inputSlotClassName:this.inputSlotClassName,center:{x:this.centerX,y:this.centerY}}},container:function(){return{centerX:this.centerX,centerY:this.centerY,scale:this.scale}},lines:function(){var t,e=this,n=[],i=Object(v["a"])(this.links);try{var r=function(){var i=t.value,r=e.blocks.find((function(t){return t.id===i.originID})),o=e.blocks.find((function(t){return t.id===i.targetID}));if(!r||!o)return console.log("Remove invalid link",i),e.removeLink(i.id),"continue";if(r.id===o.id)return console.log("Loop detected, remove link",i),e.removeLink(i.id),"continue";var a=e.getConnectionPos(r,i.originSlot,!1),s=e.getConnectionPos(o,i.targetSlot,!0);if(!a||!s)return console.log("Remove invalid link (slot not exist)",i),e.removeLink(i.id),"continue";var c=a.x,l=a.y,u=s.x,d=s.y;n.push({x1:c,y1:l,x2:u,y2:d,slot:i.originSlot,style:{stroke:"rgb(101, 185, 244)",strokeWidth:3*e.scale,fill:"none"},outlineStyle:{stroke:"#666",strokeWidth:6*e.scale,strokeOpacity:.6,fill:"none"}})};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return this.tempLink&&(this.tempLink.style={stroke:"#8f8f8f",strokeWidth:3*this.scale,fill:"none"},n.push(this.tempLink)),n}},methods:{handleMauseOver:function(t){this.mouseIsOver="mouseenter"===t.type},keyup:function(t){var e=t.code,n=t.ctrlKey,i=this.mouseIsOver;console.log(i,e),i&&"Delete"===e&&this.selectedBlock&&this.blockDelete(this.selectedBlock),i&&"KeyC"===e&&n&&this.selectedBlock&&this.blockDelete(this.selectedBlock)},zoom:function(t){if(0!==t){var e=1===t?1.1:.9090909090909091;if(this.scale*=e,this.scale<this.minScale)this.scale=this.minScale;else if(this.scale>this.maxScale)this.scale=this.maxScale;else{var n={x:this.mouseX,y:this.mouseY},i=(n.x-this.centerX)*(e-1),r=(n.y-this.centerY)*(e-1);this.centerX-=i,this.centerY-=r}}else this.scale=1},handleMove:function(t){var e=Object(b["b"])(this.$el,t);if(this.mouseX=e.x,this.mouseY=e.y,this.dragging){var n=this.mouseX-this.lastMouseX,i=this.mouseY-this.lastMouseY;this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.centerX+=n,this.centerY+=i,this.hasDragged=!0}if(this.linking&&this.linkStartData){var r=this.getConnectionPos(this.linkStartData.block,this.linkStartData.slotNumber,!1);this.tempLink={x1:r.x,y1:r.y,x2:this.mouseX,y2:this.mouseY,slot:this.linkStartData.slotNumber}}},handleDown:function(t){console.log("handleDown");var e=t.target||t.srcElement;if((e===this.$el||e.matches("svg, svg *"))&&1===t.which){this.dragging=!0;var n=Object(b["b"])(this.$el,t);this.mouseX=n.x,this.mouseY=n.y,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.deselectAll(),t.preventDefault&&t.preventDefault()}},handleUp:function(t){console.log("handleUp");var e=t.target||t.srcElement;this.dragging&&(this.dragging=!1,this.hasDragged&&(this.hasDragged=!1)),!this.$el.contains(e)||"string"===typeof e.className&&-1!==e.className.indexOf(this.inputSlotClassName)||(this.linking=!1,this.tempLink=null,this.linkStartData=null)},handleWheel:function(t){var e=t.target||t.srcElement;if(this.$el.contains(e)){var n=Math.pow(1.1,-.01*t.deltaY);if(this.scale*=n,this.scale<this.minScale)return void(this.scale=this.minScale);if(this.scale>this.maxScale)return void(this.scale=this.maxScale);var i={x:this.mouseX,y:this.mouseY},r=(i.x-this.centerX)*(n-1),o=(i.y-this.centerY)*(n-1);this.centerX-=r,this.centerY-=o}},getConnectionPos:function(t,e,n){if(t&&-1!==e){var i=0,r=0;if(i+=t.position[0],r+=t.position[1],n&&t.inputs.length>e)1===t.inputs.length?i+=this.optionsForChild.width/2:(i+=this.optionsForChild.width/2-10*t.inputs.length/2,i+=20*e);else{if(n||!(t.outputs.length>e))return void console.error("slot "+e+" not found, is input: "+n,t);0===e&&(i+=this.optionsForChild.width/2,r+=50),1===e&&(i+=this.optionsForChild.width,r+=25),2===e&&(r+=25)}return i*=this.scale,r*=this.scale,i+=this.centerX,r+=this.centerY,{x:i,y:r}}},findindexBlock:function(t){return this.blocks.findIndex((function(e){return e.id===t}))},linkingStart:function(t,e){console.log("linkingStart"),this.linkStartData={block:t,slotNumber:e};var n=this.getConnectionPos(this.linkStartData.block,this.linkStartData.slotNumber,!1);this.tempLink={x1:n.x,y1:n.y,x2:this.mouseX,y2:this.mouseY},this.linking=!0},linkingStop:function(t,e){if(console.log("linkingStop"),this.linkStartData&&t&&e>-1){var n=this.linkStartData,i=n.slotNumber,r=n.block.id,o=t.id,a=e;this.links=this.links.filter((function(t){return!(t.targetID===o&&t.targetSlot===a&&t.originID===r&&t.originSlot===i)&&!(t.originID===r&&t.targetID===o)}));var s=Math.max.apply(Math,[0].concat(Object(m["a"])(this.links.map((function(t){return t.id})))));if(this.linkStartData.block.id!==t.id){var c=this.linkStartData.block.id,l=this.linkStartData.slotNumber,u=t.id,d=e;this.links.push({id:s+1,originID:c,originSlot:l,targetID:u,targetSlot:d});var h=this.findindexBlock(c),f=this.findindexBlock(u);-1===this.blocks[h].bind.down.indexOf(u)&&this.blocks[h].bind.down.push(+u),-1===this.blocks[f].bind.up.indexOf(c)&&this.blocks[f].bind.up.push(+c)}}this.linking=!1,this.tempLink=null,this.linkStartData=null},linkingBreak:function(t,e){if(console.log("linkingBreak"),t&&e>-1){var n=this.links.find((function(n){return n.targetID===t.id&&n.targetSlot===e}));if(n){var i=this.blocks.find((function(t){return t.id===n.originID}));this.links=this.links.filter((function(n){return!(n.targetID===t.id&&n.targetSlot===e)})),t.inputs[n.targetSlot].active=!1,i.outputs[n.originSlot].active=!1,console.log(n),this.linkingStart(i,n.originSlot)}}},removeLink:function(t){console.log("removeLink"),this.links=this.links.filter((function(e){return!(e.id===t)}))},getImages:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.toPng(t.$el,{filter:function(t){return"btn-zoom"!==t.className}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addNewBlock:function(t,e,n){var i=Math.max.apply(Math,[0].concat(Object(m["a"])(this.blocks.map((function(t){return t.id}))))),r=Object(b["a"])(t,i+1);r?(void 0===e||void 0===n?(e=(this.$el.clientWidth/2-this.centerX)/this.scale,n=(this.$el.clientHeight/2-this.centerY)/this.scale):(e=(e-this.centerX)/this.scale,n=(n-this.centerY)/this.scale),r.position=[e,n],this.blocks.push(r),this.blocks=this.blocks):console.warn("block not create: "+r)},position:function(t,e){t.position=e},deselectAll:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.blocks.forEach((function(n){n.id!==e&&n.selected&&t.blockDeselect(n)}))},blockSelect:function(t){t.selected=!0,this.selectedBlock=t,this.deselectAll(t.id),this.$emit("blockSelect",t)},blockDeselect:function(t){t.selected=!1,t&&this.selectedBlock&&this.selectedBlock.id===t.id&&(this.selectedBlock=null),this.$emit("blockDeselect",t)},blockDelete:function(t){var e=this;t.selected&&this.blockDeselect(t),this.links.forEach((function(n){n.originID!==t.id&&n.targetID!==t.id||e.removeLink(n.id)})),this.blocks=this.blocks.filter((function(e){return e.id!==t.id}))},updateScene:function(){}},mounted:function(){this.$el.addEventListener("mouseenter",this.handleMauseOver),this.$el.addEventListener("mouseleave",this.handleMauseOver),document.documentElement.addEventListener("keyup",this.keyup),document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mousedown",this.handleDown,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0),document.documentElement.addEventListener("wheel",this.handleWheel,!0),this.centerX=this.$el.clientWidth/2,this.centerY=this.$el.clientHeight/2},beforeDestroy:function(){document.documentElement.removeEventListener("keyup",this.keyup),this.$el.removeEventListener("mouseenter",this.handleMauseOver),this.$el.removeEventListener("mouseleave",this.handleMauseOver),document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mousedown",this.handleDown,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0),document.documentElement.removeEventListener("wheel",this.handleWheel,!0)}},B=O,P=(n("52e8"),Object(u["a"])(B,f,p,!1,null,"4b522a0e",null)),$=P.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"params"},[n("Navbar"),n("scrollbar",[n("div",{staticClass:"params__items"},[n("form",{ref:"form",attrs:{novalidate:"novalidate"}},[n("div",{staticClass:"params__items--item"},[n("Input",{attrs:{label:"Название слоя",type:"text",parse:"name",name:"name",id:"name",disabled:!t.selectBlock},on:{change:t.saveModel},model:{value:t.block.name,callback:function(e){t.$set(t.block,"name",e)},expression:"block.name"}}),n("Autocomplete2",{attrs:{list:t.list,label:"Тип слоя",name:"type",disabled:!t.selectBlock},on:{change:t.saveModel},model:{value:t.block.type,callback:function(e){t.$set(t.block,"type",e)},expression:"block.type"}})],1),n("at-collapse",{attrs:{value:[0,1]}},[n("at-collapse-item",{staticClass:"mb-3",attrs:{title:"Параметры слоя"}},[n("Forms",{attrs:{data:t.main},on:{change:t.change}})],1),n("at-collapse-item",{staticClass:"mb-3",attrs:{title:"Дополнительные параметры"}},[n("Forms",{attrs:{data:t.extra},on:{change:t.change}})],1)],1),n("div",{staticClass:"params__items--item"},[n("button",{staticClass:"mb-1",attrs:{disabled:"disabled"}},[t._v("Сохранить")]),n("button",{attrs:{disabled:"disabled"}},[t._v("Клонировать")])])],1)])])],1)},j=[],R=n("5530"),Y=(n("b64b"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"params__navbar"},[n("ul",{staticClass:"params__navbar--items"},[t._l(t.items,(function(e,i){var r=e.title,o=e.active;return[n("li",{key:"item_"+i,class:["params__navbar--item",{active:o}],attrs:{title:r},on:{click:function(e){return t.click(i)}}},[t._v(" "+t._s(r)+" ")])]}))],2)])}),N=[],U={name:"PNavbar",props:{list:{type:Array,default:function(){return[{title:"Слой",active:!0}]}}},data:function(){return{items:[]}},methods:{click:function(t){this.items=this.items.map((function(e,n){return e.active=t===n,e}))}},created:function(){this.items=this.list}},X=U,V=(n("4d8f"),Object(u["a"])(X,Y,N,!1,null,"307b0c36",null)),F=V.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["t-field",{"t-inline":t.inline}]},[n("label",{staticClass:"t-field__label",attrs:{for:t.parse}},[t._v(t._s(t.label))]),"checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"t-field__input",attrs:{id:t.parse,name:t.parse,disabled:t.disabled,type:"checkbox"},domProps:{value:t.value,checked:Array.isArray(t.input)?t._i(t.input,t.value)>-1:t.input},on:{blur:t.change,change:function(e){var n=t.input,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t.value,a=t._i(n,o);i.checked?a<0&&(t.input=n.concat([o])):a>-1&&(t.input=n.slice(0,a).concat(n.slice(a+1)))}else t.input=r}}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"t-field__input",attrs:{id:t.parse,name:t.parse,disabled:t.disabled,type:"radio"},domProps:{value:t.value,checked:t._q(t.input,t.value)},on:{blur:t.change,change:function(e){t.input=t.value}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"t-field__input",attrs:{id:t.parse,name:t.parse,disabled:t.disabled,type:t.type},domProps:{value:t.value,value:t.input},on:{blur:t.change,input:function(e){e.target.composing||(t.input=e.target.value)}}})])},z=[],H={props:{label:{type:String,default:"Label"},type:{type:String,default:"text"},value:{type:[String,Number]},parse:String,name:String,inline:Boolean,disabled:Boolean},data:function(){return{isChange:!1}},computed:{input:{set:function(t){this.$emit("input",t),this.isChange=!0},get:function(){return this.value}}},methods:{change:function(t){if(this.isChange){var e=t.target.value;e="number"===this.type?+e:e,this.$emit("change",{name:this.name,value:e}),this.isChange=!1}}}},G=H,q=(n("e081"),Object(u["a"])(G,W,z,!1,null,"529f134e",null)),J=q.exports,K=n("6522"),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-inline-label"},[t._l(t.items,(function(e,i){var r=e.type,o=e.value,a=e.list,s=e.event,c=e.label,l=e.parse,u=e.name;return["tuple"===r?n("Input",{key:t.blockType+i,attrs:{value:t.getValue(t.valueDef[u],o),label:c,type:"text",parse:l,name:u,inline:""},on:{change:t.change}}):t._e(),"number"===r||"text"===r?n("Input",{key:t.blockType+i,attrs:{value:t.getValue(t.valueDef[u],o),label:c,type:r,parse:l,name:u,inline:""},on:{change:t.change}}):t._e(),"checkbox"===r?n("t-checkbox",{key:t.blockType+i,attrs:{inline:"",value:t.getValue(t.valueDef[u],o),label:c,type:"checkbox",parse:l,name:u,event:s},on:{change:t.change}}):t._e(),"select"===r?n("Select",{key:t.blockType+i,attrs:{value:t.getValue(t.valueDef[u],o),label:c,lists:a,parse:l,name:u},on:{change:t.change}}):t._e()]}))],2)},Z=[],tt=n("53ca"),et=(n("a15b"),n("7b8d")),nt={name:"Forms",components:{Input:J,Select:et["a"]},props:{data:{type:Object,default:function(){return{type:"main",items:[],value:{}}}}},computed:{items:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.items)||[]},valueDef:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.value)||{}},type:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.type)||""},blockType:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.blockType)||""}},methods:{change:function(t){this.$emit("change",Object(R["a"])({type:this.type},t))},getValue:function(t,e){var n=null!==t&&void 0!==t?t:e;return"object"===Object(tt["a"])(n)?n.join():n}},filters:{toString:function(t){return"object"===Object(tt["a"])(t)?t.join():t},isCheck:function(t){return!!t}}},it=nt,rt=Object(u["a"])(it,Q,Z,!1,null,null,null),ot=rt.exports,at=n("2f62"),st={name:"Params",props:{selectBlock:Object},components:{Input:J,Autocomplete2:K["a"],Forms:ot,Navbar:F},data:function(){return{oldBlock:null}},computed:Object(R["a"])(Object(R["a"])({},Object(at["b"])({list:"modeling/getList",layers:"modeling/getLayersType",block:"modeling/getBlock"})),{},{block:{set:function(t){this.$store.dispatch("modeling/setBlock",t)},get:function(){return this.$store.getters["modeling/getBlock"]||{}}},main:function(){if(Object.keys(this.layers).length&&this.block.type){var t,e,n,i=(null===(t=this.layers[this.block.type])||void 0===t?void 0:t.main)||[],r=(null===(e=this.block)||void 0===e||null===(n=e.parameters)||void 0===n?void 0:n.main)||{},o=this.block.type;return{type:"main",items:i,value:r,blockType:o}}return{type:"main",items:[],value:{}}},extra:function(){if(Object.keys(this.layers).length&&this.block.type){var t,e,n,i=(null===(t=this.layers[this.block.type])||void 0===t?void 0:t.extra)||[],r=(null===(e=this.block)||void 0===e||null===(n=e.parameters)||void 0===n?void 0:n.extra)||{},o=this.block.type;return{type:"extra",items:i,value:r,blockType:o}}return{type:"extra",items:[],value:{}}}}),methods:{saveModel:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("modeling/saveModel",{});case 2:case"end":return e.stop()}}),e)})))()},change:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t.type,r=t.name,o=t.value,console.log({type:i,name:r,value:o}),e.block.parameters?e.block.parameters[i][r]=o:e.oldBlock.parameters[i][r]=o,e.$emit("change"),e.saveModel();case 5:case"end":return n.stop()}}),n)})))()}},watch:{selectBlock:{handler:function(t,e){this.oldBlock=e,this.$store.dispatch("modeling/setSelect",null===t||void 0===t?void 0:t.id),console.log(t,e)}}}},ct=st,lt=(n("e770"),Object(u["a"])(ct,I,j,!1,null,"655cf852",null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("at-modal",{attrs:{width:"680",showClose:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("div",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Загрузка модели")])]),n("div",{staticClass:"row at-row"},[n("div",{staticClass:"col-16 models-list scroll-area"},[n("scrollbar",[n("ul",{staticClass:"loaded-list"},[t._l(t.preset,(function(e,i){return n("li",{key:"preset_"+i,staticClass:"loaded-list__item",on:{click:function(n){return t.getModel(e)}}},[n("i",{staticClass:"loaded-list__item--icon"}),n("span",{staticClass:"loaded-list__item--text"},[t._v(t._s(e.label))])])})),t._l(t.custom,(function(e,i){return n("li",{key:"custom_"+i,staticClass:"loaded-list__item",on:{click:function(n){return t.getModel(e)}}},[n("i",{staticClass:"loaded-list__item--icon"}),n("span",{staticClass:"loaded-list__item--text"},[t._v(t._s(e.label))]),n("div",{staticClass:"loaded-list__item--empty"}),n("div",{staticClass:"loaded-list__item--remove"},[n("i")])])}))],2)])],1),n("div",{staticClass:"col-8"},[t.info.name?n("div",{staticClass:"model-arch"},[n("div",{staticClass:"wrapper hidden"},[n("div",{staticClass:"modal-arch-info"},[n("div",{staticClass:"model-arch-info-param name"},[t._v(" Name: "),n("span",[t._v(t._s(t.info.alias||""))])]),n("div",{staticClass:"model-arch-info-param input_shape"},[t._v(" Input shape: "),n("span",[t._v(t._s(t.info.input_shape||""))])]),n("div",{staticClass:"model-arch-info-param datatype"},[t._v(" Datatype: "),n("span",[t._v(t._s(t.info.name))])])]),n("div",{staticClass:"model-arch-img my-5"},[n("img",{attrs:{alt:"",width:"100",height:"200",src:"data:image/png;base64,"+t.info.image||!1}})]),n("div",{staticClass:"model-save-arch-btn"},[n("button",{attrs:{disabled:!t.model},on:{click:t.download}},[t._v("Загрузить")])])])]):t._e()])]),n("div",{attrs:{slot:"footer"},slot:"footer"})])},ht=[],ft={name:"ModalLoadModel",props:{value:Boolean},data:function(){return{lists:[],info:{},model:null}},computed:Object(R["a"])(Object(R["a"])({},Object(at["b"])({})),{},{preset:function(){var t;return(null===(t=this.lists[0])||void 0===t?void 0:t.models)||[]},custom:function(){var t;return(null===(t=this.lists[1])||void 0===t?void 0:t.models)||[]},dialog:{set:function(t){this.$emit("input",t)},get:function(){return this.value}}}),methods:{load:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("modeling/info",{});case 2:n=e.sent,n&&(t.lists=n);case 4:case"end":return e.stop()}}),e)})))()},getModel:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("modeling/getModel",t);case 2:i=n.sent,console.log(i),i&&(e.info=i,e.model=t);case 5:case"end":return n.stop()}}),n)})))()},download:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("modeling/load",t.model);case 2:t.$emit("input",!1);case 3:case"end":return e.stop()}}),e)})))()}},watch:{dialog:{handler:function(t){t&&this.load()}}}},pt=ft,mt=(n("7d53"),Object(u["a"])(pt,dt,ht,!1,null,"8fbff85e",null)),vt=mt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("at-modal",{attrs:{width:"680",showClose:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("div",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Сохранить модель")])]),n("div",{staticClass:"model"},[t.image?n("div",{staticClass:"model__image"},[n("img",{attrs:{alt:"",width:"auto",height:"400",src:t.image||""}})]):n("Loading")],1),n("div",{attrs:{slot:"footer"},slot:"footer"})])},yt=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"t-loading"})},kt=[],wt=(n("1220"),{}),xt=Object(u["a"])(wt,bt,kt,!1,null,"557c991a",null),_t=xt.exports,At={name:"ModalSaveModel",components:{Loading:_t},props:{value:Boolean,image:String},data:function(){return{}},computed:{dialog:{set:function(t){this.$emit("input",t)},get:function(){return this.value}}},methods:{save:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("deploy/SendDeploy",t.model);case 2:t.$emit("input",!1);case 3:case"end":return e.stop()}}),e)})))()}},watch:{dialog:{handler:function(t){t&&console.log(this.refs)}}}},St=At,Ct=(n("c1bd"),Object(u["a"])(St,gt,yt,!1,null,"929b7ab4",null)),Et=Ct.exports,Tt={name:"Modeling",components:{Toolbar:h,Blocks:$,Params:ut,LoadModel:vt,SaveModel:Et},data:function(){return{dialogLoadModel:!1,dialogSaveModel:!1,selectBlock:null,imageModel:null}},methods:{addBlock:function(t){console.log(t),this.create=!1,this.selectBlockType="",this.$refs.container.addNewBlock(t)},saveModel:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.imageModel=null,t.dialogSaveModel=!0,e.next=4,t.$refs.container.getImages();case 4:t.imageModel=e.sent;case 5:case"end":return e.stop()}}),e)})))()},saveLayers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("modeling/saveModel",{});case 2:case"end":return e.stop()}}),e)})))()},actions:function(t){"load"===t&&(this.dialogLoadModel=!0),"input"!==t&&"middle"!==t&&"output"!==t||this.addBlock(t),"save"===t&&this.saveModel(),console.log(t)}}},Mt=Tt,Lt=(n("fe2b"),Object(u["a"])(Mt,i,r,!1,null,"47ddc9d4",null));e["default"]=Lt.exports},e58c:function(t,e,n){"use strict";var i=n("fc6a"),r=n("a691"),o=n("50c4"),a=n("a640"),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,u=a("lastIndexOf"),d=l||!u;t.exports=d?function(t){if(l)return c.apply(this,arguments)||0;var e=i(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=s(a,r(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},e770:function(t,e,n){"use strict";n("8e6b")},e91f:function(t,e,n){"use strict";var i=n("ebb5"),r=n("4d64").indexOf,o=i.aTypedArray,a=i.exportTypedArrayMethod;a("indexOf",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(t,e,n){"use strict";var i,r=n("a981"),o=n("83ab"),a=n("da84"),s=n("861d"),c=n("5135"),l=n("f5df"),u=n("9112"),d=n("6eeb"),h=n("9bf2").f,f=n("e163"),p=n("d2bb"),m=n("b622"),v=n("90e3"),g=a.Int8Array,y=g&&g.prototype,b=a.Uint8ClampedArray,k=b&&b.prototype,w=g&&f(g),x=y&&f(y),_=Object.prototype,A=_.isPrototypeOf,S=m("toStringTag"),C=v("TYPED_ARRAY_TAG"),E=r&&!!p&&"Opera"!==l(a.opera),T=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},D=function(t){if(!s(t))return!1;var e=l(t);return"DataView"===e||c(M,e)||c(L,e)},O=function(t){if(!s(t))return!1;var e=l(t);return c(M,e)||c(L,e)},B=function(t){if(O(t))return t;throw TypeError("Target is not a typed array")},P=function(t){if(p){if(A.call(w,t))return t}else for(var e in M)if(c(M,i)){var n=a[e];if(n&&(t===n||A.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},$=function(t,e,n){if(o){if(n)for(var i in M){var r=a[i];if(r&&c(r.prototype,t))try{delete r.prototype[t]}catch(s){}}x[t]&&!n||d(x,t,n?e:E&&y[t]||e)}},I=function(t,e,n){var i,r;if(o){if(p){if(n)for(i in M)if(r=a[i],r&&c(r,t))try{delete r[t]}catch(s){}if(w[t]&&!n)return;try{return d(w,t,n?e:E&&w[t]||e)}catch(s){}}for(i in M)r=a[i],!r||r[t]&&!n||d(r,t,e)}};for(i in M)a[i]||(E=!1);if((!E||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},E))for(i in M)a[i]&&p(a[i],w);if((!E||!x||x===_)&&(x=w.prototype,E))for(i in M)a[i]&&p(a[i].prototype,x);if(E&&f(k)!==x&&p(k,x),o&&!c(x,S))for(i in T=!0,h(x,S,{get:function(){return s(this)?this[C]:void 0}}),M)a[i]&&u(a[i],C,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:T&&C,aTypedArray:B,aTypedArrayConstructor:P,exportTypedArrayMethod:$,exportTypedArrayStaticMethod:I,isView:D,isTypedArray:O,TypedArray:w,TypedArrayPrototype:x}},ec1a:function(t,e,n){},f230:function(t,e,n){},f8cd:function(t,e,n){var i=n("a691");t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},fe2b:function(t,e,n){"use strict";n("cbe4")}}]);