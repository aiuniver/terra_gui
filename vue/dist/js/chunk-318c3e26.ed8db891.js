(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-318c3e26"],{"042e":function(t,e,s){"use strict";s("343e")},"343e":function(t,e,s){},f6b1:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board"},[s("div",{staticClass:"wrapper"},[s("Filters"),s("div",{staticClass:"project-datasets-block datasets",style:t.height},[s("div",{staticClass:"title",on:{click:function(e){return t.click("name")}}},[t._v("Выберите датасет")]),s("scrollbar",[s("div",{staticClass:"inner"},[s("div",{staticClass:"dataset-card-container"},[s("div",{staticClass:"dataset-card-wrapper"},[t._l(t.datasets,(function(e,a){return[s("CardDataset",{key:a,attrs:{dataset:e,cardIndex:a,loaded:t.loaded==a},on:{click:t.click,remove:t.remove}})]}))],2)])])])],1)],1)])},i=[],n=s("1da1"),r=s("5530"),c=(s("96cf"),s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"filters",staticClass:"project-datasets-block filters"},[s("div",{staticClass:"title"},[t._v("Теги")]),s("div",{staticClass:"inner"},[s("ul",t._l(t.tags,(function(e,a){var i=e.name,n=e.alias,r=e.active;return s("li",{key:a,class:{active:r},on:{click:function(e){return t.click(a,n)}}},[s("span",[t._v(" "+t._s(i)+" ")])])})),0)])])}),d=[],o={computed:{tags:{set:function(t){this.$store.dispatch("datasets/setTags",t)},get:function(){return this.$store.getters["datasets/getTags"]}},tagsFilter:{set:function(t){this.$store.dispatch("datasets/setTagsFilter",t)},get:function(){return this.$store.getters["datasets/getTagsFilter"]}}},methods:{click:function(t){this.tags[t].active=!this.tags[t].active,this.tagsFilter=this.tags.reduce((function(t,e){var s=e.active,a=e.alias;return s&&t.push(a),t}),[])},myEventHandler:function(){this.$store.dispatch("settings/setHeight",{filter:this.$refs.filters.clientHeight})}},watch:{tags:function(){var t=this;this.$nextTick((function(){t.$store.dispatch("settings/setHeight",{filter:t.$refs.filters.clientHeight})}))}},mounted:function(){var t=this;setTimeout((function(){t.$store.dispatch("settings/setHeight",{filter:t.$refs.filters.clientHeight})}),100)},created:function(){window.addEventListener("resize",this.myEventHandler)},destroyed:function(){window.removeEventListener("resize",this.myEventHandler)}},l=o,u=s("2877"),h=Object(u["a"])(l,c,d,!1,null,null,null),f=h.exports,v=s("2f62"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["dataset-card-item",{active:t.dataset.active,selected:t.loaded}]},[s("div",{staticClass:"dataset-card",on:{click:function(e){return e.stopPropagation(),t.$emit("click",t.dataset,t.cardIndex)}}},[s("div",{staticClass:"card-title"},[t._v(t._s(t.dataset.name))]),s("div",{staticClass:"card-body",on:{click:t.click}},t._l(t.getFour,(function(e,a){var i=e.name;return s("div",{key:"tag_"+a,staticClass:"card-tag"},[t._v(" "+t._s(i)+" ")])})),0),s("div",{class:"card-extra "+(t.dataset.size?"is-custom":"")},[s("div",{staticClass:"wrapper"},[s("span",[t._v(" "+t._s(t.dataset.size?t.dataset.size.short.toFixed(2)+" "+t.dataset.size.unit:"Предустановленный")+" ")])]),s("div",{staticClass:"remove",on:{click:function(e){return e.stopPropagation(),t.$emit("remove",t.dataset)}}})])])])},p=[],m=(s("a9e3"),s("4de4"),{props:{dataset:{type:Object,default:function(){}},cardIndex:{type:Number},loaded:{type:Boolean,default:!1}},data:function(){return{index:0}},computed:{getFour:function(){var t,e=this,s=(null===(t=this.dataset)||void 0===t?void 0:t.tags)||[];return s.filter((function(t,s){return s>=e.index&&s<e.index+4}))}},methods:{click:function(){this.dataset.tags.length>this.index+4?this.index=this.index+4:this.index=0}}}),k=m,b=Object(u["a"])(k,g,p,!1,null,null,null),$=b.exports,x={components:{CardDataset:$,Filters:f},data:function(){return{hight:0}},computed:Object(r["a"])(Object(r["a"])({},Object(v["b"])({datasets:"datasets/getDatasets"})),{},{height:function(){return this.$store.getters["settings/height"]({deduct:"filter",padding:52,clean:!0})},loaded:function(){return this.$store.getters["datasets/getLoaded"]}}),methods:{click:function(t,e){console.log(t,e),this.$store.dispatch("datasets/setSelect",t),this.$store.dispatch("datasets/setSelectedIndex",e)},remove:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.name,i=t.alias,n=t.group,s.prev=1,s.next=4,e.$Modal.confirm({title:"Внимание!",content:"Удалить датасет ".concat(a,"?"),width:300});case 4:return s.next=6,e.$store.dispatch("datasets/deleteDataset",{alias:i,group:n});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](1),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[1,8]])})))()}}},_=x,w=(s("042e"),Object(u["a"])(_,a,i,!1,null,"9abb23fe",null));e["default"]=w.exports}}]);