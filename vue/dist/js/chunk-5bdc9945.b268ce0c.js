(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bdc9945"],{"0541":function(t,e,s){"use strict";s("7893")},"0ae7":function(t,e,s){"use strict";s("eca8")},"0b81":function(t,e,s){},1307:function(t,e,s){},"18bb":function(t,e,s){"use strict";s("0b81")},"18dc":function(t,e,s){},"1e16":function(t,e,s){"use strict";s("e9ac")},"1f7e":function(t,e,s){},"22d8":function(t,e,s){"use strict";s("18dc")},3018:function(t,e,s){"use strict";s("334c")},"334c":function(t,e,s){},3879:function(t,e,s){"use strict";s("f392")},"60fd":function(t,e,s){"use strict";s("e807")},6388:function(t,e,s){},6416:function(t,e,s){"use strict";s("71e7")},7066:function(t,e,s){"use strict";s("1307")},"71e7":function(t,e,s){},7893:function(t,e,s){},"8ae2":function(t,e,s){"use strict";s("aba2")},"97ee":function(t,e,s){"use strict";s("9a33")},"9a33":function(t,e,s){},a5d9:function(t,e,s){"use strict";s("b424")},aba2:function(t,e,s){},b34f:function(t,e,s){},b424:function(t,e,s){},b666:function(t,e,s){"use strict";s("6388")},b707:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"page-training"},[s("div",{staticClass:"cont"},[s("Toolbar",{attrs:{collabse:t.collabse}}),s("Graphics",{on:{collabse:function(e){t.collabse=e}}}),s("Params")],1)])},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toolbar"},[s("ul",{staticClass:"toolbar__menu"},t._l(t.items,(function(e,a){var i=e.title,n=e.disabled,r=e.icon;return s("li",{key:"items_"+a,class:["toolbar__menu--item"],attrs:{disabled:n},on:{click:function(e){return t.click(a)}}},[s("i",{class:["t-icon",r,{active:t.collapse.includes(a.toString())}],attrs:{title:i}})])})),0)])},r=[],l=s("5530"),c=(s("d3b7"),s("25f0"),s("caad"),s("2532"),s("4de4"),s("2f62")),o={name:"Toolbar",data:function(){return{}},computed:Object(l["a"])(Object(l["a"])({},Object(c["b"])({items:"trainings/getToolbar"})),{},{collapse:{set:function(t){this.$store.dispatch("trainings/setСollapse",t)},get:function(){return this.$store.getters["trainings/getСollapse"]}}}),created:function(){console.log(this.$store.getters["trainings/getСollapse"])},methods:{click:function(t){var e=t.toString();this.collapse.includes(e)?this.collapse=this.collapse.filter((function(t){return t!==e})):this.collapse.push(e)}}},u=o,d=(s("7066"),s("2877")),_=Object(d["a"])(u,n,r,!1,null,"66d45b19",null),p=_.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board"},[s("scrollbar",{attrs:{ops:{scrollPanel:{scrollingX:!1}}}},[s("div",{staticClass:"wrapper"},[s("at-collapse",{staticClass:"mt-3",attrs:{value:t.collapse},on:{"on-change":t.change}},[s("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Прогресс обучения",center:""}},[s("Progress",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Метрики",center:""}},[s("Graphs",{attrs:{metric:"metric_graphs",outputs:t.outputs,interactive:t.interactive}})],1),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Лоссы",center:""}},[s("Graphs",{attrs:{metric:"loss_graphs",outputs:t.outputs,interactive:t.interactive}})],1),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Промежуточные результаты",center:""}},[s("Prediction",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Таблица прогресса обучения",center:""}},[s("Texts",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Статистические данные",center:""}},[s("Stats",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),s("at-collapse-item",{staticClass:"mt-3",staticStyle:{position:"relative"},attrs:{title:"Баланс данных",center:""}},[s("Balance",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1)],1)],1)])],1)},m=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-texts"},[s("div",{staticClass:"t-texts__header"},t._l(t.layers,(function(e,a){return s("div",{key:"layer_"+a,staticClass:"t-texts__block"},[s("p",[t._v(t._s(e))]),s("t-field",{attrs:{inline:"",label:"loss"}},[s("t-checkbox-new",{attrs:{value:!0,name:"loss"},on:{change:function(s){return t.change(e,s)}}})],1),s("t-field",{attrs:{inline:"",label:"metrics"}},[s("t-checkbox-new",{attrs:{value:!0,name:"metrics"},on:{change:function(s){return t.change(e,s)}}})],1)],1)})),0),s("div",{staticClass:"t-texts__content"},[s("Table",{attrs:{data:t.data,settings:t.settings}})],1),t.isData?t._e():s("div",{staticClass:"t-texts__empty"},[t._v(" Нет данных ")])])},f=[],g=(s("07ac"),s("b0c0"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-table"},[s("scrollbar",{attrs:{ops:t.ops}},[t.isTable?s("table",[s("thead",[s("tr",{staticClass:"outputs_heads"},[s("th",{attrs:{rowspan:"2"}},[t._v("Эпоха")]),s("th",{attrs:{rowspan:"2"}},[t._v(" Время "),s("br"),t._v(" (сек.) ")]),t._l(t.outputs,(function(e,a){return[s("th",{directives:[{name:"show",rawName:"v-show",value:t.isShow(a),expression:"isShow(key)"}],key:a,attrs:{colspan:"100%"}},[t._v(" "+t._s(a)+" ")])]}))],2),s("tr",{staticClass:"callbacks_heads"},[t._l(t.outputs,(function(e,a){return[t._l(e,(function(e,i){return[t._l(e,(function(e,n){return[s("th",{directives:[{name:"show",rawName:"v-show",value:t.isShow(a,i),expression:"isShow(keyO, keyI)"}],key:i+n+a},[t._v(t._s(n))])]}))]}))]}))],2)]),s("tbody",t._l(t.data,(function(e,a,i){var n=e.time,r=e.data;return s("tr",{key:"epoch_"+i},[s("td",{staticClass:"epoch_num"},[t._v(t._s(a))]),s("td",[t._v(t._s(t._f("int")(n)))]),t._l(r,(function(e,a){return[t._l(e,(function(e,i){return[t._l(e,(function(e,n){return[s("td",{directives:[{name:"show",rawName:"v-show",value:t.isShow(a,i),expression:"isShow(keyO, keyM)"}],key:a+"t"+i+"r"+n,staticClass:"value"},[s("span",[t._v(t._s(t._f("int")(e)))]),s("i",[t._v(".")]),t._v(" "+t._s(t._f("drob")(e))+" ")])]}))]}))]}))],2)})),0),s("tfoot",[s("tr",[s("th",{attrs:{colspan:"100%"}},[t._v(t._s("summary"))])])])]):t._e()])],1)}),b=[],y=(s("fb6a"),s("b680"),{name:"t-table",props:{data:{type:Object,default:function(){}},settings:{type:Object,default:function(){}}},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},mounted:function(){console.log(this.settings)},computed:{isTable:function(){var t;return!(null===(t=this.data)||void 0===t||!t[1])},outputs:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(e=t[1])||void 0===e?void 0:e.data)||{}}},filters:{int:function(t){return~~t},drob:function(t){return(t%1).toFixed(9).slice(2)}},methods:{isShow:function(t,e){var s,a,i,n,r,l,c,o,u;return t&&e?null===(s=null===(a=this.settings)||void 0===a||null===(i=a[t])||void 0===i?void 0:i[e])||void 0===s||s:null===(n=null===(r=this.settings)||void 0===r||null===(l=r[t])||void 0===l?void 0:l.loss)||void 0===n||n||null===(c=null===(o=this.settings)||void 0===o||null===(u=o[t])||void 0===u?void 0:u.metrics)||void 0===c||c}}}),C=y,w=(s("3018"),Object(d["a"])(C,g,b,!1,null,"8d9c310e",null)),k=w.exports,x={name:"Texts",components:{Table:k},data:function(){return{settings:{},ops:{scrollPanel:{scrollingX:!1,scrollingY:!1}}}},computed:{layers:function(){var t,e,s=(null===(t=this.data)||void 0===t||null===(e=t["1"])||void 0===e?void 0:e.data)||{},a=[];for(var i in s)a.push(i);return a},data:function(){return this.$store.getters["trainings/getTrainData"]("progress_table")||{}},isData:function(){return Object.values(this.data).length}},methods:{change:function(t,e){var s=e.name,a=e.value;this.settings[t]||(this.settings[t]={}),this.settings[t][s]=a,this.settings=Object(l["a"])({},this.settings),console.log(this.settings)}},created:function(){var t=this;this.layers.forEach((function(e){t.settings[e]={loss:!0,metrics:!0}}))}},O=x,j=(s("3879"),Object(d["a"])(O,v,f,!1,null,"11bd2010",null)),S=j.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"start"===t.statusTrain?s("div",{staticClass:"overlay"},[s("LoadSpiner",{attrs:{text:"Запуск обучения..."}})],1):s("div",{staticClass:"t-progress"},[s("div",{staticClass:"t-progress__item t-progress__item--timers"},[s("Timers",t._b({},"Timers",t.timings,!1))],1),s("div",{staticClass:"t-progress__item t-progress__item--info"},[s("Sysinfo",t._b({},"Sysinfo",t.usage,!1))],1)])},T=[],P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-sysinfo"},[s("div",{staticClass:"t-sysinfo__label"},[t._v("Информация об устройстве")]),s("div",{staticClass:"t-sysinfo__grid"},[t.GPU.gpu_utilization?s("div",[s("div",{staticClass:"t-sysinfo__grid--item"},[t._v("GPU")]),s("div",{class:["t-sysinfo__grid--item",t.isWarning(t.GPU.gpu_utilization)]},[s("p",{staticClass:"t-sysinfo__gpu-name"},[t._v(t._s(t.GPU.gpu_name))]),s("p",[t._v(t._s(t.GPU.gpu_utilization+"% ("+t.GPU.gpu_memory_used+" / "+t.GPU.gpu_memory_total+")"))]),s("div",{staticClass:"t-sysinfo__progress-bar"},[s("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.GPU.gpu_utilization+"%"}})])])]):t._e(),t.CPU.cpu_utilization?s("div",[s("div",{staticClass:"t-sysinfo__grid--item"},[t._v("CPU")]),s("div",{class:["t-sysinfo__grid--item",t.isWarning(t.CPU.cpu_utilization)]},[s("p",[t._v(t._s((t.CPU.cpu_utilization||0)+"% ("+(t.CPU.cpu_memory_used||0)+" / "+(t.CPU.cpu_memory_total||0)+")"))]),s("div",{staticClass:"t-sysinfo__progress-bar"},[s("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:(t.CPU.cpu_utilization||0)+"%"}})])])]):t._e(),s("div",[s("div",{staticClass:"t-sysinfo__grid--item"},[t._v("RAM")]),s("div",{class:["t-sysinfo__grid--item",t.isWarning(t.RAM.ram_utilization)]},[s("p",[t._v(t._s(t.RAM.ram_utilization+"% ("+t.RAM.ram_memory_used+" / "+t.RAM.ram_memory_total+")"))]),s("div",{staticClass:"t-sysinfo__progress-bar"},[s("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.RAM.ram_utilization+"%"}})])])]),s("div",[s("div",{staticClass:"t-sysinfo__grid-item"},[t._v("Disk")]),s("div",{class:["t-sysinfo__grid-item",t.isWarning(t.Disk.disk_utilization)]},[s("p",[t._v(t._s(t.Disk.disk_utilization+"% ("+t.Disk.disk_memory_used+" / "+t.Disk.disk_memory_total+")")+" ")]),s("div",{staticClass:"t-sysinfo__progress-bar"},[s("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.Disk.disk_utilization+"%"}})])])])])])},E=[],z=(s("b64b"),{name:"",props:{Disk:{type:Object,default:function(){return{disk_utilization:0,disk_memory_total:0,disk_memory_used:0}}},GPU:{type:Object,default:function(){return{gpu_utilization:0,gpu_memory_total:0,gpu_memory_used:0}}},CPU:{type:Object,default:function(){return{cpu_utilization:0,cpu_memory_total:0,cpu_memory_used:0}}},RAM:{type:Object,default:function(){return{ram_utilization:0,ram_memory_total:0,ram_memory_used:0}}}},methods:{isEmptyAll:function(){return this.isEmpty(this.Disk)&&(this.isEmpty(this.GPU)||this.isEmpty(this.CPU))&&this.isEmpty(this.RAM)},isEmpty:function(t){return!!t&&0!==Object.keys(t).length},isWarning:function(t){var e=t?+t:0;return e>80?"warning":e>50?"info":""}}}),D=z,M=(s("d285"),Object(d["a"])(D,P,E,!1,null,"6f7d4b9d",null)),A=M.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-time"},[s("div",{staticClass:"t-time__train"},[s("div",{staticClass:"t-time__timer-wrapper"},[s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Расчетное время обучения")]),s("div",[t._v(t._s(t.formatTime(t.estimated_time)))])]),s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Прошло времени")]),s("div",[t._v(t._s(t.formatTime(t.elapsed_time)))])]),s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Время до окончания обучения")]),s("div",[t._v(t._s(t.formatTime(t.still_time)))])]),s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Эпоха")]),s("div",[t._v(t._s(t.epoch.current||0))]),s("i",[t._v("/")]),s("div",[t._v(t._s(t.epoch.total||0))])])]),s("div",{staticClass:"t-time__progress-bar"},[s("div",{staticClass:"t-time__progress-bar--fill",style:t.total(t.epoch)})])]),s("div",{staticClass:"t-time__age"},[s("div",{staticClass:"t-time__timer-wrapper"},[s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Среднее время эпохи")]),s("div",[t._v(t._s(t.formatTime(t.avg_epoch_time)))])]),s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Прошло времени на эпоху")]),s("div",[t._v(t._s(t.formatTime(t.elapsed_epoch_time)))])]),s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Время до окончания текущей эпохи")]),s("div",[t._v(t._s(t.formatTime(t.still_epoch_time)))])]),s("div",{staticClass:"t-time__timer"},[s("span",[t._v("Батч")]),s("div",[t._v(t._s(t.batch.current||0))]),s("i",[t._v("/")]),s("div",[t._v(t._s(t.batch.total||0))])])]),s("div",{staticClass:"t-time__progress-bar"},[s("div",{staticClass:"t-time__progress-bar--fill",style:t.total(t.batch)})])])])},G=[],U=(s("a9e3"),s("99af"),{name:"t-train-time",props:{avg_epoch_time:{type:Number,default:0},elapsed_epoch_time:{type:Number,default:0},elapsed_time:{type:Number,default:0},estimated_time:{type:Number,default:0},still_epoch_time:{type:Number,default:0},still_time:{type:Number,default:0},batch:{type:Object,default:function(){return{current:0,total:0}}},epoch:{type:Object,default:function(){return{current:0,total:0}}}},methods:{total:function(t){var e=t.total,s=t.current,a=Math.round(100*s/e);return a=isNaN(a)?0:a,a>100&&(a=100),{width:a+"%"}},formatTime:function(t){return"".concat(Math.floor(t/3600),"h : ").concat(Math.floor(t%3600/60),"m : ").concat(Math.floor(t%3600%60),"s")}}}),L=U,N=(s("18bb"),Object(d["a"])(L,R,G,!1,null,"817e8ac0",null)),B=N.exports,I=s("1636"),V={name:"t-progress",components:{Sysinfo:A,Timers:B,LoadSpiner:I["a"]},computed:{lossGraphs:function(){return this.$store.getters["trainings/getTrainUsage"]||{}},usage:function(){var t;return(null===(t=this.lossGraphs)||void 0===t?void 0:t.hard_usage)||{}},timings:function(){var t;return(null===(t=this.lossGraphs)||void 0===t?void 0:t.timings)||{}},statusTrain:function(){return this.$store.getters["trainings/getStatusTrain"]}},mounted:function(){console.log(this.data)}},F=V,W=(s("df9a"),Object(d["a"])(F,$,T,!1,null,"3b5556e2",null)),J=W.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-scatters"},[s("LoadSpiner",{directives:[{name:"show",rawName:"v-show",value:t.isPending,expression:"isPending"}],staticClass:"overlay",attrs:{text:"Обновление..."}}),s("div",{staticClass:"t-scatters__header"},[s("div",{staticClass:"t-scatters__checks"},[t._l(t.outputLayers,(function(e,a){return[s("t-field",{key:"check_"+a,attrs:{inline:"",label:"Выходной слой «"+e+"»"}},[s("t-checkbox-new",{attrs:{small:"",name:""+e},on:{change:function(s){return t.change(e)}}})],1)]}))],2),s("t-field",{attrs:{inline:"",label:"Автообновление"}},[s("t-checkbox-new",{attrs:{small:""},on:{change:t.autoChange},model:{value:t.auto,callback:function(e){t.auto=e},expression:"auto"}})],1),s("div",{staticClass:"t-scatters__btn"},[s("t-button",{on:{click:t.handleClick}},[t._v("Показать")])],1)],1),s("div",{staticClass:"t-scatters__content"},[t._l(t.statisticData,(function(e,a){return[t._l(e,(function(e,i){return[t.selected.includes(+a)?s(e.type,t._b({key:""+(e.type+i+a),tag:"component"},"component",e,!1)):t._e()]}))]}))],2)],1)},H=[],Y=s("1da1"),K=s("2909"),q=(s("96cf"),s("3ca3"),s("ddb0"),s("d81d"),{name:"t-scatters",components:{Heatmap:function(){return s.e("chunk-455da854").then(s.bind(null,"f2ca"))},Scatter:function(){return s.e("chunk-42817fb4").then(s.bind(null,"c39f"))},Histogram:function(){return s.e("chunk-4f375e62").then(s.bind(null,"c2c8"))},Table:function(){return s.e("chunk-169f99b2").then(s.bind(null,"4d84"))},Graphic:function(){return s.e("chunk-44b2a326").then(s.bind(null,"1dc7"))},LoadSpiner:I["a"]},props:{outputs:Array},computed:{statisticData:function(){return this.$store.getters["trainings/getTrainData"]("statistic_data")||{}},outputLayers:function(){return this.outputs.map((function(t){return t.id}))}},data:function(){return{selected:[],auto:!1,isPending:!1}},methods:{change:function(t){this.selected=this.selected.includes(t)?this.selected.filter((function(e){return e!==t})):[].concat(Object(K["a"])(this.selected),[t]),console.log(this.selected)},handleClick:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isPending=!0,s={statistic_data:{output_id:t.selected,autoupdate:t.auto}},e.next=4,t.$store.dispatch("trainings/interactive",s);case 4:t.isPending=!1;case 5:case"end":return e.stop()}}),e)})))()},autoChange:function(t){this.auto=t.value}}}),Q=q,Z=(s("1e16"),Object(d["a"])(Q,X,H,!1,null,"1f6565a2",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-balance"},[s("div",{staticClass:"t-balance__header"},[s("div",{staticClass:"t-balance__wrapper"},[s("div",{staticClass:"t-balance__checks"},[s("t-field",{attrs:{inline:"",label:"Показать тренировочную выборку"}},[s("t-checkbox-new",{attrs:{name:"show_train"},on:{change:t.change},model:{value:t.settings.show_train,callback:function(e){t.$set(t.settings,"show_train",e)},expression:"settings.show_train"}})],1),s("t-field",{attrs:{inline:"",label:"Показать проверочную выборку"}},[s("t-checkbox-new",{attrs:{name:"show_val"},on:{change:t.change},model:{value:t.settings.show_val,callback:function(e){t.$set(t.settings,"show_val",e)},expression:"settings.show_val"}})],1)],1),s("t-field",{attrs:{inline:"",label:"Сортировать"}},[s("t-select-new",{attrs:{small:"",list:t.sortOps},on:{input:t.select},model:{value:t.settings.sorted,callback:function(e){t.$set(t.settings,"sorted",e)},expression:"settings.sorted"}})],1)],1)]),s("div",{staticClass:"t-balance__graphs"},[t._l(t.dataDalance,(function(e,a){return[t._l(t.filter(e),(function(e,i){return[s("Graph",t._b({key:"graph_"+a+"/"+i},"Graph",e,!1))]}))]}))],2),s("LoadSpiner",{directives:[{name:"show",rawName:"v-show",value:t.isPending,expression:"isPending"}],staticClass:"overlay",attrs:{text:"Обновление..."}})],1)},st=[],at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("scrollbar",{staticStyle:{width:"initial"},attrs:{ops:t.ops}},[s("div",{staticClass:"t-graph"},[s("p",[t._v(t._s(t.graph_name||""))]),s("div",{staticClass:"t-graph__wrapper"},[s("div",{staticClass:"t-graph__x-label"},[t._v(t._s(t.x_label))]),s("div",{staticClass:"t-graph__y-label"},[t._v(t._s(t.y_label))]),s("div",{staticClass:"t-graph__values"},t._l(t.stepValues,(function(e,a){return s("div",{key:a},[t._v(t._s(e))])})),0),s("div",{staticClass:"t-graph__diagram"},t._l(t.values,(function(e,a){return s("div",{key:a,staticClass:"t-graph__diagram-item"},[s("span",[t._v(t._s(e))]),s("div",{staticClass:"t-graph__diagram-fill",style:{height:(e/t.max*100).toFixed()+"%"}}),s("div",{staticClass:"t-graph__diagram-label",attrs:{title:t.labels[a]}},[t._v(t._s(t.labels[a]))])])})),0)])])])},it=[],nt={name:"t-graph",props:{id:Number,graph_name:String,x_label:String,y_label:String,plot_data:Array},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},computed:{values:function(){var t,e;return(null===(t=this.plot_data)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.values)||[]},labels:function(){var t,e;return(null===(t=this.plot_data)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.labels)||[]},stepValues:function(){var t=this;return[4,3,2,1,0].map((function(e){return t.max/4*e}))},max:function(){return 100*Math.ceil(this.maxValue/100)},maxValue:function(){return Math.max.apply(Math,Object(K["a"])(this.values))}}},rt=nt,lt=(s("22d8"),Object(d["a"])(rt,at,it,!1,null,"1394d390",null)),ct=lt.exports,ot={name:"t-balance",components:{Graph:ct,LoadSpiner:I["a"]},data:function(){return{selected:[],sortOps:[{label:"по имени",value:"alphabetic"},{label:"по увеличению",value:"ascending"},{label:"по убыванию",value:"descending"}],isPending:!1}},computed:{dataDalance:function(){return this.$store.getters["trainings/getTrainData"]("data_balance")||[]},settings:{set:function(t){this.$store.dispatch("trainings/setObjectInteractive",{data_balance:t})},get:function(){return this.$store.getters["trainings/getObjectInteractive"]("data_balance")}}},methods:{filter:function(t){var e=[];return this.settings.show_train&&e.push("train"),this.settings.show_val&&e.push("val"),t.filter((function(t){return e.includes(t.type_data)}))},change:function(){this.handleClick()},handleClick:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/interactive",{});case 2:case"end":return e.stop()}}),e)})))()},select:function(t){var e=this;return Object(Y["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isPending=!0,s.next=3,e.$store.dispatch("trainings/interactive",{data_balance:{sorted:t}});case 3:e.isPending=!1;case 4:case"end":return s.stop()}}),s)})))()}}},ut=ot,dt=(s("e0d7"),Object(d["a"])(ut,et,st,!1,null,"4446dc2a",null)),_t=dt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"predictions"},[s("div",{staticClass:"predictions__params"},[s("div",{staticClass:"predictions__param"},[s("t-field",{attrs:{inline:"",label:"Данные для расчета"}},[s("t-select-new",{attrs:{list:t.sortData,small:""},model:{value:t.checks.example_choice_type,callback:function(e){t.$set(t.checks,"example_choice_type",e)},expression:"checks.example_choice_type"}})],1),s("t-field",{attrs:{inline:"",label:"Тип выбора данных"}},[s("t-select-new",{attrs:{list:t.sortOutput,small:""},model:{value:t.checks.main_output,callback:function(e){t.$set(t.checks,"main_output",e)},expression:"checks.main_output"}})],1),s("t-field",{attrs:{inline:"",label:"Показать примеров"}},[s("t-input-new",{attrs:{type:"number",small:""},model:{value:t.checks.num_examples,callback:function(e){t.$set(t.checks,"num_examples",t._n(e))},expression:"checks.num_examples"}})],1)],1),s("div",{staticClass:"predictions__param"},[s("t-field",{attrs:{inline:"",label:"Выводить промежуточные результаты"}},[s("t-checkbox-new",{attrs:{small:""},model:{value:t.checks.show_results,callback:function(e){t.$set(t.checks,"show_results",e)},expression:"checks.show_results"}})],1),s("t-field",{attrs:{inline:"",label:"Показать статистику"}},[s("t-checkbox-new",{attrs:{value:!0,small:""},model:{value:t.checks.show_statistic,callback:function(e){t.$set(t.checks,"show_statistic",e)},expression:"checks.show_statistic"}})],1)],1),s("div",{staticClass:"predictions__param"},[s("t-field",{attrs:{inline:"",label:"Автообновление"}},[s("t-checkbox-new",{attrs:{small:""},model:{value:t.checks.autoupdate,callback:function(e){t.$set(t.checks,"autoupdate",e)},expression:"checks.autoupdate"}})],1)],1),s("div",{staticClass:"predictions__param"},[s("t-button",{staticStyle:{width:"150px"},nativeOn:{click:function(e){return t.show.apply(null,arguments)}}},[t._v("Показать")])],1)]),s("div",{staticClass:"predictions__body"},[s("PredictTable",{attrs:{predict:t.predictData}})],1),s("LoadSpiner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"overlay",attrs:{text:"Загрузка данных..."}})],1)},ht=[],mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-table"},[s("scrollbar",[t._t("header"),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],staticClass:"t-table__body"},t._l(t.predict,(function(e,a){var i=e.initial_data,n=e.true_value,r=e.predict_value,l=e.statistic_values;return s("div",{key:"rows_"+a,staticClass:"t-table__rows"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--index"},[t._v("Слой")]):t._e(),s("div",{staticClass:"t-table__index"},[t._v(t._s(a))]),t.isEmpty(i)?s("div",{staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--one"},[t._v("Исходные данные")]):t._e(),s("div",{staticClass:"t-table__row"},t._l(i,(function(e,i,n){var r=e.type,l=e.data,c=e.update;return s("div",{key:"initial "+n,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--two"},[t._v(t._s(i))]):t._e(),s("div",{staticClass:"t-table__row"},t._l(l,(function(e,i){return s("div",{key:"initial layer "+i,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--three"},[t._v(t._s(e.title))]):t._e(),s("div",{staticClass:"t-table__row t-table__row--center"},[s("Forms",{key:"initial data "+i,attrs:{data:e,update:c,type:r}})],1)])})),0)])})),0)]):t._e(),t.isEmpty(n)?s("div",{staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--one"},[t._v("Истинное значение")]):t._e(),s("div",{staticClass:"t-table__row"},t._l(n,(function(e,i,n){var r=e.type,l=e.data;return s("div",{key:"true "+n,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--two"},[t._v(t._s(i))]):t._e(),s("div",{staticClass:"t-table__row"},t._l(l,(function(e,i){return s("div",{key:"true layer "+i,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--three"},[t._v(t._s(e.title))]):t._e(),s("div",{staticClass:"t-table__row t-table__row--center"},[s("Forms",{key:"true data "+i,attrs:{data:e,type:r}})],1)])})),0)])})),0)]):t._e(),t.isEmpty(r)?s("div",{staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--one"},[t._v("Предсказание")]):t._e(),s("div",{staticClass:"t-table__row"},t._l(r,(function(e,i,n){var r=e.type,l=e.data;return s("div",{key:"predict "+n,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--two"},[t._v(t._s(i))]):t._e(),s("div",{staticClass:"t-table__row"},t._l(l,(function(e,i){return s("div",{key:"predict layer "+i,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--three"},[t._v(t._s(e.title))]):t._e(),s("div",{staticClass:"t-table__row t-table__row--center"},[s("Forms",{key:"predict data "+i,attrs:{data:e,type:r}})],1)])})),0)])})),0)]):t._e(),t.isEmpty(l)?s("div",{staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--one"},[t._v("Статистика примеров")]):t._e(),s("div",{staticClass:"t-table__row"},t._l(l,(function(e,i,n){var r=e.type,l=e.data;return s("div",{key:"statistic "+n,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--two"},[t._v(t._s(i))]):t._e(),s("div",{staticClass:"t-table__row"},t._l(l,(function(e,i){return s("div",{key:"statistic layer "+i,staticClass:"t-table__col"},["1"===a?s("div",{staticClass:"t-table__title t-table__title--three"},[t._v(t._s(e.title))]):t._e(),s("div",{staticClass:"t-table__row t-table__row--center t-table__row--table"},[s("Forms",{key:"statistic data "+i,attrs:{data:e,type:r}})],1)])})),0)])})),0)]):t._e()])})),0)],2)],1)},vt=[],ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["image"===t.type?s("TableImage",t._b({},"TableImage",t.obj,!1)):t._e(),"str"===t.type||"number"===t.type?s("TableText",t._b({},"TableText",t.obj,!1)):t._e(),"text"===t.type?s("TableTag",{attrs:{data:t.obj}}):t._e(),"video"===t.type?s("TableVideo",{attrs:{src:t.obj}}):t._e(),"audio"===t.type?s("TableAudio",{attrs:{url:t.obj}}):t._e()],1)},gt=[],bt={name:"t-forms-prediction",components:{TableImage:function(){return s.e("chunk-e8e9c07a").then(s.bind(null,"c5f0"))},TableAudio:function(){return s.e("chunk-01f7306a").then(s.bind(null,"b85a"))},TableText:function(){return s.e("chunk-5698589b").then(s.bind(null,"f9c5"))},TableTag:function(){return s.e("chunk-2d0ab6e4").then(s.bind(null,"14f1"))},TableVideo:function(){return s.e("chunk-2d0e8800").then(s.bind(null,"8a12"))}},props:{type:{type:String,default:""},data:{type:Object,default:function(){}},update:{type:String,default:""}},computed:{obj:function(){return Object(l["a"])(Object(l["a"])({},this.data),{},{update:this.update})}}},yt=bt,Ct=Object(d["a"])(yt,ft,gt,!1,null,"26aa65f0",null),wt=Ct.exports,kt={name:"TextTableTest",components:{Forms:wt},props:{show:Boolean,predict:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{},methods:{isEmpty:function(t){return Object.keys(t).length}},created:function(){console.log("Predict",this.predict)}},xt=kt,Ot=(s("0541"),Object(d["a"])(xt,mt,vt,!1,null,"294b86d4",null)),jt=Ot.exports,St={name:"Predictions",components:{PredictTable:jt,LoadSpiner:I["a"]},props:{outputs:Array,interactive:Object},data:function(){return{checks:{autoupdate:!1,show_statistic:!1,num_examples:10,show_results:!1,example_choice_type:"seed",main_output:2},loading:!1,showPredict:!1,sortOutput:[],sortData:[{label:"Best",value:"best"},{label:"Worst",value:"worst"},{label:"Seed",value:"seed"},{label:"Random",value:"random"}],showTextTable:!1}},created:function(){this.sortOutput=this.outputs.map((function(t){return{label:"Выходной слой ".concat(t.id),value:t.id}}))},computed:{predictData:function(){return this.$store.getters["trainings/getTrainData"]("intermediate_result")||{}},statusTrain:function(){return this.$store.getters["trainings/getStatusTrain"]}},methods:{show:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("trainings/interactive",{intermediate_result:Object(l["a"])({},t.checks)});case 3:t.checks.show_results&&(t.showPredict=!0),t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()}}},$t=St,Tt=(s("6416"),Object(d["a"])($t,pt,ht,!1,null,"659bb79f",null)),Pt=Tt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-charts"},[s("div",{staticClass:"t-charts__content"},[s("TCharTemp",{staticClass:"t-chart",nativeOn:{click:function(e){return t.add.apply(null,arguments)}}}),t._l(t.charts,(function(e,a){return s("TChar",t._b({key:"char1_"+a,staticClass:"t-chart",attrs:{settings:e,menus:t.menus},on:{event:function(s){return t.event(s,e)}}},"TChar",t.getChart(e),!1))}))],2),t.data.length?t._e():s("div",{staticClass:"t-charts__empty"},[t._v("Нет данных")])])},zt=[],Dt=s("ade3"),Mt=(s("7db0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-char",style:t.order},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outside,expression:"outside"}],staticClass:"t-char__header"},[s("div",{staticClass:"t-char__header--roll"},[s("i",{class:["t-icon","icon-training-roll-down"],attrs:{title:"roll down"},on:{click:t.show}})]),s("div",{staticClass:"t-char__header--title"},[t._v(t._s(t.graph_name))]),t.progress_state?s("div",{class:["t-char__header--condition",t.progress_state]},[s("span",[t._v(t._s(t.progress_state))]),s("div",{staticClass:"indicator"})]):t._e(),s("div",{staticClass:"t-char__header--additionally"},[s("i",{class:["t-icon","icon-training-additionally"],attrs:{title:"roll down"},on:{click:function(e){t.popMenuShow=!t.popMenuShow}}}),t.popMenuShow?s("PopUpMenu",{attrs:{settings:t.settings,menus:t.menus,show:t.graphicShow},on:{event:t.event}}):t._e()],1)]),t.graphicShow?s("div",{staticClass:"t-char__main"},[s("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}}),t.data.length?t._e():s("div",{staticClass:"t-char__empty"},[t._v("Ожидание получения данных...")])],1):t._e(),s("div")])}),At=[],Rt=s("04d11"),Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"menu"},[s("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"add"})}}},[t._v("Добавить график")]),s("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"copy"})}}},[t._v("Копировать график")]),s("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"hide"})}}},[t._v(" "+t._s(t.show?"Свернуть":"Развернуть")+" график ")]),s("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"remove"})}}},[t._v("Удалить график")]),s("li",{staticClass:"menu__dropdown"},[s("i",{class:["t-icon","icon-training-dropdown"]}),s("span",[t._v("Показывать данные")]),s("ul",{staticClass:"menu"},[s("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"data",data:"model"})}}},[t._v("По всей модели")]),t.isClass?s("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"data",data:"classes"})}}},[t._v("По классам")]):t._e()])]),s("li",{staticClass:"menu__dropdown"},[s("i",{class:["t-icon","icon-training-dropdown"]}),s("span",[t._v("Показывать метрики")]),s("ul",{staticClass:"menu"},[t._l(t.metrics,(function(e,a){return[s("li",{key:"metrics"+a,staticClass:"menu__item",on:{click:function(s){return t.$emit("event",{name:"metric",data:e})}}},[t._v(" "+t._s(e)+" ")])]}))],2)]),s("li",{staticClass:"menu__dropdown"},[s("i",{class:["t-icon","icon-training-dropdown"]}),s("span",[t._v("Показывать выход")]),s("ul",{staticClass:"menu"},[t._l(t.exits,(function(e,a){return[s("li",{key:"output"+a,staticClass:"menu__item",on:{click:function(s){return t.$emit("event",{name:"chart",data:e})}}},[t._v(" Выход "+t._s(e)+" ")])]}))],2)])])},Ut=[],Lt={name:"PopUpMenu",props:{menus:{type:Object,default:function(){}},settings:{type:Object,default:function(){}},show:Boolean},computed:{show_metric:function(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.show_metric)||""},id:function(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.output_idx)||0},isClass:function(){var t,e=(null===(t=this.menus)||void 0===t?void 0:t.isClass)||{};return e[this.id]},outputs:function(){var t;return(null===(t=this.menus)||void 0===t?void 0:t.outputs)||[]},exits:function(){return this.outputs.map((function(t){return t.id}))},metrics:function(){var t,e=this,s=(null===(t=this.outputs.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.metrics)||[];return s}}},Nt=Lt,Bt=(s("f7721"),Object(d["a"])(Nt,Gt,Ut,!1,null,"00d62f56",null)),It=Bt.exports,Vt={name:"t-char",props:{id:Number,progress_state:{type:String,default:""},graph_name:{type:String,default:""},x_label:{type:String,default:""},y_label:{type:String,default:""},plot_data:{type:Array,default:function(){return[]}},type:{type:String,default:"lines"},settings:{type:Object,default:function(){}},menus:{type:Object,default:function(){}}},components:{Plotly:Rt["Plotly"],PopUpMenu:It},data:function(){return{graphicShow:!0,popMenuShow:!1,defLayout:{autosize:!0,margin:{l:50,r:20,t:10,b:35,pad:0,autoexpand:!0},font:{color:"#A7BED3"},showlegend:!0,legend:{y:-.2,itemsizing:"constant",orientation:"h",font:{family:"Open Sans",color:"#A7BED3"}},paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:""},xaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1},yaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1}}}},computed:{order:function(){return{order:this.graphicShow?this.settings.id:998}},layout:function(){var t=this.defLayout;return this.plot_data&&(t.xaxis.title=this.x_label,t.yaxis.title=this.y_label),t},data:function(){var t=this;return this.plot_data.map((function(e){var s=e.x,a=e.y,i=e.mode,n=void 0===i?t.type:i,r=e.label;return{x:s,y:a,mode:n,label:r}}))}},mounted:function(){},methods:{event:function(t){var e=t.name,s=t.data;"hide"===s&&this.show(),this.$emit("event",{name:e,data:s}),this.popMenuShow=!1},show:function(){this.graphicShow&&(this.popMenuShow=!1),this.graphicShow=!this.graphicShow},outside:function(){console.log("sdsdsd"),this.popMenuShow=!1}}},Ft=Vt,Wt=(s("a5d9"),Object(d["a"])(Ft,Mt,At,!1,null,"343aa1e5",null)),Jt=Wt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-char-temp"},[t._m(0),s("div",{staticClass:"t-char-temp__header"}),t.graphicShow?s("div",{staticClass:"t-char-temp__main"},[s("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}})],1):t._e()])},Ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-char-temp__overflow"},[s("i",{staticClass:"t-icon icon-add-chart"}),t._v(" Добавить график ")])}],Yt={name:"t-char-temp",components:{Plotly:Rt["Plotly"]},data:function(){return{dataList:["loss","Metrics"],metrics:["Accuracy","CategoricalHinge","KLDivergence"],char:{graph_name:"График",x_label:"Эпоха",y_label:"Значение",plot_data:[],progress_state:"underfitting"},graphicShow:!0,popMenuShow:!1,defLayout:{autosize:!0,margin:{l:50,r:20,t:10,b:35,pad:0,autoexpand:!0},font:{color:"#A7BED3"},showlegend:!0,legend:{y:-.2,itemsizing:"constant",orientation:"h",font:{family:"Open Sans",color:"#A7BED3"}},paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:""},xaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1},yaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1}}}},computed:{layout:function(){var t=this.defLayout;return this.char,t},data:function(){var t=this.char.plot_data||[],e=t.map((function(t){var e=t.epochs,s=t.values,a=t.mode,i=void 0===a?"lines":a,n=t.label;return{x:e,y:s,mode:i,name:n}}));return e}},methods:{handleMenu:function(t){console.log(t),this.popMenuShow=!1}},mounted:function(){console.log(this.char)}},Kt=Yt,qt=(s("8ae2"),Object(d["a"])(Kt,Xt,Ht,!1,null,"0b30caa8",null)),Qt=qt.exports,Zt={name:"t-graphs",components:{TChar:Jt,TCharTemp:Qt},props:{metric:String,outputs:Array,interactive:Object},data:function(){return{}},computed:Object(l["a"])(Object(l["a"])({},Object(c["b"])({chars:"trainings/getChars"})),{},{menus:function(){return{isClass:this.classGraphics,outputs:this.allOutputs}},allOutputs:function(){var t,e,s=this.$store.getters["trainings/getTrainSettings"],a=(null===s||void 0===s||null===(t=s.architecture)||void 0===t||null===(e=t.parameters)||void 0===e?void 0:e.outputs)||[];return a.map((function(t,e){return t?Object(l["a"])({id:e},t):null})).filter((function(t){return t}))},classGraphics:function(){return this.$store.getters["trainings/getTrainData"]("class_graphics")},charts:{set:function(t){console.log(t),this.$store.dispatch("trainings/setObjectInteractive",Object(Dt["a"])({},this.metric,t))},get:function(){return this.$store.getters["trainings/getArrayInteractive"](this.metric)}},data:function(){return this.$store.getters["trainings/getTrainData"](this.metric)||[]},outputIdx:function(){return this.outputs.find((function(t){return t.id})).id},metrics:function(){var t,e;return null!==(t=null===(e=this.outputs)||void 0===e?void 0:e[0].metrics)&&void 0!==t?t:[]}}),mounted:function(){},methods:{event:function(t,e){var s=t.name,a=t.data,i=e.id;console.log(s,a,i),"add"===a&&this.add(),"remove"===a&&this.remove(i),"copy"===a&&this.copy(i),"chart"===s&&(this.charts=this.charts.map((function(t){return t.id===i&&(t.output_idx=a),t}))),"data"===s&&(this.charts=this.charts.map((function(t){return t.id===i&&(t.show=a),t}))),"metric"===s&&(this.charts=this.charts.map((function(t){return t.id===i&&(t.show_metric=a),t}))),this.send()},getChart:function(t){var e=t.id;return this.data.find((function(t){return t.id===e}))},add:function(){if(console.log(this.charts),this.charts.length<10){var t=Math.max.apply(Math,[0].concat(Object(K["a"])(this.charts.map((function(t){return t.id})))));"metric_graphs"===this.metric?this.charts.push({id:t+1,output_idx:this.outputIdx,show:"model",show_metric:this.metrics[0]}):this.charts.push({id:t+1,output_idx:this.outputIdx,show:"model"}),this.charts=Object(K["a"])(this.charts),this.send()}},copy:function(t){if(this.charts.length<10){var e=Math.max.apply(Math,[0].concat(Object(K["a"])(this.charts.map((function(t){return t.id}))))),s=Object(l["a"])({},this.charts.find((function(e){return e.id===t})));s&&(s.id=e+1,this.charts=[].concat(Object(K["a"])(this.charts),[s]))}},remove:function(t){this.charts=this.charts.filter((function(e){return e.id!==t}))},send:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/interactive",{});case 2:s=e.sent,console.log("response",s);case 4:case"end":return e.stop()}}),e)})))()}}},te=Zt,ee=(s("b666"),Object(d["a"])(te,Et,zt,!1,null,"0e401198",null)),se=ee.exports,ae={name:"Graphics",components:{Prediction:Pt,Texts:S,Progress:J,Stats:tt,Balance:_t,Graphs:se},data:function(){return{}},computed:Object(l["a"])(Object(l["a"])({},Object(c["b"])({})),{},{collapse:{set:function(t){this.$store.dispatch("trainings/setСollapse",t)},get:function(){return this.$store.getters["trainings/getСollapse"]}},show:function(){return this.collabse.includes("0")},outputs:function(){return this.$store.getters["trainings/getOutputs"]},interactive:function(){return this.$store.getters["trainings/getInteractive"]}}),methods:{change:function(t){this.collabse=t,console.log(t)}}},ie=ae,ne=(s("60fd"),Object(d["a"])(ie,h,m,!1,null,"2ebd24fe",null)),re=ne.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"params"},["start"===t.statusTrain?s("div",{staticClass:"params__overlay"},[s("LoadSpiner",{attrs:{text:"Запуск обучения..."}})],1):t._e(),s("div",{staticClass:"params__body"},[s("scrollbar",[s("div",{staticClass:"params__items"},[s("at-collapse",{attrs:{value:t.collapse}},[s("at-collapse-item",{staticClass:"mt-3",attrs:{title:""}},[t._l(t.main.fields,(function(e,a){return[s("t-auto-field-trainings",t._b({key:"main_"+a,attrs:{state:t.state,inline:!1,disabled:t.disabledAny},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:""}},[s("div",{staticClass:"fit"},[t._l(t.fit.fields,(function(e,a){return[s("t-auto-field-trainings",t._b({key:"fit_"+a,staticClass:"fit__item",attrs:{state:t.state,inline:!0,disabled:t.disabledAny},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)]),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.optimizer.name}},[s("div",{staticClass:"optimizer"},[t._l(t.optimizerFields,(function(e,a){return[s("t-auto-field-trainings",t._b({key:"optimizer_"+a,staticClass:"optimizer__item",attrs:{state:t.state,inline:"",disabled:t.disabledAny},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)]),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.outputs.name}},[s("div",{staticClass:"blocks-layers"},[t._l(t.outputs.fields,(function(e,a){return[s("div",{key:"block_layers_"+a,staticClass:"block-layers"},[s("div",{staticClass:"block-layers__header"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"block-layers__body"},[t._l(e.fields,(function(e,a){return[s("t-auto-field-trainings",t._b({key:"checkpoint_"+a,attrs:{state:t.state,inline:!0,disabled:e.disabled||t.disabled},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)])]}))],2)]),s("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.checkpoint.name}},[s("div",{staticClass:"checkpoint"},[s("t-field",{staticClass:"checkpoint__item",attrs:{inline:"",label:"Функция"}},[s("t-select-new",{attrs:{list:t.func,small:"",update:"",name:"metric_name",parse:"architecture[parameters][checkpoint][metric_name]",value:t.getValue,disabled:t.disabled},on:{parse:t.parse}})],1),t._l(t.checkpoint.fields,(function(e,a){return[s("t-auto-field-trainings",t._b({key:"outputs_"+a,staticClass:"checkpoint__item",attrs:{state:t.state,inline:!0,disabled:t.disabled},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)])],1)],1)])],1),s("div",{staticClass:"params__footer"},t._l(t.button,(function(e,a){var i=e.title,n=e.visible;return s("div",{key:a,staticClass:"params__btn"},[s("t-button",{attrs:{disabled:!n},on:{click:function(e){return t.btnEvent(a)}}},[t._v(t._s(i))])],1)})),0)])},ce=[],oe=s("eb4c"),ue=(s("4d63"),s("ac1f"),s("466d"),/(\[[^\[\]]*\])/g);function de(t){var e=[],s=/^([^\[\]]*)/,a=new RegExp(ue),i=s.exec(t);i[1]&&e.push(i[1]);while(null!==(i=a.exec(t)))e.push(i[1]);return e}function _e(t,e,s){if(0===e.length)return t=s,t;var a=e.shift(),i=a.match(/^\[(.+?)\]$/);if("[]"===a)return t=t||[],Array.isArray(t)?t.push(_e(null,e,s)):(t._values=t._values||[],t._values.push(_e(null,e,s))),t;if(i){var n=i[1],r=+n;isNaN(r)?(t=t||{},t[n]=_e(t[n],e,s)):(t=t||[],t[r]=_e(t[r],e,s))}else t[a]=_e(t[a],e,s);return t}function pe(t,e,s){var a=e.match(ue);if(a){var i=de(e);_e(t,i,s)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(s)):t[e]=s}return t}var he=pe,me={name:"params-traning",components:{LoadSpiner:I["a"]},data:function(){return{collapse:[0,1,2,3,4],optimizerValue:"",metricData:"",debounce:null}},computed:Object(l["a"])(Object(l["a"])({},Object(c["b"])({params:"trainings/getParams",button:"trainings/getButtons",status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},disabled:function(){return"no_train"!==this.status},disabledAny:function(){var t=this.status;return!!this.isLearning&&("stopped"!==t||["epochs"])},getValue:function(){var t,e,s,a,i,n=(null===(t=Object.values((null===(s=this.outputs)||void 0===s?void 0:s.fields)||{}))||void 0===t||null===(e=t[0])||void 0===e?void 0:e.fields)||[],r=n.find((function(t){return"multiselect"===t.type}));return null!==(a=null===(i=this.state)||void 0===i?void 0:i["architecture[parameters][checkpoint][metric_name]"])&&void 0!==a?a:r.value[0]||""},state:{set:function(t){this.$store.dispatch("trainings/setStateParams",t)},get:function(){return this.$store.getters["trainings/getStateParams"]}},trainSettings:{set:function(t){this.$store.dispatch("trainings/setTrainSettings",t)},get:function(){return this.$store.getters["trainings/getTrainSettings"]}},main:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.main)||{}},fit:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.fit)||{}},outputs:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.outputs)||{}},optimizerFields:function(){var t,e,s;return(null===(t=this.params)||void 0===t||null===(e=t.optimizer)||void 0===e||null===(s=e.fields)||void 0===s?void 0:s[this.optimizerValue])||[]},optimizer:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.optimizer)||{}},checkpoint:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.checkpoint)||{}},statusTrain:function(){return this.$store.getters["trainings/getStatusTrain"]},func:function(){var t,e,s,a,i,n=(null===(t=this.trainSettings)||void 0===t||null===(e=t.architecture)||void 0===e||null===(s=e.parameters)||void 0===s?void 0:s.outputs)||[];return n=(null===(a=n)||void 0===a||null===(i=a[this.metricData])||void 0===i?void 0:i.metrics)||[],n=n.map((function(t){return{label:t,value:t}})),n}}),methods:{btnEvent:function(t){"train"===t&&this.start(),"stop"===t&&this.stop(),"clear"===t&&this.clear(),"save"===t&&this.save()},click:function(t){console.log(t)},start:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/start",t.trainSettings);case 2:s=e.sent,s&&(a=s.data,a&&null!==a&&void 0!==a&&null!==(i=a.state)&&void 0!==i&&i.status&&(localStorage.setItem("settingsTrainings",JSON.stringify(t.state)),t.debounce()));case 4:case"end":return e.stop()}}),e)})))()},stop:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("trainings/stop",{});case 1:case"end":return e.stop()}}),e)})))()},clear:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/clear",{});case 2:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/save",{});case 2:case"end":return e.stop()}}),e)})))()},progress:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var s,a,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/progress",{});case 2:s=e.sent,s&&(a=s.data,i=a.finished,n=a.message,r=a.percent,t.$store.dispatch("messages/setProgressMessage",n),t.$store.dispatch("messages/setProgress",r),i||t.isLearning&&t.debounce());case 4:case"end":return e.stop()}}),e)})))()},parse:function(t){var e=t.parse,s=t.value,a=t.name;if(he(this.trainSettings,e,s),this.trainSettings=Object(l["a"])({},this.trainSettings),"architecture_parameters_checkpoint_layer"===a?(this.metricData=s,s&&(this.state=Object(Dt["a"])({},"".concat(e),s))):this.state=Object(Dt["a"])({},"".concat(e),s),"optimizer"===a&&(this.optimizerValue=s),"metric_name"===a&&!s){var i=this.state["architecture[parameters][outputs][2][metrics]"];i&&(he(this.trainSettings,"architecture[parameters][checkpoint][metric_name]",i[0]),this.trainSettings=Object(l["a"])({},this.trainSettings),this.state=Object(Dt["a"])({},"architecture[parameters][checkpoint][metric_name]",i[0]))}}},created:function(){var t=this;this.debounce=Object(oe["a"])((function(){t.progress()}),1e3),this.isLearning&&this.debounce();var e=localStorage.getItem("settingsTrainings");if(e)try{this.state=JSON.parse(e)}catch(s){console.warn(s)}}},ve=me,fe=(s("97ee"),Object(d["a"])(ve,le,ce,!1,null,"d642158c",null)),ge=fe.exports,be={name:"Training",components:{Toolbar:p,Graphics:re,Params:ge},data:function(){return{collabse:[]}},methods:{},created:function(){}},ye=be,Ce=(s("0ae7"),Object(d["a"])(ye,a,i,!1,null,"dcc032b4",null));e["default"]=Ce.exports},d285:function(t,e,s){"use strict";s("e480")},df9a:function(t,e,s){"use strict";s("b34f")},e0d7:function(t,e,s){"use strict";s("1f7e")},e480:function(t,e,s){},e807:function(t,e,s){},e9ac:function(t,e,s){},eb4c:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var a=function(t,e,s){var a;return function(){var i=this,n=arguments,r=function(){a=null,s||t.apply(i,n)},l=s&&!a;clearTimeout(a),a=setTimeout(r,e),l&&t.apply(i,n)}}},eca8:function(t,e,s){},f16c:function(t,e,s){},f392:function(t,e,s){},f7721:function(t,e,s){"use strict";s("f16c")}}]);