(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49d8a034"],{"0031":function(t,e,a){"use strict";a("4a30")},"0046":function(t,e,a){"use strict";a("ef70")},"0911":function(t,e,a){"use strict";a("e2c5")},"0992":function(t,e,a){},"0ae7":function(t,e,a){"use strict";a("eca8")},"0d0c":function(t,e,a){},"113c":function(t,e,a){"use strict";a("d517")},"183d":function(t,e,a){"use strict";a("3359")},"1fa5":function(t,e,a){},2980:function(t,e,a){t.exports=a.p+"media/sound1.01d300cd.mp3"},3121:function(t,e,a){"use strict";a("0d0c")},3318:function(t,e,a){},3359:function(t,e,a){},3879:function(t,e,a){"use strict";a("f392")},"3bb3":function(t,e,a){},"3ff4":function(t,e,a){"use strict";a("e7ab")},"4a30":function(t,e,a){},"5dd5":function(t,e,a){},"692c":function(t,e,a){"use strict";a("9627")},"6ef8":function(t,e,a){},"7e1a":function(t,e,a){},"7ef8":function(t,e,a){},"801a":function(t,e,a){"use strict";a("aedb")},"80a3":function(t,e,a){"use strict";a("7ef8")},"839c":function(t,e,a){},"8ae2":function(t,e,a){"use strict";a("aba2")},"8f5e":function(t,e,a){},9432:function(t,e,a){},9627:function(t,e,a){},"975f":function(t,e,a){"use strict";a("839c")},a4b0:function(t,e,a){"use strict";a("9432")},aba2:function(t,e,a){},aedb:function(t,e,a){},afa3:function(t,e,a){"use strict";a("0992")},b4a9:function(t,e,a){"use strict";a("5dd5")},b582:function(t,e,a){"use strict";a("1fa5")},b707:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"page-training"},[a("div",{staticClass:"cont"},[a("Toolbar",{attrs:{collabse:t.collabse}}),a("Graphics",{on:{collabse:function(e){t.collabse=e}}}),a("Params")],1)])},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toolbar"},[a("ul",{staticClass:"toolbar__menu"},t._l(t.items,(function(e,i){var s=e.title,n=e.disabled,r=e.icon;return a("li",{key:"items_"+i,class:["toolbar__menu--item"],attrs:{disabled:n}},[a("i",{class:["t-icon",r,{active:t.active(i)}],attrs:{title:s}})])})),0)])},r=[],l=a("5530"),o=(a("caad"),a("2532"),a("d3b7"),a("25f0"),a("2f62")),c={name:"Toolbar",props:{collabse:Array},data:function(){return{}},computed:Object(l["a"])({},Object(o["b"])({items:"trainings/getToolbar"})),methods:{active:function(t){return this.collabse.includes(t.toString())},click:function(){}}},u=c,d=(a("f7f8"),a("2877")),_=Object(d["a"])(u,n,r,!1,null,"559a36b5",null),p=_.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board"},[a("scrollbar",{attrs:{ops:{scrollPanel:{scrollingX:!1}}}},[a("div",{staticClass:"wrapper"},[a("at-collapse",{staticClass:"mt-3",on:{"on-change":t.change}},[a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Лоссы",center:""}},[a("Graphs",{attrs:{metric:"loss_graphs",outputs:t.outputs,interactive:t.interactive}})],1),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Метрики",center:""}},[a("Graphs",{attrs:{metric:"metric_graphs",outputs:t.outputs,interactive:t.interactive}})],1),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Промежуточные результаты",center:""}},[a("Prediction",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Прогресс обучения",center:""}},[a("Progress",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Таблица прогресса обучения",center:""}},[a("Texts",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Статистические данные",center:""}},[a("Stats",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Баланс данных",center:""}},[a("Balance",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1)],1)],1)])],1)},v=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-texts"},[a("div",{staticClass:"t-texts__header"},t._l(t.layers,(function(e,i){return a("div",{key:"layer_"+i,staticClass:"t-texts__block"},[a("p",[t._v(t._s(e))]),a("t-field",{attrs:{inline:"",label:"loss"}},[a("t-checkbox-new",{attrs:{value:!0,name:"loss"},on:{change:function(a){return t.change(e,a)}}})],1),a("t-field",{attrs:{inline:"",label:"metrics"}},[a("t-checkbox-new",{attrs:{value:!0,name:"metrics"},on:{change:function(a){return t.change(e,a)}}})],1)],1)})),0),a("div",{staticClass:"t-texts__content"},[a("Table",{attrs:{data:t.data,settings:t.settings}})],1),t.isData?t._e():a("div",{staticClass:"t-texts__empty"},[t._v(" Нет данных ")])])},f=[],b=(a("07ac"),a("b0c0"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-table"},[a("scrollbar",{attrs:{ops:t.ops}},[t.isTable?a("table",[a("thead",[a("tr",{staticClass:"outputs_heads"},[a("th",{attrs:{rowspan:"2"}},[t._v("Эпоха")]),a("th",{attrs:{rowspan:"2"}},[t._v(" Время "),a("br"),t._v(" (сек.) ")]),t._l(t.outputs,(function(e,i){return[a("th",{directives:[{name:"show",rawName:"v-show",value:t.isShow(i),expression:"isShow(key)"}],key:i,attrs:{colspan:"4"}},[t._v(" "+t._s(i)+" ")])]}))],2),a("tr",{staticClass:"callbacks_heads"},[t._l(t.outputs,(function(e,i){return[t._l(e,(function(e,s){return[t._l(e,(function(e,n){return[a("th",{directives:[{name:"show",rawName:"v-show",value:t.isShow(i,s),expression:"isShow(keyO, keyI)"}],key:s+n+i},[t._v(t._s(n))])]}))]}))]}))],2)]),a("tbody",t._l(t.data,(function(e,i,s){var n=e.time,r=e.data;return a("tr",{key:"epoch_"+s},[a("td",{staticClass:"epoch_num"},[t._v(t._s(i))]),a("td",[t._v(t._s(t._f("int")(n)))]),t._l(r,(function(e,i){return[t._l(e,(function(e,s){return[t._l(e,(function(e,n){return[a("td",{directives:[{name:"show",rawName:"v-show",value:t.isShow(i,s),expression:"isShow(keyO, keyM)"}],key:i+"t"+s+"r"+n,staticClass:"value"},[a("span",[t._v(t._s(t._f("int")(e)))]),a("i",[t._v(".")]),t._v(" "+t._s(t._f("drob")(e))+" ")])]}))]}))]}))],2)})),0),a("tfoot",[a("tr",[a("th",{attrs:{colspan:"6"}},[t._v(t._s("summary"))])])])]):t._e()])],1)}),g=[],y=(a("fb6a"),a("b680"),{name:"t-table",props:{data:{type:Object,default:function(){}},settings:{type:Object,default:function(){}}},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},mounted:function(){console.log(this.settings)},computed:{isTable:function(){var t;return!(null===(t=this.data)||void 0===t||!t[1])},outputs:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(e=t[1])||void 0===e?void 0:e.data)||{}}},filters:{int:function(t){return~~t},drob:function(t){return(t%1).toFixed(9).slice(2)}},methods:{isShow:function(t,e){var a,i,s,n,r,l,o,c,u;return t&&e?null===(a=null===(i=this.settings)||void 0===i||null===(s=i[t])||void 0===s?void 0:s[e])||void 0===a||a:null===(n=null===(r=this.settings)||void 0===r||null===(l=r[t])||void 0===l?void 0:l.loss)||void 0===n||n||null===(o=null===(c=this.settings)||void 0===c||null===(u=c[t])||void 0===u?void 0:u.metrics)||void 0===o||o}}}),C=y,w=(a("80a3"),Object(d["a"])(C,b,g,!1,null,"589febdb",null)),x=w.exports,k={name:"Texts",components:{Table:x},data:function(){return{settings:{},ops:{scrollPanel:{scrollingX:!1,scrollingY:!1}}}},computed:{layers:function(){var t,e,a=(null===(t=this.data)||void 0===t||null===(e=t["1"])||void 0===e?void 0:e.data)||{},i=[];for(var s in a)i.push(s);return i},data:function(){return this.$store.getters["trainings/getTrainData"]("progress_table")||{}},isData:function(){return Object.values(this.data).length}},methods:{change:function(t,e){var a=e.name,i=e.value;this.settings[t]||(this.settings[t]={}),this.settings[t][a]=i,this.settings=Object(l["a"])({},this.settings),console.log(this.settings)}},created:function(){var t=this;this.layers.forEach((function(e){t.settings[e]={loss:!0,metrics:!0}}))}},O=k,j=(a("3879"),Object(d["a"])(O,h,f,!1,null,"11bd2010",null)),T=j.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-progress"},[a("div",{staticClass:"t-progress__item t-progress__item--timers"},[a("Timers",t._b({},"Timers",t.timings,!1))],1),a("div",{staticClass:"t-progress__item t-progress__item--info"},[a("Sysinfo",t._b({},"Sysinfo",t.usage,!1))],1)])},$=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-sysinfo"},[a("div",{staticClass:"t-sysinfo__label"},[t._v("Информация об устройстве")]),a("div",{staticClass:"t-sysinfo__grid"},[t.GPU.gpu_utilization?a("div",[a("div",{staticClass:"t-sysinfo__grid--item"},[t._v("GPU")]),a("div",{class:["t-sysinfo__grid--item",{warning:t.isWarning(t.GPU.gpu_utilization)}]},[a("p",{staticClass:"t-sysinfo__gpu-name"},[t._v("NVIDIA GeForce GTX 1060 6 GB")]),a("p",[t._v(t._s(t.GPU.gpu_utilization+"% ("+t.GPU.gpu_memory_used+" / "+t.GPU.gpu_memory_total+")"))]),a("div",{staticClass:"t-sysinfo__progress-bar"},[a("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.GPU.gpu_utilization+"%"}})])])]):t._e(),t.CPU.cpu_utilization?a("div",[a("div",{staticClass:"t-sysinfo__grid--item"},[t._v("CPU")]),a("div",{class:["t-sysinfo__grid--item",{warning:t.isWarning(t.CPU.cpu_utilization)}]},[a("p",[t._v(t._s((t.CPU.cpu_utilization||0)+"% ("+(t.CPU.cpu_memory_used||0)+" / "+(t.CPU.cpu_memory_total||0)+")"))]),a("div",{staticClass:"t-sysinfo__progress-bar"},[a("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:(t.CPU.cpu_utilization||0)+"%"}})])])]):t._e(),a("div",[a("div",{staticClass:"t-sysinfo__grid--item"},[t._v("RAM")]),a("div",{class:["t-sysinfo__grid--item",{warning:t.isWarning(t.RAM.ram_utilization)}]},[a("p",[t._v(t._s(t.RAM.ram_utilization+"% ("+t.RAM.ram_memory_used+" / "+t.RAM.ram_memory_total+")"))]),a("div",{staticClass:"t-sysinfo__progress-bar"},[a("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.RAM.ram_utilization+"%"}})])])]),a("div",[a("div",{staticClass:"t-sysinfo__grid-item"},[t._v("Disk")]),a("div",{class:["t-sysinfo__grid-item",{warning:t.isWarning(t.Disk.disk_utilization||0)}]},[a("p",[t._v(t._s(t.Disk.disk_utilization+"% ("+t.Disk.disk_memory_used+" / "+t.Disk.disk_memory_total+")")+" ")]),a("div",{staticClass:"t-sysinfo__progress-bar"},[a("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.Disk.disk_utilization+"%"}})])])])])])},z=[],A=(a("b64b"),{name:"",props:{Disk:{type:Object,default:function(){return{disk_utilization:0,disk_memory_total:0,disk_memory_used:0}}},GPU:{type:Object,default:function(){return{gpu_utilization:0,gpu_memory_total:0,gpu_memory_used:0}}},CPU:{type:Object,default:function(){return{cpu_utilization:0,cpu_memory_total:0,cpu_memory_used:0}}},RAM:{type:Object,default:function(){return{ram_utilization:0,ram_memory_total:0,ram_memory_used:0}}}},methods:{isEmptyAll:function(){return this.isEmpty(this.Disk)&&(this.isEmpty(this.GPU)||this.isEmpty(this.CPU))&&this.isEmpty(this.RAM)},isEmpty:function(t){return!!t&&0!==Object.keys(t).length},isWarning:function(t){var e=t||0;return+e>50}}}),P=A,D=(a("a4b0"),Object(d["a"])(P,E,z,!1,null,"75d61ae2",null)),M=D.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-time"},[a("div",{staticClass:"t-time__train"},[a("div",{staticClass:"t-time__timer-wrapper"},[a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Расчетное время обучения")]),a("div",[t._v(t._s(t.formatTime(t.estimated_time)))])]),a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Прошло времени")]),a("div",[t._v(t._s(t.formatTime(t.elapsed_time)))])]),a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Время до окончания обучения")]),a("div",[t._v(t._s(t.formatTime(t.still_time)))])]),a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Эпоха")]),a("div",[t._v(t._s(t.epoch.current||0))]),t._v(" / "),a("div",[t._v(t._s(t.epoch.total||0))])])]),a("div",{staticClass:"t-time__progress-bar"},[a("div",{staticClass:"t-time__progress-bar--fill",style:t.total(t.epoch)})])]),a("div",{staticClass:"t-time__age"},[a("div",{staticClass:"t-time__timer-wrapper"},[a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Среднее время эпохи")]),a("div",[t._v(t._s(t.formatTime(t.avg_epoch_time)))])]),a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Прошло времени на эпоху")]),a("div",[t._v(t._s(t.formatTime(t.elapsed_epoch_time)))])]),a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Время до окончания текущей эпохи")]),a("div",[t._v(t._s(t.formatTime(t.still_epoch_time)))])]),a("div",{staticClass:"t-time__timer"},[a("span",[t._v("Батч")]),a("div",[t._v(t._s(t.batch.current||0))]),t._v(" / "),a("div",[t._v(t._s(t.batch.total||0))])])]),a("div",{staticClass:"t-time__progress-bar"},[a("div",{staticClass:"t-time__progress-bar--fill",style:t.total(t.batch)})])])])},U=[],G=(a("a9e3"),a("99af"),{name:"t-train-time",props:{avg_epoch_time:{type:Number,default:0},elapsed_epoch_time:{type:Number,default:0},elapsed_time:{type:Number,default:0},estimated_time:{type:Number,default:0},still_epoch_time:{type:Number,default:0},still_time:{type:Number,default:0},batch:{type:Object,default:function(){return{current:0,total:0}}},epoch:{type:Object,default:function(){return{current:0,total:0}}}},methods:{total:function(t){var e=t.total,a=t.current;return{width:Math.round(100*a/e)+"%"}},formatTime:function(t){return t=~~t,"".concat(Math.floor(t/60/60),"h : ").concat(Math.floor(t/60),"m : ").concat(60*t%60,"s")}}}),B=G,N=(a("b4a9"),Object(d["a"])(B,R,U,!1,null,"dd97cb20",null)),V=N.exports,I={name:"t-progress",components:{Sysinfo:M,Timers:V},computed:{lossGraphs:function(){return this.$store.getters["trainings/getTrainUsage"]||{}},usage:function(){var t;return(null===(t=this.lossGraphs)||void 0===t?void 0:t.hard_usage)||{}},timings:function(){var t;return(null===(t=this.lossGraphs)||void 0===t?void 0:t.timings)||{}}},mounted:function(){console.log(this.data)}},L=I,F=(a("0911"),Object(d["a"])(L,S,$,!1,null,"2cb2b8dd",null)),K=F.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-scatters"},[a("div",{staticClass:"t-scatters__header"},[a("div",{staticClass:"checks"},[t._l(t.outputLayers,(function(e,i){return[a("t-checkbox",{key:"check_"+i,attrs:{inline:!0,label:"Выходной слой «"+e.id+"»",name:""+e.id},on:{change:function(a){return t.change(a,e.id)}}})]})),a("t-checkbox",{attrs:{inline:!0,label:"Автообновление"},on:{change:t.autoChange},model:{value:t.auto,callback:function(e){t.auto=e},expression:"auto"}})],2),a("t-button",{staticClass:"t-scatters__btn",on:{click:t.handleClick}},[t._v("Показать")])],1),a("div",{staticClass:"t-scatters__content"},[t._l(t.statisticData,(function(e,i,s){return[t.isShowKeys.includes(+i)?a("Heatmap",t._b({key:s,tag:"component"},"component",e,!1)):t._e()]})),a("Scatter")],2)])},W=[],X=a("1da1"),H=a("2909"),Y=(a("96cf"),a("4de4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-heatmap"},[a("div",{staticClass:"t-heatmap__scale"},[a("div",{staticClass:"t-heatmap__scale--gradient"}),a("div",{staticClass:"t-heatmap__scale--values"},t._l(t.stepValues,(function(e,i){return a("span",{key:i,staticClass:"value"},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"t-heatmap__wrapper"},[a("div",{staticClass:"t-heatmap__title"},[t._v(t._s(t.graph_name))]),a("div",{staticClass:"t-heatmap__x-label"},[t._v(t._s(t.x_label))]),a("div",{staticClass:"t-heatmap__y-label"},[t._v(t._s(t.y_label))]),a("div",{staticClass:"t-heatmap__grid--y-labels"},t._l(t.labels,(function(e,i){return a("span",{key:i},[t._v(t._s(e))])})),0),a("div",{staticClass:"t-heatmap__grid--x-labels"},t._l(t.labels,(function(e,i){return a("span",{key:i,attrs:{title:e}},[t._v(t._s(e))])})),0),a("div",{staticClass:"t-heatmap__grid",style:{gridTemplate:"repeat("+t.data_array.length+", 40px) / repeat("+t.data_array.length+", 40px)"}},t._l(t.values,(function(e,i){return a("div",{key:"col_"+i,staticClass:"t-heatmap__grid--item",style:{background:t.getColor(t.percent[i])},attrs:{title:e+" / "+t.percent[i]+"%"}},[t._v(" "+t._s(""+e)+" "),a("br"),t._v(" "+t._s(t.percent[i]+"%")+" ")])})),0)])])}),Z=[],q=(a("ddb0"),a("d81d"),{name:"t-heatmap",props:{id:Number,task_type:String,graph_name:String,x_label:String,y_label:String,labels:Array,data_array:Array,data_percent_array:Array},data:function(){return{}},computed:{values:function(){var t;return(t=[]).concat.apply(t,Object(H["a"])(this.data_array))},percent:function(){var t;return(t=[]).concat.apply(t,Object(H["a"])(this.data_percent_array))},averageVal:function(){return this.values.reduce((function(t,e){return t+e}))/this.values.length},stepValues:function(){var t=this;return[4,3,2,1,0].map((function(e){return t.max/4*e}))},max:function(){return 100*Math.round(this.maxValue/100)},maxValue:function(){return Math.max.apply(Math,Object(H["a"])(this.values))}},methods:{getColor:function(t){var e=66-t/100*41;return"hsl(212, 100%, ".concat(e,"%)")}}}),Q=q,tt=(a("afa3"),Object(d["a"])(Q,Y,Z,!1,null,"54503826",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-scatter"},[a("p",{staticClass:"t-scatter__title"},[t._v("Выходной слой «3» – Scatter")]),a("Plotly",{staticClass:"t-scatter__plotly",attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}})],1)},it=[],st=a("04d11"),nt={name:"t-scatter",components:{Plotly:st["Plotly"]},data:function(){return{data:[{type:"scatter",x:[1,2,3,4,5,6,7],y:[10,15,13,17,20,15,23],mode:"markers",name:"Регрессия",marker:{size:10}}],layout:{width:636,height:352,plot_bgcolor:"#fff0",paper_bgcolor:"#242F3D",showlegend:!0,legend:{orientation:"h",yanchor:"top"},font:{color:"#A7BED3",size:12},margin:{pad:1,t:10,r:20,b:70,l:60},xaxis:{gridcolor:"#17212B",showline:!0,linecolor:"#A7BED3",linewidth:1,title:{text:"Истинные значения",standoff:0,font:{size:12}}},yaxis:{gridcolor:"#17212B",showline:!0,linecolor:"#A7BED3",linewidth:1,title:{text:"Предсказанные значения",font:{size:12}}}}}}},rt=nt,lt=(a("3ff4"),Object(d["a"])(rt,at,it,!1,null,"4db16844",null)),ot=lt.exports,ct={name:"t-scatters",components:{Heatmap:et,Scatter:ot},computed:{statisticData:function(){return this.$store.getters["trainings/getTrainData"]("statistic_data")||[]},outputLayers:function(){var t=this.$store.getters["modeling/getModel"].layers;return t?t.filter((function(t){return"output"===t.group})):[]}},data:function(){return{isShowKeys:[],auto:!1}},methods:{change:function(t,e){this.isShowKeys=this.isShowKeys.includes(e)?this.isShowKeys.filter((function(t){return t!==e})):[].concat(Object(H["a"])(this.isShowKeys),[e])},handleClick:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={statistic_data:{output_id:t.isShowKeys,autoupdate:t.auto}},t.$store.dispatch("trainings/setTrainDisplay",a),e.next=4,t.$store.dispatch("trainings/interactive",t.$store.getters["trainings/getTrainDisplay"]);case 4:case"end":return e.stop()}}),e)})))()},autoChange:function(t){this.auto=t.value}}},ut=ct,dt=(a("d8ed"),Object(d["a"])(ut,J,W,!1,null,"25c61251",null)),_t=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-balance"},[a("div",{staticClass:"t-balance__header"},[a("div",{staticClass:"t-balance__wrapper"},[a("div",{staticClass:"t-balance__checks"},[a("t-field",{attrs:{inline:"",label:"Показать тренировочную выборку"}},[a("t-checkbox-new",{model:{value:t.train,callback:function(e){t.train=e},expression:"train"}})],1),a("t-field",{attrs:{inline:"",label:"Показать проверочную выборку"}},[a("t-checkbox-new",{attrs:{small:""},model:{value:t.test,callback:function(e){t.test=e},expression:"test"}})],1)],1),a("t-field",{attrs:{inline:"",label:"Сортировать"}},[a("t-select-new",{attrs:{small:"",list:t.sortOps},model:{value:t.sortSelected,callback:function(e){t.sortSelected=e},expression:"sortSelected"}})],1),a("t-button",{staticClass:"t-balance__btn",on:{click:t.handleClick}},[t._v("Показать")])],1)]),a("div",{staticClass:"t-balance__graphs"},[t._l(t.dataDalance,(function(e,i){return[t._l(e,(function(e,s){return[a("Graph",t._b({key:"graph_"+i+"/"+s},"Graph",e,!1))]}))]}))],2)])},mt=[],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scrollbar",{staticStyle:{width:"initial"},attrs:{ops:t.ops}},[a("div",{staticClass:"t-graph"},[a("p",[t._v(t._s(t.graph_name||""))]),a("div",{staticClass:"t-graph__wrapper"},[a("div",{staticClass:"t-graph__x-label"},[t._v(t._s(t.x_label))]),a("div",{staticClass:"t-graph__y-label"},[t._v(t._s(t.y_label))]),a("div",{staticClass:"t-graph__values"},t._l(t.stepValues,(function(e,i){return a("div",{key:i},[t._v(t._s(e))])})),0),a("div",{staticClass:"t-graph__diagram"},t._l(t.values,(function(e,i){return a("div",{key:i,staticClass:"t-graph__diagram-item"},[a("span",[t._v(t._s(e))]),a("div",{staticClass:"t-graph__diagram-fill",style:{height:(e/t.max*100).toFixed()+"%"}}),a("div",{staticClass:"t-graph__diagram-label",attrs:{title:t.labels[i]}},[t._v(t._s(t.labels[i]))])])})),0)])])])},ht=[],ft={name:"t-graph",props:{id:Number,graph_name:String,x_label:String,y_label:String,plot_data:Array},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},computed:{values:function(){var t,e;return(null===(t=this.plot_data)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.values)||[]},labels:function(){var t,e;return(null===(t=this.plot_data)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.labels)||[]},stepValues:function(){var t=this;return[4,3,2,1,0].map((function(e){return t.max/4*e}))},max:function(){return 100*Math.ceil(this.maxValue/100)},maxValue:function(){return Math.max.apply(Math,Object(H["a"])(this.values))}}},bt=ft,gt=(a("113c"),Object(d["a"])(bt,vt,ht,!1,null,"45ddffe0",null)),yt=gt.exports,Ct={name:"t-balance",components:{Graph:yt},data:function(){return{train:!1,test:!1,sortOps:[{label:"по имени",value:"alphabetic"},{label:"по увеличению",value:"ascending"},{label:"по убыванию",value:"descending"}],sortSelected:"alphabetic"}},computed:{dataDalance:function(){return this.$store.getters["trainings/getTrainData"]("data_balance")||[]}},methods:{handleClick:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={data_balance:{show_train:t.train,show_val:t.test,sorted:t.sortSelected}},t.$store.dispatch("trainings/setTrainDisplay",a),e.next=4,t.$store.dispatch("trainings/interactive",t.$store.getters["trainings/getTrainDisplay"]);case 4:case"end":return e.stop()}}),e)})))()}}},wt=Ct,xt=(a("975f"),Object(d["a"])(wt,pt,mt,!1,null,"9bb3c142",null)),kt=xt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"predictions"},[a("div",{staticClass:"predictions__params"},[a("div",{staticClass:"predictions__param"},[a("t-field",{attrs:{inline:"",label:"Показать тренировочную выборку"}},[a("t-checkbox-new",{attrs:{value:!0,small:""}})],1)],1),a("div",{staticClass:"predictions__param"},[a("t-field",{attrs:{inline:"",label:"Данные для расчета"}},[a("t-select-new",{attrs:{small:""}})],1),a("t-field",{attrs:{inline:"",label:"Тип выбора данных"}},[a("t-select-new",{attrs:{small:""}})],1)],1),a("div",{staticClass:"predictions__param"},[a("t-field",{attrs:{inline:"",label:"Показать примеров"}},[a("t-input-new",{attrs:{value:10,type:"number",small:""}})],1),a("t-field",{attrs:{inline:"",label:"Показать статистику"}},[a("t-checkbox-new",{attrs:{value:!0,small:""}})],1)],1),a("div",{staticClass:"predictions__param"},[a("t-field",{attrs:{inline:"",label:"Автообновление"}},[a("t-checkbox-new",{attrs:{small:""}})],1)],1),a("div",{staticClass:"predictions__param"},[a("t-button",{staticStyle:{width:"150px"},nativeOn:{click:function(e){t.showTextTable=!t.showTextTable}}},[t._v("Показать")])],1)]),a("TextTable",{attrs:{show:t.showTextTable,predict:t.predictData}})],1)},jt=[],Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"table"},[a("scrollbar",[a("div",{staticClass:"table__columns"},[a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__item title size-1 layer-title"},[t._v("Слой")]),t._l(Object.keys(this.predict).length,(function(e,i){return a("div",{key:i,staticClass:"table__item"},[t._v(" "+t._s(i)+" ")])}))],2),Object.keys(this.predict).length>0&&Object.keys(this.predict[1]["initial_data"]).length>0?a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__item title size-2"},[t._v("Исходные данные")]),t._l(t.predict,(function(e,i){return a("div",{key:"id_"+i,staticClass:"table__row"},t._l(e.initial_data,(function(e,s){return a("div",{key:s,staticClass:"table__column"},[1==i?a("div",{staticClass:"table__item title size-2"},[t._v(t._s(s))]):t._e(),a("div",{staticClass:"table__item"},["Image"==e.type?a("TableImage",{attrs:{image:e}}):t._e(),"str"===e.type||"number"===e.type?a("TableText",{attrs:{data:e}}):t._e(),"Text"===e.type?a("TableTag",{attrs:{data:e}}):t._e(),"Video"===e.type?a("Embed",{attrs:{src:e.data}}):t._e(),"Audio"===e.type?a("TableAudio",{attrs:{url:e.data}}):t._e()],1)])})),0)}))],2)]):t._e(),Object.keys(this.predict).length>0&&Object.keys(this.predict[1]["true_value"]).length>0?a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__item title size-2"},[t._v("Истинное значение")]),t._l(t.predict,(function(e,i){return a("div",{key:"id_"+i,staticClass:"table__row"},t._l(e.true_value,(function(e,s){return a("div",{key:s,staticClass:"table__column"},[1==i?a("div",{staticClass:"table__item title size-2"},[t._v(t._s(s))]):t._e(),a("div",{staticClass:"table__item"},["Image"==e.type?a("TableImage",{attrs:{image:e}}):t._e(),"str"===e.type||"number"===e.type?a("TableText",{attrs:{data:e}}):t._e(),"Text"===e.type?a("TableTag",{attrs:{data:e}}):t._e(),"Video"===e.type?a("Embed",{attrs:{src:e.data}}):t._e(),"Audio"===e.type?a("TableAudio",{attrs:{url:e.data}}):t._e()],1)])})),0)}))],2)]):t._e(),Object.keys(this.predict).length>0&&Object.keys(this.predict[1]["predict_value"]).length>0?a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__item title size-2"},[t._v("Предсказание")]),t._l(t.predict,(function(e,i){return a("div",{key:"id_"+i,staticClass:"table__row"},t._l(e.predict_value,(function(e,s){return a("div",{key:s,staticClass:"table__column"},[1==i?a("div",{staticClass:"table__item title size-2"},[t._v(t._s(s))]):t._e(),a("div",{staticClass:"table__item"},["Image"==e.type?a("TableImage",{attrs:{image:e}}):t._e(),"str"===e.type||"number"===e.type?a("TableText",{attrs:{data:e}}):t._e(),"Text"===e.type?a("TableTag",{attrs:{data:e}}):t._e(),"Video"===e.type?a("Embed",{attrs:{src:e.data}}):t._e(),"Audio"===e.type?a("TableAudio",{attrs:{url:e.data}}):t._e()],1)])})),0)}))],2)]):t._e(),Object.keys(this.predict).length>0&&Object.keys(this.predict[1]["statistic_values"]).length>0?a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__column"},[a("div",{staticClass:"table__item title size-2"},[t._v("Статистика примеров")]),t._l(t.predict,(function(e,i){return a("div",{key:"id_"+i,staticClass:"table__row"},t._l(e.statistic_values,(function(e,s){return a("div",{key:s,staticClass:"table__column"},[1==i?a("div",{staticClass:"table__item title size-2"},[t._v(t._s(s))]):t._e(),t._l(e,(function(t,e){return a("div",{key:e,staticClass:"table__item"},[a("TableStatisticText",{attrs:{data:t,value:e}})],1)}))],2)})),0)}))],2)]):t._e()])])],1):t._e()},St=[],$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("img",{staticClass:"table-prediction__image",attrs:{src:a("d12e")("./"+t.path),alt:"img"}})},Et=[],zt={name:"TableImage",props:{image:{type:[Object,Array],default:function(){}}},computed:{path:function(){var t;return(null===(t=this.image)||void 0===t?void 0:t.data)||""},type:function(){var t;return(null===(t=this.image)||void 0===t?void 0:t.type)||null}}},At=zt,Pt=(a("801a"),Object(d["a"])(At,$t,Et,!1,null,"0d88eafd",null)),Dt=Pt.exports,Mt=function(){var t,e=this,a=e.$createElement,i=e._self._c||a;return i("p",{class:["table-prediction__text",(t={},t["table-prediction__text--marked-"+e.color]=e.color,t)]},[e._v(" "+e._s(e.text)+" ")])},Rt=[],Ut={name:"TableText",props:{data:{type:[Object,Array],default:function(){}}},computed:{text:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.data)||""},type:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.type)||null},color:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.color_mark)||""},tagsColor:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.tagsColor)||""}}},Gt=Ut,Bt=(a("0031"),Object(d["a"])(Gt,Mt,Rt,!1,null,"43f9cbf3",null)),Nt=Bt.exports,Vt=function(){var t,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"table-prediction"},[i("p",{class:["table-prediction__text"]},[e._v(" "+e._s(e.value)+" ")]),i("div",{class:["table-prediction__color",(t={},t["table-prediction__color--marked-"+e.color]=e.color,t)]})])},It=[],Lt={name:"TableStatisticText",props:{data:{type:[Object,Array],default:function(){}},value:String},computed:{color:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.color_mark)||""},percent:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.value)||""}}},Ft=Lt,Kt=(a("be57"),Object(d["a"])(Ft,Vt,It,!1,null,"02ed57b0",null)),Jt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{domProps:{innerHTML:t._s(t.text)}})},Xt=[],Ht=(a("a15b"),a("ac1f"),a("1276"),a("5319"),{name:"TableTag",props:{data:{type:[Object,Array],default:function(){}}},computed:{tagsColor:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.tags_color)||[]},text:function(){var t=this,e=this.data.data.split(" ").map((function(e){var a=e.substring(0,e.indexOf(">")+1),i='<span style="color: rgb('.concat(t.tagsColor[a].join(","),')">').concat(e.replace(/<[^>]+>/g,""),"</span>");return i})).join(" ");return e},type:function(){var t;return(null===(t=this.data)||void 0===t?void 0:t.type)||null}}}),Yt=Ht,Zt=Object(d["a"])(Yt,Wt,Xt,!1,null,null,null),qt=Zt.exports,Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("div",{staticClass:"audio"},[i("div",{staticClass:"audio__card"},[i("av-waveform",{attrs:{"canv-width":90,"canv-height":23,"played-line-color":"#65B9F4","noplayed-line-color":"#2B5278","played-line-width":0,playtime:!1,"canv-top":!0,"canv-class":"custom-player","canv-fill-color":"#2B5278","audio-src":a("bbf3")("./"+t.url)}})],1)])])},te=[],ee={name:"TableAudio",props:{url:{type:String,default:"sound1.mp3"}},mounted:function(){this.$el.querySelector("audio").setAttribute("controlsList","nodownload")}},ae=ee,ie=(a("ca4e"),Object(d["a"])(ae,Qt,te,!1,null,null,null)),se=ie.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.valid?a("div",{staticClass:"embed-responsive",class:[t.css]},[a("iframe",{staticClass:"embed-responsive-item",attrs:{loading:"lazy",sandbox:"allow-forms allow-scripts allow-pointer-lock allow-same-origin allow-top-navigation allow-presentation",allowfullscreen:"",src:t.url}})]):t._e()},re=[],le={props:{css:{type:String,default:"embed-responsive-16by9"},src:{type:String},params:{type:Object}},data:function(){return{valid:!1,url:"",videos:[{reg:/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/i,url:"https://www.youtube.com/embed/$5",params:{"picture-in-picture":1,accelerometer:1,gyroscope:1}},{reg:/^.*vimeo.com\/(\d+)($|\/|\b)/i,url:"https://player.vimeo.com/video/$1",params:{title:0,byline:0,portrait:0}},{reg:/^.*(?:\/video|dai.ly)\/([A-Za-z0-9]+)([^#\&\?]*).*/i,url:"https://www.dailymotion.com/embed/video/$1",params:{autoplay:0}},{reg:/^.*coub.com\/(?:embed|view)\/([A-Za-z0-9]+)([^#\&\?]*).*/i,url:"https://coub.com/embed/$1",params:{autoplay:0}}]}},watch:{src:function(t){this.parse()}},methods:{parse:function(){if(this.src)for(var t=0;t<this.videos.length;t++){var e=this.videos[t],a=e.reg.exec(this.src);if(a){var i=Object.assign({},e.params,this.params),s=Object.keys(i).map((function(t){return t+"="+i[t]})).join("&"),n=e.url.indexOf("?")>=0?"&":"?";return this.url=this.src.replace(e.reg,e.url)+n+s,void(this.valid=!0)}}this.valid=!1}},mounted:function(){this.parse()}},oe=le,ce=Object(d["a"])(oe,ne,re,!1,null,null,null),ue=ce.exports,de={name:"TextTableTest",components:{TableImage:Dt,TableStatisticText:Jt,TableAudio:se,TableText:Nt,TableTag:qt,Embed:ue},props:{show:Boolean,predict:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){console.log("Predict",this.predict)}},_e=de,pe=(a("eb67"),Object(d["a"])(_e,Tt,St,!1,null,"09eb1f30",null)),me=pe.exports,ve={name:"Predictions",components:{TextTable:me},props:{outputs:Array,interactive:Object},data:function(){return{showTextTable:!1,predictData:{}}},computed:Object(l["a"])({},Object(o["b"])({trainDisplay:"projects/getProject"})),created:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=JSON.parse(JSON.stringify(t.trainDisplay)),console.log("DATA",a);case 2:case"end":return e.stop()}}),e)})))()}},he=ve,fe=(a("3121"),Object(d["a"])(he,Ot,jt,!1,null,"88e3e78e",null)),be=fe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-charts"},[a("div",{staticClass:"t-charts__content"},[a("TCharTemp",{staticClass:"t-chart",nativeOn:{click:function(e){return t.add.apply(null,arguments)}}}),t._l(t.charts,(function(e,i){return a("TChar",t._b({key:"char1_"+i,staticClass:"t-chart",attrs:{settings:e,menus:t.allMenus},on:{event:function(a){return t.event(a,e)}}},"TChar",t.getChart(e),!1))}))],2),t.data.length?t._e():a("div",{staticClass:"t-charts__empty"},[t._v("Нет данных")])])},ye=[],Ce=a("ade3"),we=(a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-char",style:t.order},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outside,expression:"outside"}],staticClass:"t-char__header"},[a("div",{staticClass:"t-char__header--roll"},[a("i",{class:["t-icon","icon-training-roll-down"],attrs:{title:"roll down"},on:{click:t.show}})]),a("div",{staticClass:"t-char__header--title"},[t._v(t._s(t.graph_name))]),t.progress_state?a("div",{class:["t-char__header--condition",t.progress_state]},[a("span",[t._v(t._s(t.progress_state))]),a("div",{staticClass:"indicator"})]):t._e(),a("div",{staticClass:"t-char__header--additionally"},[a("i",{class:["t-icon","icon-training-additionally"],attrs:{title:"roll down"},on:{click:function(e){t.popMenuShow=!t.popMenuShow}}}),t.popMenuShow?a("PopUpMenu",{attrs:{menus:t.menus},on:{event:t.event}}):t._e()],1)]),t.graphicShow?a("div",{staticClass:"t-char__main"},[a("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}}),t.data.length?t._e():a("div",{staticClass:"t-char__empty"},[t._v("Нет данных")])],1):t._e(),a("div")])}),xe=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"menu"},[a("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"hide"})}}},[t._v("Свернуть")]),a("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"remove"})}}},[t._v("Удалить")]),t._l(t.menus,(function(e,i){var s=e.name,n=e.list;return[a("li",{key:"menu_"+i,staticClass:"menu__dropdown"},[a("i",{class:["t-icon","icon-training-dropdown"]}),a("span",[t._v(t._s(s))]),a("ul",{staticClass:"menu"},t._l(n,(function(e,s){var n=e.title,r=e.event;return a("li",{key:"list_"+i+"_"+s,staticClass:"menu__item",on:{click:function(e){return t.$emit("event",r)}}},[t._v(" "+t._s(n)+" ")])})),0)])]}))],2)},Oe=[],je={name:"PopUpMenu",props:{menus:{type:Array,default:function(){return[]}}}},Te=je,Se=(a("692c"),Object(d["a"])(Te,ke,Oe,!1,null,"526dd680",null)),$e=Se.exports,Ee={name:"t-char",props:{id:Number,progress_state:{type:String,default:""},graph_name:{type:String,default:""},x_label:{type:String,default:""},y_label:{type:String,default:""},plot_data:{type:Array,default:function(){return[]}},type:{type:String,default:"lines"},menus:{type:Array,default:function(){return[]}},settings:{type:Object,default:function(){}}},components:{Plotly:st["Plotly"],PopUpMenu:$e},data:function(){return{graphicShow:!0,popMenuShow:!1,defLayout:{autosize:!0,margin:{l:50,r:20,t:10,b:35,pad:0,autoexpand:!0},font:{color:"#A7BED3"},showlegend:!0,legend:{y:-.2,itemsizing:"constant",orientation:"h",font:{family:"Open Sans",color:"#A7BED3"}},paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:""},xaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1},yaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1}}}},computed:{order:function(){return{order:this.graphicShow?this.settings.id:998}},layout:function(){var t=this.defLayout;return this.plot_data&&(t.xaxis.title=this.x_label,t.yaxis.title=this.y_label),t},data:function(){var t=this;return this.plot_data.map((function(e){var a=e.x,i=e.y,s=e.mode,n=void 0===s?t.type:s,r=e.label;return{x:a,y:i,mode:n,label:r}}))}},mounted:function(){console.log(this.menus)},methods:{event:function(t){var e=t.name,a=t.data;"hide"===a&&this.show(),this.$emit("event",{name:e,data:a}),this.popMenuShow=!1},show:function(){this.graphicShow&&(this.popMenuShow=!1),this.graphicShow=!this.graphicShow},outside:function(){console.log("sdsdsd"),this.popMenuShow=!1}}},ze=Ee,Ae=(a("183d"),Object(d["a"])(ze,we,xe,!1,null,"538d56bc",null)),Pe=Ae.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-char-temp"},[t._m(0),a("div",{staticClass:"t-char-temp__header"}),t.graphicShow?a("div",{staticClass:"t-char-temp__main"},[a("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}})],1):t._e()])},Me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-char-temp__overflow"},[a("i",{staticClass:"t-icon icon-add-chart"}),t._v(" Добавить график ")])}],Re={name:"t-char-temp",components:{Plotly:st["Plotly"]},data:function(){return{dataList:["loss","Metrics"],metrics:["Accuracy","CategoricalHinge","KLDivergence"],char:{graph_name:"График",x_label:"Эпоха",y_label:"Значение",plot_data:[],progress_state:"underfitting"},graphicShow:!0,popMenuShow:!1,defLayout:{autosize:!0,margin:{l:50,r:20,t:10,b:35,pad:0,autoexpand:!0},font:{color:"#A7BED3"},showlegend:!0,legend:{y:-.2,itemsizing:"constant",orientation:"h",font:{family:"Open Sans",color:"#A7BED3"}},paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:""},xaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1},yaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1}}}},computed:{layout:function(){var t=this.defLayout;return this.char,t},data:function(){var t=this.char.plot_data||[],e=t.map((function(t){var e=t.epochs,a=t.values,i=t.mode,s=void 0===i?"lines":i,n=t.label;return{x:e,y:a,mode:s,name:n}}));return e}},methods:{handleMenu:function(t){console.log(t),this.popMenuShow=!1}},mounted:function(){console.log(this.char)}},Ue=Re,Ge=(a("8ae2"),Object(d["a"])(Ue,De,Me,!1,null,"0b30caa8",null)),Be=Ge.exports,Ne={name:"t-graphs",components:{TChar:Pe,TCharTemp:Be},props:{metric:String,outputs:Array,interactive:Object},data:function(){return{charts:[],menus:[{name:"Показывать данные",list:[{title:"По всей модели",event:{name:"data",data:"model"}},{title:"По классам",event:{name:"data",data:"classes"}}]}]}},computed:Object(l["a"])(Object(l["a"])({},Object(o["b"])({chars:"trainings/getChars"})),{},{data:function(){return this.$store.getters["trainings/getTrainData"](this.metric)||[]},allMenus:function(){return console.log([].concat(Object(H["a"])(this.menus),[this.listChats])),[].concat(Object(H["a"])(this.menus),[this.listChats])},listChats:function(){var t=this.data.map((function(t){return{title:t.graph_name,event:{name:"chart",data:t.id}}}));return{name:"Выходы",list:t}},outputIdx:function(){return this.outputs.find((function(t){return t.id})).id}}),mounted:function(){var t;console.log(this.outputs),this.charts=(null===(t=this.interactive)||void 0===t?void 0:t[this.metric])||[]},methods:{event:function(t,e){var a=t.name,i=t.data,s=e.id;"remove"===i&&(this.remove(s),this.send(this.charts)),"chart"===a&&(this.charts=this.charts.map((function(t){return t.id===s&&(t.graphID=i),t}))),"data"===a&&(this.charts=this.charts.map((function(t){return t.id===s&&(t.show=i),t})),this.send(this.charts))},getChart:function(t){var e=t.id;return this.data.find((function(t){return t.id===e}))},add:function(){if(this.charts.length<10){var t=Math.max.apply(Math,[0].concat(Object(H["a"])(this.charts.map((function(t){return t.id})))));this.charts.push({id:t+1,output_idx:2,show:"model"}),this.send(this.charts)}},remove:function(t){this.charts=this.charts.filter((function(e){return e.id!==t}))},send:function(t){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("trainings/interactive",Object(Ce["a"])({},e.metric,t));case 2:i=a.sent,console.log("response",i);case 4:case"end":return a.stop()}}),a)})))()}}},Ve=Ne,Ie=(a("0046"),Object(d["a"])(Ve,ge,ye,!1,null,"7d83e348",null)),Le=Ie.exports,Fe={name:"Graphics",components:{Prediction:be,Texts:T,Progress:K,Stats:_t,Balance:kt,Graphs:Le},data:function(){return{collabse:[]}},computed:Object(l["a"])(Object(l["a"])({},Object(o["b"])({})),{},{show:function(){return this.collabse.includes("0")},training:function(){return this.$store.getters["projects/getProjectData"]("training")||{}},outputs:function(){var t,e,a;return(null===(t=this.training.base)||void 0===t||null===(e=t.architecture)||void 0===e||null===(a=e.parameters)||void 0===a?void 0:a.outputs)||[]},interactive:function(){return this.training.interactive||{}}}),methods:{change:function(t){this.$emit("collabse",this.collabse),this.collabse=t,console.log(t)}}},Ke=Fe,Je=(a("b582"),Object(d["a"])(Ke,m,v,!1,null,"ea62b71e",null)),We=Je.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"params"},[a("div",{staticClass:"params__body"},[a("scrollbar",[a("div",{staticClass:"params__items"},[a("at-collapse",{attrs:{value:t.collapse}},[a("at-collapse-item",{staticClass:"mt-3",attrs:{title:""}},[t._l(t.main.fields,(function(e,i){return[a("t-auto-field-trainings",t._b({key:"main_"+i,attrs:{state:t.state,inline:!1},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:""}},[a("div",{staticClass:"fit"},[t._l(t.fit.fields,(function(e,i){return[a("t-auto-field-trainings",t._b({key:"fit_"+i,staticClass:"fit__item",attrs:{state:t.state,inline:!0},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)]),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.optimizer.name}},[a("div",{staticClass:"optimizer"},[t._l(t.optimizerFields,(function(e,i){return[a("t-auto-field-trainings",t._b({key:"optimizer_"+i,staticClass:"optimizer__item",attrs:{state:t.state,inline:""},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)]),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.outputs.name}},[a("div",{staticClass:"blocks-layers"},[t._l(t.outputs.fields,(function(e,i){return[a("div",{key:"block_layers_"+i,staticClass:"block-layers"},[a("div",{staticClass:"block-layers__header"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"block-layers__body"},[t._l(e.fields,(function(e,i){return[a("t-auto-field-trainings",t._b({key:"checkpoint_"+i,attrs:{state:t.state,inline:!0},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)])]}))],2)]),a("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.checkpoint.name}},[a("div",{staticClass:"checkpoint"},[a("t-field",{staticClass:"checkpoint__item",attrs:{inline:"",label:"Функция"}},[a("t-select-new",{attrs:{list:t.func,small:"",update:"",name:"metric_name",parse:"architecture[parameters][checkpoint][metric_name]",value:t.getValue},on:{parse:t.parse}})],1),t._l(t.checkpoint.fields,(function(e,i){return[a("t-auto-field-trainings",t._b({key:"outputs_"+i,staticClass:"checkpoint__item",attrs:{state:t.state,inline:!0},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)])],1)],1)])],1),a("div",{staticClass:"params__footer"},t._l(t.button,(function(e,i){var s=e.title,n=e.visible;return a("div",{key:i,staticClass:"params__btn"},[a("t-button",{attrs:{disabled:!n},on:{click:function(e){return t.btnEvent(i)}}},[t._v(t._s(s))])],1)})),0)])},He=[],Ye=a("eb4c"),Ze=(a("4d63"),a("466d"),/(\[[^\[\]]*\])/g);function qe(t){var e=[],a=/^([^\[\]]*)/,i=new RegExp(Ze),s=a.exec(t);s[1]&&e.push(s[1]);while(null!==(s=i.exec(t)))e.push(s[1]);return e}function Qe(t,e,a){if(0===e.length)return t=a,t;var i=e.shift(),s=i.match(/^\[(.+?)\]$/);if("[]"===i)return t=t||[],Array.isArray(t)?t.push(Qe(null,e,a)):(t._values=t._values||[],t._values.push(Qe(null,e,a))),t;if(s){var n=s[1],r=+n;isNaN(r)?(t=t||{},t[n]=Qe(t[n],e,a)):(t=t||[],t[r]=Qe(t[r],e,a))}else t[i]=Qe(t[i],e,a);return t}function ta(t,e,a){var i=e.match(Ze);if(i){var s=qe(e);Qe(t,s,a)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(a)):t[e]=a}return t}var ea=ta,aa={name:"params-traning",components:{},data:function(){return{obj:{},collapse:[0,1,2,3,4],optimizerValue:"",metricData:"",learningStop:!1,status:"",debounce:null}},computed:Object(l["a"])(Object(l["a"])({},Object(o["b"])({params:"trainings/getParams",button:"trainings/getButtons"})),{},{getValue:function(){var t,e;return null!==(t=null===(e=this.state)||void 0===e?void 0:e["architecture[parameters][checkpoint][metric_name]"])&&void 0!==t?t:"Accuracy"},state:{set:function(t){this.$store.dispatch("trainings/setStateParams",t)},get:function(){return this.$store.getters["trainings/getStateParams"]}},main:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.main)||{}},fit:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.fit)||{}},outputs:function(){var t,e;return console.log((null===(t=this.params)||void 0===t?void 0:t.outputs)||{}),(null===(e=this.params)||void 0===e?void 0:e.outputs)||{}},optimizerFields:function(){var t,e,a;return(null===(t=this.params)||void 0===t||null===(e=t.optimizer)||void 0===e||null===(a=e.fields)||void 0===a?void 0:a[this.optimizerValue])||[]},optimizer:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.optimizer)||{}},checkpoint:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.checkpoint)||{}},func:function(){var t,e,a,i,s,n=(null===(t=this.obj)||void 0===t||null===(e=t.architecture)||void 0===e||null===(a=e.parameters)||void 0===a?void 0:a.outputs)||[];return n=(null===(i=n)||void 0===i||null===(s=i[this.metricData])||void 0===s?void 0:s.metrics)||[],n=n.map((function(t){return{label:t,value:t}})),n}}),methods:{btnEvent:function(t){"train"===t&&this.start(),"stop"===t&&this.stop(),"clear"===t&&this.clear(),"save"===t&&this.save()},click:function(t){console.log(t)},start:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(t.obj,null,2)),e.next=3,t.$store.dispatch("trainings/start",t.obj);case 3:a=e.sent,a&&(i=a.data,i.status&&(t.learningStop=!1,t.progress()));case 5:case"end":return e.stop()}}),e)})))()},stop:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.learningStop=!0,e.next=3,t.$store.dispatch("trainings/stop",{});case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)})))()},clear:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/clear",{});case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/save",{});case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))()},progress:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,i,s,n,r,l,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/progress",{});case 2:a=e.sent,a&&(i=a.data,s=i.finished,n=i.message,r=i.percent,l=i.data,t.$store.dispatch("messages/setProgressMessage",n),t.$store.dispatch("messages/setProgress",r),l&&(o=l.info,c=l.states,u=l.train_data,d=l.train_usage,t.$store.dispatch("trainings/setInfo",o),t.$store.dispatch("trainings/setStates",c),t.$store.dispatch("trainings/setTrainData",u),t.$store.dispatch("trainings/setTrainUsage",d)),s||t.debounce(t.learningStop));case 4:case"end":return e.stop()}}),e)})))()},parse:function(t){var e=t.parse,a=t.value,i=t.name;this.state=Object(Ce["a"])({},"".concat(e),a),ea(this.obj,e,a),this.obj=Object(l["a"])({},this.obj),"architecture_parameters_checkpoint_layer"===i&&(this.metricData=a),"optimizer"===i&&(this.optimizerValue=a)}},created:function(){var t=this;this.debounce=Object(Ye["a"])((function(e){e||t.progress()}),1e3)}},ia=aa,sa=(a("d007"),Object(d["a"])(ia,Xe,He,!1,null,"6ea280fa",null)),na=sa.exports,ra={name:"Training",components:{Toolbar:p,Graphics:We,Params:na},data:function(){return{collabse:[]}},methods:{},created:function(){}},la=ra,oa=(a("0ae7"),Object(d["a"])(la,i,s,!1,null,"dcc032b4",null));e["default"]=oa.exports},bbf3:function(t,e,a){var i={"./sound1.mp3":"2980"};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="bbf3"},be57:function(t,e,a){"use strict";a("7e1a")},ca4e:function(t,e,a){"use strict";a("8f5e")},d007:function(t,e,a){"use strict";a("3318")},d517:function(t,e,a){},d8ed:function(t,e,a){"use strict";a("3bb3")},e2c5:function(t,e,a){},e7ab:function(t,e,a){},eb4c:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var i=function(t,e,a){var i;return function(){var s=this,n=arguments,r=function(){i=null,a||t.apply(s,n)},l=a&&!i;clearTimeout(i),i=setTimeout(r,e),l&&t.apply(s,n)}}},eb67:function(t,e,a){"use strict";a("eef2")},eca8:function(t,e,a){},eef2:function(t,e,a){},ef70:function(t,e,a){},f392:function(t,e,a){},f7f8:function(t,e,a){"use strict";a("6ef8")}}]);