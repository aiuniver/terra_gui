(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bdfd9cf"],{"0248":function(t,e,i){"use strict";i("1401")},"0ae7":function(t,e,i){"use strict";i("eca8")},"0b81":function(t,e,i){},1307:function(t,e,i){},1401:function(t,e,i){},"18bb":function(t,e,i){"use strict";i("0b81")},"3aa9":function(t,e,i){},"40f2":function(t,e,i){"use strict";i("5b92")},4113:function(t,e,i){"use strict";i("d2e0")},"42f4":function(t,e,i){"use strict";i("a126")},"45ac":function(t,e,i){},"49ff":function(t,e,i){},"4ea9":function(t,e,i){"use strict";i("b99e")},5123:function(t,e,i){"use strict";i("97c4")},"594b":function(t,e,i){"use strict";i("8608")},"5b92":function(t,e,i){},"60fd":function(t,e,i){"use strict";i("e807")},7066:function(t,e,i){"use strict";i("1307")},8053:function(t,e,i){"use strict";i("e635")},8608:function(t,e,i){},"8ae2":function(t,e,i){"use strict";i("aba2")},"97c4":function(t,e,i){},a126:function(t,e,i){},aba2:function(t,e,i){},b37f:function(t,e,i){"use strict";i("3aa9")},b707:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"page-training"},[i("div",{staticClass:"cont"},[i("Toolbar",{attrs:{collabse:t.collabse}}),i("Graphics",{on:{collabse:function(e){t.collabse=e}}}),i("Params")],1)])},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolbar"},[i("ul",{staticClass:"toolbar__menu"},t._l(t.items,(function(e,s){var a=e.title,n=e.disabled,r=e.icon;return i("li",{key:"items_"+s,class:["toolbar__menu--item"],attrs:{disabled:n},on:{click:function(e){return t.click(s)}}},[i("i",{class:["t-icon",r,{active:t.collapse.includes(s.toString())}],attrs:{title:a}})])})),0)])},r=[],o=i("5530"),c=(i("d3b7"),i("25f0"),i("caad"),i("2532"),i("4de4"),i("2f62")),l={name:"Toolbar",data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({items:"trainings/getToolbar"})),{},{collapse:{set:function(t){this.$store.dispatch("trainings/setСollapse",t)},get:function(){return this.$store.getters["trainings/getСollapse"]}}}),created:function(){console.log(this.$store.getters["trainings/getСollapse"])},methods:{click:function(t){var e=t.toString();this.collapse.includes(e)?this.collapse=this.collapse.filter((function(t){return t!==e})):this.collapse.push(e)}}},u=l,d=(i("7066"),i("2877")),p=Object(d["a"])(u,n,r,!1,null,"66d45b19",null),h=p.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board"},[i("scrollbar",{attrs:{ops:{scrollPanel:{scrollingX:!1}}}},[i("div",{staticClass:"wrapper"},[i("at-collapse",{staticClass:"mt-3",attrs:{value:t.collapse},on:{"on-change":t.change}},[i("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Прогресс обучения",center:""}},[i("Progress",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Метрики",center:""}},[i("Graphs",{attrs:{metric:"metric_graphs",outputs:t.outputs,interactive:t.interactive}})],1),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Лоссы",center:""}},[i("Graphs",{attrs:{metric:"loss_graphs",outputs:t.outputs,interactive:t.interactive}})],1),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Промежуточные результаты",center:""}},[i("Prediction",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Таблица прогресса обучения",center:""}},[i("Texts",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:"Статистические данные",center:""}},[i("Stats",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1),i("at-collapse-item",{staticClass:"mt-3",staticStyle:{position:"relative"},attrs:{title:"Баланс данных",center:""}},[i("Balance",{attrs:{outputs:t.outputs,interactive:t.interactive}})],1)],1)],1)])],1)},m=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-texts"},[i("div",{staticClass:"t-texts__header"},t._l(t.layers,(function(e,s){return i("div",{key:"layer_"+s,staticClass:"t-texts__block"},[i("p",[t._v(t._s(e))]),i("t-field",{attrs:{inline:"",label:"loss"}},[i("t-checkbox-new",{attrs:{value:!0,name:"loss"},on:{change:function(i){return t.change(e,i)}}})],1),i("t-field",{attrs:{inline:"",label:"metrics"}},[i("t-checkbox-new",{attrs:{value:!0,name:"metrics"},on:{change:function(i){return t.change(e,i)}}})],1)],1)})),0),i("div",{staticClass:"t-texts__content"},[i("Table",{attrs:{data:t.data,settings:t.settings}})],1),t.isData?t._e():i("div",{staticClass:"t-progress__overlay"},[t.isLearning?i("LoadSpiner",{attrs:{text:"Загрузка данных..."}}):t._e()],1)])},v=[],g=(i("07ac"),i("b0c0"),i("159b"),i("1636")),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-table"},[i("scrollbar",{attrs:{ops:t.ops}},[t.isTable?i("table",[i("thead",[i("tr",{staticClass:"outputs_heads"},[i("th",{attrs:{rowspan:"2"}},[t._v("Эпоха")]),i("th",{attrs:{rowspan:"2"}},[t._v(" Время "),i("br"),t._v(" (сек.) ")]),t._l(t.outputs,(function(e,s){return[i("th",{directives:[{name:"show",rawName:"v-show",value:t.isShow(s),expression:"isShow(key)"}],key:s,attrs:{colspan:"100%"}},[t._v(" "+t._s(s)+" ")])]}))],2),i("tr",{staticClass:"callbacks_heads"},[t._l(t.outputs,(function(e,s){return[t._l(e,(function(e,a){return[t._l(e,(function(e,n){return[i("th",{directives:[{name:"show",rawName:"v-show",value:t.isShow(s,a),expression:"isShow(keyO, keyI)"}],key:a+n+s},[t._v(t._s(n))])]}))]}))]}))],2)]),i("tbody",t._l(t.data,(function(e,s,a){var n=e.time,r=e.data;return i("tr",{key:"epoch_"+a},[i("td",{staticClass:"epoch_num"},[t._v(t._s(s))]),i("td",[t._v(t._s(t._f("ceil")(n)))]),t._l(r,(function(e,s){return[t._l(e,(function(e,a){return[t._l(e,(function(e,n){return[i("td",{directives:[{name:"show",rawName:"v-show",value:t.isShow(s,a),expression:"isShow(keyO, keyM)"}],key:s+"t"+a+"r"+n,staticClass:"value"},[i("span",[t._v(t._s(t._f("int")(e)))]),i("i",[t._v(".")]),t._v(t._s(t._f("drob")(e)))])]}))]}))]}))],2)})),0),i("tfoot",[i("tr",[i("th",{attrs:{colspan:"100%"}},[t._v(t._s("summary"))])])])]):t._e()])],1)},y=[],w=(i("fb6a"),i("b680"),{name:"t-table",props:{data:{type:Object,default:function(){}},settings:{type:Object,default:function(){}}},data:function(){return{ops:{scrollPanel:{scrollingX:!0,scrollingY:!1}}}},mounted:function(){console.log(this.settings)},computed:{isTable:function(){var t;return!(null===(t=this.data)||void 0===t||!t[1])},outputs:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(e=t[1])||void 0===e?void 0:e.data)||{}}},filters:{int:function(t){return~~t},ceil:function(t){return Math.ceil(t)},drob:function(t){return(t%1).toFixed(9).slice(2)}},methods:{isShow:function(t,e){var i,s,a,n,r,o,c,l,u;return t&&e?null===(i=null===(s=this.settings)||void 0===s||null===(a=s[t])||void 0===a?void 0:a[e])||void 0===i||i:null===(n=null===(r=this.settings)||void 0===r||null===(o=r[t])||void 0===o?void 0:o.loss)||void 0===n||n||null===(c=null===(l=this.settings)||void 0===l||null===(u=l[t])||void 0===u?void 0:u.metrics)||void 0===c||c}}}),C=w,k=(i("42f4"),Object(d["a"])(C,b,y,!1,null,"26a36432",null)),x=k.exports,O={name:"Texts",components:{Table:x,LoadSpiner:g["a"]},data:function(){return{settings:{},ops:{scrollPanel:{scrollingX:!1,scrollingY:!1}}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},layers:function(){var t,e,i=(null===(t=this.data)||void 0===t||null===(e=t["1"])||void 0===e?void 0:e.data)||{},s=[];for(var a in i)s.push(a);return s},data:function(){return this.$store.getters["trainings/getTrainData"]("progress_table")||{}},isData:function(){return Object.values(this.data).length}}),methods:{change:function(t,e){var i=e.name,s=e.value;this.settings[t]||(this.settings[t]={}),this.settings[t][i]=s,this.settings=Object(o["a"])({},this.settings),console.log(this.settings)}},created:function(){var t=this;this.layers.forEach((function(e){t.settings[e]={loss:!0,metrics:!0}}))}},j=O,S=(i("5123"),Object(d["a"])(j,f,v,!1,null,"08e59084",null)),T=S.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-progress"},["start"!==t.statusTrain||t.isEmpty?t._e():i("div",{staticClass:"t-progress__overlay"},[i("LoadSpiner",{attrs:{text:"Загрузка данных..."}})],1),i("div",{staticClass:"t-progress__item t-progress__item--timers"},[i("Timers",t._b({},"Timers",t.timings,!1))],1),i("div",{staticClass:"t-progress__item t-progress__item--info"},[i("Sysinfo",t._b({},"Sysinfo",t.usage,!1))],1)])},E=[],P=(i("b64b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-sysinfo"},[i("div",{staticClass:"t-sysinfo__label"},[t._v("Информация об устройстве")]),i("div",{staticClass:"t-sysinfo__grid"},[t.GPU.gpu_utilization?i("div",[i("div",{staticClass:"t-sysinfo__grid--item"},[t._v("GPU")]),i("div",{class:["t-sysinfo__grid--item",t.isWarning(t.GPU.gpu_utilization)]},[i("p",{staticClass:"t-sysinfo__gpu-name"},[t._v(t._s(t.GPU.gpu_name))]),i("p",[t._v(t._s(t.GPU.gpu_utilization+"% ("+t.GPU.gpu_memory_used+" / "+t.GPU.gpu_memory_total+")"))]),i("div",{staticClass:"t-sysinfo__progress-bar"},[i("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.GPU.gpu_utilization+"%"}})])])]):t._e(),t.CPU.cpu_utilization?i("div",[i("div",{staticClass:"t-sysinfo__grid--item"},[t._v("CPU")]),i("div",{class:["t-sysinfo__grid--item",t.isWarning(t.CPU.cpu_utilization)]},[i("p",[t._v(t._s((t.CPU.cpu_utilization||0)+"%"))]),i("div",{staticClass:"t-sysinfo__progress-bar"},[i("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:(t.CPU.cpu_utilization||0)+"%"}})])])]):t._e(),i("div",[i("div",{staticClass:"t-sysinfo__grid--item"},[t._v("RAM")]),i("div",{class:["t-sysinfo__grid--item",t.isWarning(t.RAM.ram_utilization)]},[i("p",[t._v(t._s(t.RAM.ram_utilization+"% ("+t.RAM.ram_memory_used+" / "+t.RAM.ram_memory_total+")"))]),i("div",{staticClass:"t-sysinfo__progress-bar"},[i("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.RAM.ram_utilization+"%"}})])])]),i("div",[i("div",{staticClass:"t-sysinfo__grid-item"},[t._v("Disk")]),i("div",{class:["t-sysinfo__grid-item",t.isWarning(t.Disk.disk_utilization)]},[i("p",[t._v(t._s(t.Disk.disk_utilization+"% ("+t.Disk.disk_memory_used+" / "+t.Disk.disk_memory_total+")")+" ")]),i("div",{staticClass:"t-sysinfo__progress-bar"},[i("div",{staticClass:"t-sysinfo__progress-bar--fill",style:{width:t.Disk.disk_utilization+"%"}})])])])])])}),D=[],z={name:"",props:{Disk:{type:Object,default:function(){return{disk_utilization:0,disk_memory_total:0,disk_memory_used:0}}},GPU:{type:Object,default:function(){return{gpu_utilization:0,gpu_memory_total:0,gpu_memory_used:0}}},CPU:{type:Object,default:function(){return{cpu_utilization:0,cpu_memory_total:0,cpu_memory_used:0}}},RAM:{type:Object,default:function(){return{ram_utilization:0,ram_memory_total:0,ram_memory_used:0}}}},methods:{isEmptyAll:function(){return this.isEmpty(this.Disk)&&(this.isEmpty(this.GPU)||this.isEmpty(this.CPU))&&this.isEmpty(this.RAM)},isEmpty:function(t){return!!t&&0!==Object.keys(t).length},isWarning:function(t){var e=t?+t:0;return e>80?"warning":e>50?"info":""}}},L=z,A=(i("8053"),Object(d["a"])(L,P,D,!1,null,"735fd51a",null)),M=A.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-time"},[i("div",{staticClass:"t-time__train"},[i("div",{staticClass:"t-time__timer-wrapper"},[i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Расчетное время обучения")]),i("div",[t._v(t._s(t.formatTime(t.estimated_time)))])]),i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Прошло времени")]),i("div",[t._v(t._s(t.formatTime(t.elapsed_time)))])]),i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Время до окончания обучения")]),i("div",[t._v(t._s(t.formatTime(t.still_time)))])]),i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Эпоха")]),i("div",[t._v(t._s(t.epoch.current||0))]),i("i",[t._v("/")]),i("div",[t._v(t._s(t.epoch.total||0))])])]),i("div",{staticClass:"t-time__progress-bar"},[i("div",{staticClass:"t-time__progress-bar--fill",style:t.total(t.epoch)})])]),i("div",{staticClass:"t-time__age"},[i("div",{staticClass:"t-time__timer-wrapper"},[i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Среднее время эпохи")]),i("div",[t._v(t._s(t.formatTime(t.avg_epoch_time)))])]),i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Прошло времени на эпоху")]),i("div",[t._v(t._s(t.formatTime(t.elapsed_epoch_time)))])]),i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Время до окончания текущей эпохи")]),i("div",[t._v(t._s(t.formatTime(t.still_epoch_time)))])]),i("div",{staticClass:"t-time__timer"},[i("span",[t._v("Батч")]),i("div",[t._v(t._s(t.batch.current||0))]),i("i",[t._v("/")]),i("div",[t._v(t._s(t.batch.total||0))])])]),i("div",{staticClass:"t-time__progress-bar"},[i("div",{staticClass:"t-time__progress-bar--fill",style:t.total(t.batch)})])])])},G=[],U=(i("a9e3"),i("99af"),{name:"t-train-time",props:{avg_epoch_time:{type:Number,default:0},elapsed_epoch_time:{type:Number,default:0},elapsed_time:{type:Number,default:0},estimated_time:{type:Number,default:0},still_epoch_time:{type:Number,default:0},still_time:{type:Number,default:0},batch:{type:Object,default:function(){return{current:0,total:0}}},epoch:{type:Object,default:function(){return{current:0,total:0}}}},methods:{total:function(t){var e=t.total,i=t.current,s=Math.round(100*i/e);return s=isNaN(s)?0:s,s>100&&(s=100),{width:s+"%"}},formatTime:function(t){return"".concat(Math.floor(t/3600),"h : ").concat(Math.floor(t%3600/60),"m : ").concat(Math.floor(t%3600%60),"s")}}}),N=U,I=(i("18bb"),Object(d["a"])(N,R,G,!1,null,"817e8ac0",null)),B=I.exports,V={name:"t-progress",components:{Sysinfo:M,Timers:B,LoadSpiner:g["a"]},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},isEmpty:function(){return console.log(Object.keys(this.lossGraphs).length),Object.keys(this.lossGraphs).length},lossGraphs:function(){return this.$store.getters["trainings/getTrainUsage"]||{}},usage:function(){var t;return(null===(t=this.lossGraphs)||void 0===t?void 0:t.hard_usage)||{}},timings:function(){var t;return(null===(t=this.lossGraphs)||void 0===t?void 0:t.timings)||{}},statusTrain:function(){return this.$store.getters["trainings/getStatusTrain"]}}),mounted:function(){console.log(this.data)}},F=V,H=(i("c50c"),Object(d["a"])(F,$,E,!1,null,"ab46eb80",null)),J=H.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-scatters"},[i("div",{staticClass:"t-scatters__header"},[i("div",{staticClass:"t-scatters__checks"},[t._l(t.outputLayers,(function(e,s){var a=e.id,n=e.value;return[i("t-field",{key:"check_"+s,attrs:{inline:"",label:"Выходной слой «"+a+"»"}},[i("t-checkbox-new",{attrs:{small:"",value:n},on:{change:function(e){return t.change({id:a,value:e.value})}}})],1)]}))],2),i("t-field",{attrs:{inline:"",label:"Автообновление"}},[i("t-checkbox-new",{attrs:{small:""},on:{change:t.send},model:{value:t.settings.autoupdate,callback:function(e){t.$set(t.settings,"autoupdate",e)},expression:"settings.autoupdate"}})],1)],1),i("div",{staticClass:"t-scatters__content"},[t._l(t.statisticData,(function(e,s){return[t._l(e,(function(e,a){return[t.ids.includes(+s)?i(t.type[e.type],t._b({key:""+(e.type+a+s),tag:"component"},"component",e,!1)):t._e()]}))]})),t.isLearning&&t.ids.length&&!Object.keys(t.statisticData).length?i("LoadSpiner",{staticClass:"overlay",attrs:{text:"Загрузка данных..."}}):t._e()],2)])},X=[],Y=i("1da1"),K=i("2909"),q=(i("96cf"),i("3ca3"),i("ddb0"),i("d81d"),{name:"t-scatters",components:{Heatmap:function(){return i.e("chunk-c3ffc072").then(i.bind(null,"f2ca"))},Scatter:function(){return i.e("chunk-7a1dd236").then(i.bind(null,"c39f"))},Histogram:function(){return i.e("chunk-0fcb7d82").then(i.bind(null,"c2c8"))},Table:function(){return i.e("chunk-169f99b2").then(i.bind(null,"4d84"))},Graphic:function(){return i.e("chunk-44b2a326").then(i.bind(null,"1dc7"))},LoadSpiner:g["a"]},props:{outputs:Array},data:function(){return{type:{heatmap:"heatmap","correlation heatmap":"CorrelationHeatmap",scatter:"scatter","distribution histogram":"histogram",histogram:"histogram",table:"table",graphic:"graphic"}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},settings:{set:function(t){this.$store.dispatch("trainings/setObjectInteractive",{statistic_data:t})},get:function(){return this.$store.getters["trainings/getObjectInteractive"]("statistic_data")}},statisticData:function(){return this.$store.getters["trainings/getTrainData"]("statistic_data")||{}},outputLayers:function(){var t=this;return this.outputs.map((function(e){return{id:e.id,value:t.ids.includes(e.id)}}))},ids:function(){return JSON.parse(JSON.stringify(this.settings.output_id||[]))}}),methods:{change:function(t){var e=t.id,i=t.value;this.settings.output_id=i?[].concat(Object(K["a"])(this.ids),[e]):Object(K["a"])(this.ids.filter((function(t){return t!==e}))),this.send()},send:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/interactive",{});case 2:case"end":return e.stop()}}),e)})))()}}}),Q=q,Z=(i("40f2"),Object(d["a"])(Q,W,X,!1,null,"301d9942",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-balance"},[i("div",{staticClass:"t-balance__header"},[i("div",{staticClass:"t-balance__wrapper"},[i("div",{staticClass:"t-balance__checks"},[i("t-field",{attrs:{inline:"",label:"Показать тренировочную выборку"}},[i("t-checkbox-new",{attrs:{name:"show_train"},on:{change:t.change},model:{value:t.settings.show_train,callback:function(e){t.$set(t.settings,"show_train",e)},expression:"settings.show_train"}})],1),i("t-field",{attrs:{inline:"",label:"Показать проверочную выборку"}},[i("t-checkbox-new",{attrs:{name:"show_val"},on:{change:t.change},model:{value:t.settings.show_val,callback:function(e){t.$set(t.settings,"show_val",e)},expression:"settings.show_val"}})],1)],1),i("t-field",{attrs:{inline:"",label:"Сортировать"}},[i("t-select-new",{attrs:{small:"",list:t.sortOps},on:{input:t.select},model:{value:t.settings.sorted,callback:function(e){t.$set(t.settings,"sorted",e)},expression:"settings.sorted"}})],1)],1)]),(t.settings.show_train||t.settings.show_val)&&Object.keys(t.dataDalance).length>0?i("div",{staticClass:"t-balance__graphs"},[t._l(t.dataDalance,(function(e,s){return[t._l(t.filter(e),(function(e,a){return[i(t.type[e.type],t._b({key:"sdsdsa_"+(a+s),tag:"component"},"component",e,!1))]}))]}))],2):t._e(),i("div",{staticClass:"t-balance__overlay"},[t.isLearning&&0===Object.keys(t.dataDalance).length?i("LoadSpiner",{attrs:{text:"Загрузка данных..."}}):t._e()],1)])},it=[],st={name:"t-balance",components:{Heatmap:function(){return i.e("chunk-c3ffc072").then(i.bind(null,"f2ca"))},CorrelationHeatmap:function(){return i.e("chunk-50eb0912").then(i.bind(null,"33c8"))},Scatter:function(){return i.e("chunk-7a1dd236").then(i.bind(null,"c39f"))},Histogram:function(){return i.e("chunk-0fcb7d82").then(i.bind(null,"c2c8"))},Table:function(){return i.e("chunk-169f99b2").then(i.bind(null,"4d84"))},Graphic:function(){return i.e("chunk-44b2a326").then(i.bind(null,"1dc7"))},LoadSpiner:g["a"]},data:function(){return{selected:[],sortOps:[{label:"по имени",value:"alphabetic"},{label:"по увеличению",value:"ascending"},{label:"по убыванию",value:"descending"}],type:{heatmap:"heatmap","correlation heatmap":"CorrelationHeatmap",scatter:"scatter","distribution histogram":"histogram",histogram:"histogram",table:"table",graphic:"graphic"}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},dataDalance:function(){return this.$store.getters["trainings/getTrainData"]("data_balance")||[]},settings:{set:function(t){this.$store.dispatch("trainings/setObjectInteractive",{data_balance:t})},get:function(){return this.$store.getters["trainings/getObjectInteractive"]("data_balance")}}}),methods:{filter:function(t){var e=[];return this.settings.show_train&&e.push("train"),this.settings.show_val&&e.push("val"),t.filter((function(t){return e.includes(t.type_data)}))},change:function(){this.handleClick()},handleClick:function(){return Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},select:function(t){var e=this;return Object(Y["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(t),i.next=3,e.$store.dispatch("trainings/interactive",{data_balance:{sorted:t,show_val:e.settings.show_val,show_train:e.settings.show_train}});case 3:case"end":return i.stop()}}),i)})))()}}},at=st,nt=(i("dcc7"),Object(d["a"])(at,et,it,!1,null,"0b26e0ba",null)),rt=nt.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"predictions"},[i("div",{staticClass:"predictions__params"},[i("div",{staticClass:"predictions__param"},[i("t-field",{attrs:{inline:"",label:"Данные для расчета"}},[i("t-select-new",{attrs:{list:t.sortData,small:""},model:{value:t.example_choice_type,callback:function(e){t.example_choice_type=e},expression:"example_choice_type"}})],1),i("t-field",{attrs:{inline:"",label:"Тип выбора данных"}},[i("t-select-new",{attrs:{list:t.sortOutput,small:""},model:{value:t.main_output,callback:function(e){t.main_output=e},expression:"main_output"}})],1),i("t-field",{attrs:{inline:"",label:"Показать примеров"}},[i("t-input-new",{staticStyle:{width:"109px"},attrs:{type:"number",small:"",error:t.isError},model:{value:t.num_examples,callback:function(e){t.num_examples=t._n(e)},expression:"num_examples"}})],1)],1),i("div",{staticClass:"predictions__param"},[i("t-field",{attrs:{inline:"",label:"Выводить промежуточные результаты"}},[i("t-checkbox-new",{attrs:{small:""},model:{value:t.show_results,callback:function(e){t.show_results=e},expression:"show_results"}})],1),i("t-field",{attrs:{inline:"",label:"Показать статистику"}},[i("t-checkbox-new",{attrs:{small:""},model:{value:t.show_statistic,callback:function(e){t.show_statistic=e},expression:"show_statistic"}})],1)],1),i("div",{staticClass:"predictions__param"},[i("t-field",{attrs:{inline:"",label:"Автообновление"}},[i("t-checkbox-new",{attrs:{small:""},model:{value:t.autoupdate,callback:function(e){t.autoupdate=e},expression:"autoupdate"}})],1)],1),i("div",{staticClass:"predictions__param"},[i("t-button",{staticStyle:{width:"150px"},attrs:{disabled:!!t.isError},nativeOn:{click:function(e){return t.show.apply(null,arguments)}}},[t._v(" "+t._s(t.update?"Обновить":"Показать")+" ")])],1)]),i("div",{staticClass:"predictions__body"},[t.isEmpty?i("PredictTable",{attrs:{predict:t.predictData}}):i("div",{staticClass:"predictions__overlay"},[t.start&&t.isLearning?i("LoadSpiner",{attrs:{text:"Загрузка данных..."}}):t._e()],1)],1)])},ct=[],lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-table"},[i("scrollbar",[i("table",[i("thead",{staticClass:"t-table__header"},[i("tr",[i("th",{staticClass:"t-table__header--index",attrs:{rowspan:"3"}},[t._v("Слой")]),i("th",[t._v("Исходные данные")]),i("th",[t._v("Истинное значение")]),i("th",[t._v("Предсказание")]),i("th",{attrs:{colspan:t.colspan}},[t._v("Статистика примеров")])]),t._l(t.predict,(function(e,s){var a=e.initial_data,n=e.true_value,r=e.predict_value,o=e.statistic_values;return["1"===s?[i("tr",{key:"tr_"+s},[t._l(a,(function(e,s){return[i("th",{key:"th_"+s},[t._v(t._s(s))])]})),t._l(n,(function(e,s){return[i("th",{key:"th_"+s},[t._v(t._s(s))])]})),t._l(r,(function(e,s){return[i("th",{key:"th_"+s},[t._v(t._s(s))])]})),t._l(o,(function(e,s){return[i("th",{key:"th_"+s,attrs:{colspan:t.colspan}},[t._v(t._s(s))])]}))],2),i("tr",{key:"tr_"+s},[t._l(a,(function(e){return[t._l(e.data,(function(e,s){return[i("th",{key:"th"+s},[t._v(t._s(e.title))])]}))]})),t._l(n,(function(e){return[t._l(e.data,(function(e,s){return[i("th",{key:"th"+s},[t._v(t._s(e.title))])]}))]})),t._l(r,(function(e){return[t._l(e.data,(function(e,s){return[i("th",{key:"th"+s},[t._v(t._s(e.title))])]}))]})),t._l(o,(function(e){return[t._l(e.data,(function(e,s){return[i("th",{key:"th"+s,staticClass:"t-table__header--static"},[t._v(t._s(e.title))])]}))]}))],2)]:t._e()]}))],2),i("tbody",{staticClass:"t-table__body"},[t._l(t.predict,(function(e,s){var a=e.initial_data,n=e.true_value,r=e.predict_value,o=e.statistic_values,c=e.tags_color;return[i("tr",{key:"rows_"+s},[i("td",[t._v(" "+t._s(s)+" ")]),t._l(a,(function(e,s){var a=e.type,n=e.data,r=e.update;return[t._l(n,(function(t,e){return[i("td",{key:"initial_layer_"+e},[i("Forms",{attrs:{data:t,tags_color:c,layer:s,update:r,type:a}})],1)]}))]})),t._l(n,(function(e,s){var a=e.type,n=e.data;return[t._l(n,(function(t,e){return[i("td",{key:"true_layer_"+e},[i("Forms",{attrs:{data:t,tags_color:c,layer:s,type:a}})],1)]}))]})),t._l(r,(function(e,s){var a=e.type,n=e.data;return[t._l(n,(function(t,e){return[i("td",{key:"predict_layer_"+e},[i("Forms",{attrs:{data:t,tags_color:c,layer:s,type:a}})],1)]}))]})),t._l(o,(function(e){var s=e.type,a=e.data;return[t._l(a,(function(t,e){return[i("td",{key:"statistic_layer_"+e},[i("Forms",{attrs:{data:t,type:s}})],1)]}))]}))],2)]}))],2)])])],1)},ut=[],dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["image"===t.type?i("TableImage",t._b({},"TableImage",t.obj,!1)):t._e(),"str"===t.type||"number"===t.type?i("TableStr",t._b({},"TableStr",t.obj,!1)):t._e(),"text"===t.type?i("TableText",t._b({},"TableText",t.obj,!1)):t._e(),"segmented_text"===t.type?i("TableTextSegmented",t._b({},"TableTextSegmented",t.obj,!1)):t._e(),"video"===t.type?i("TableVideo",t._b({},"TableVideo",t.obj,!1)):t._e(),"audio"===t.type?i("TableAudio",t._b({},"TableAudio",t.obj,!1)):t._e()],1)},pt=[],ht={name:"t-forms-prediction",components:{TableImage:function(){return i.e("chunk-e8e9c07a").then(i.bind(null,"c5f0"))},TableAudio:function(){return i.e("chunk-2c6e219e").then(i.bind(null,"b85a"))},TableText:function(){return i.e("chunk-999455d6").then(i.bind(null,"f9c5"))},TableStr:function(){return i.e("chunk-290f0d0a").then(i.bind(null,"9143"))},TableTextSegmented:function(){return i.e("chunk-1cc800cc").then(i.bind(null,"1039"))},TableVideo:function(){return i.e("chunk-4eec8d1f").then(i.bind(null,"8a12"))}},props:{type:{type:String,default:""},data:{type:Object,default:function(){}},tags_color:{type:Object,default:function(){}},layer:{type:String,default:""},update:{type:String,default:""}},computed:{obj:function(){return Object(o["a"])(Object(o["a"])({},this.data),{},{update:this.update,tags_color:this.tags_color,layer:this.layer})}}},_t=ht,mt=Object(d["a"])(_t,dt,pt,!1,null,"301a40db",null),ft=mt.exports,vt={name:"TextTableTest",components:{Forms:ft},props:{show:Boolean,predict:{type:Object,default:function(){return{}}}},data:function(){return{ops:{bar:{background:"#17212b"},scrollPanel:{scrollingX:!1,scrollingY:!0}}}},computed:{colspan:function(){return Object.keys(this.predict[1].statistic_values[Object.keys(this.predict[1].statistic_values)[0]].data).length}}},gt=vt,bt=(i("594b"),Object(d["a"])(gt,lt,ut,!1,null,"cd2218cc",null)),yt=bt.exports,wt={name:"Predictions",components:{PredictTable:yt,LoadSpiner:g["a"]},props:{outputs:Array,interactive:Object},data:function(){return{start:!1,sortData:[{label:"Best",value:"best"},{label:"Worst",value:"worst"},{label:"Seed",value:"seed"},{label:"Random",value:"random"}],autoupdate:!1,example_choice_type:"seed",main_output:2,num_examples:10,show_results:!0,show_statistic:!0,max:10}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},isEmpty:function(){return Object.keys(this.predictData).length},sortOutput:function(){return this.outputs.map((function(t){return{label:"Выходной слой ".concat(t.id),value:t.id}}))},update:function(){for(var t in this.settings)if(this[t]!==this.settings[t])return!0;return!1},isError:function(){var t=this.num_examples;return""===t?"Поле не может быть пустым":t>10?"Не больше 10 примеров":t<1?"Не меньше 1 примера":""},settings:function(){return this.$store.getters["trainings/getObjectInteractive"]("intermediate_result")},predictData:function(){return this.$store.getters["trainings/getTrainData"]("intermediate_result")||{}},statusTrain:function(){return this.$store.getters["trainings/getStatusTrain"]}}),methods:{show:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.start=t.settings.show_results,i={autoupdate:t.autoupdate,example_choice_type:t.example_choice_type,main_output:t.main_output,num_examples:t.num_examples>10?10:t.num_examples,show_results:t.show_results,show_statistic:t.show_statistic},e.next=4,t.$store.dispatch("trainings/interactive",{intermediate_result:i});case 4:case"end":return e.stop()}}),e)})))()}},created:function(){for(var t in this.settings)this[t]=this.settings[t];this.start=this.settings.show_results&&this.autoupdate}},Ct=wt,kt=(i("c829"),Object(d["a"])(Ct,ot,ct,!1,null,"47b4c6ba",null)),xt=kt.exports,Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-charts"},[i("div",{staticClass:"t-charts__content"},[i("TCharTemp",{staticClass:"t-chart",nativeOn:{click:function(e){return t.add.apply(null,arguments)}}}),t._l(t.charts,(function(e,s){return i("TChar",t._b({key:"char1_"+s,staticClass:"t-chart",attrs:{settings:e,menus:t.menus,start:t.isLearning},on:{event:function(i){return t.event(i,e)}}},"TChar",t.getChart(e),!1))}))],2)])},jt=[],St=i("ade3"),Tt=(i("7db0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-char",style:t.order},[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outside,expression:"outside"}],staticClass:"t-char__header"},[i("div",{staticClass:"t-char__header--roll"},[i("i",{class:["t-icon","icon-training-roll-down"],attrs:{title:"roll down"},on:{click:t.show}})]),i("div",{staticClass:"t-char__header--title"},[t._v(t._s(t.graph_name))]),t.progress_state?i("div",{class:["t-char__header--condition",t.progress_state]},[i("span",[t._v(t._s(t.progress_state))]),i("div",{staticClass:"indicator"})]):t._e(),i("div",{staticClass:"t-char__header--additionally"},[i("i",{class:["t-icon","icon-training-additionally"],attrs:{title:"roll down"},on:{click:function(e){t.popMenuShow=!t.popMenuShow}}}),t.popMenuShow?i("PopUpMenu",{attrs:{settings:t.settings,menus:t.menus,show:t.graphicShow},on:{event:t.event}}):t._e()],1)]),t.graphicShow?i("div",{staticClass:"t-char__main"},[i("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}}),t.data.length?t._e():i("div",{staticClass:"t-char__empty"},[t.start?i("LoadSpiner",{attrs:{text:"Загрузка данных..."}}):t._e()],1)],1):t._e(),i("div")])}),$t=[],Et=i("04d11"),Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"menu"},[i("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"add"})}}},[t._v("Добавить график")]),i("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"copy"})}}},[t._v("Копировать график")]),i("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"hide"})}}},[t._v(" "+t._s(t.show?"Свернуть":"Развернуть")+" график ")]),i("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"general",data:"remove"})}}},[t._v("Удалить график")]),i("li",{staticClass:"menu__dropdown"},[i("i",{class:["t-icon","icon-training-dropdown"]}),i("span",[t._v("Показывать данные")]),i("ul",{staticClass:"menu"},[i("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"data",data:"model"})}}},[t._v("По всей модели")]),t.isClass?i("li",{staticClass:"menu__item",on:{click:function(e){return t.$emit("event",{name:"data",data:"classes"})}}},[t._v("По классам")]):t._e()])]),"loss_graphs"!==t.type?i("li",{staticClass:"menu__dropdown"},[i("i",{class:["t-icon","icon-training-dropdown"]}),i("span",[t._v("Показывать метрики")]),i("ul",{staticClass:"menu"},[t._l(t.metrics,(function(e,s){return[i("li",{key:"metrics"+s,staticClass:"menu__item",on:{click:function(i){return t.$emit("event",{name:"metric",data:e})}}},[t._v(" "+t._s(e)+" ")])]}))],2)]):t._e(),i("li",{staticClass:"menu__dropdown"},[i("i",{class:["t-icon","icon-training-dropdown"]}),i("span",[t._v("Показывать выход")]),i("ul",{staticClass:"menu"},[t._l(t.exits,(function(e,s){return[i("li",{key:"output"+s,staticClass:"menu__item",on:{click:function(i){return t.$emit("event",{name:"chart",data:e})}}},[t._v(" Выход "+t._s(e)+" ")])]}))],2)])])},Dt=[],zt={name:"PopUpMenu",props:{menus:{type:Object,default:function(){}},settings:{type:Object,default:function(){}},show:Boolean},computed:{show_metric:function(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.show_metric)||""},id:function(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.output_idx)||0},isClass:function(){var t,e=(null===(t=this.menus)||void 0===t?void 0:t.isClass)||{};return e[this.id]},type:function(){var t;return(null===(t=this.menus)||void 0===t?void 0:t.type)||""},outputs:function(){var t;return(null===(t=this.menus)||void 0===t?void 0:t.outputs)||[]},exits:function(){return this.outputs.map((function(t){return t.id}))},metrics:function(){var t,e=this,i=(null===(t=this.outputs.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.metrics)||[];return i}}},Lt=zt,At=(i("4ea9"),Object(d["a"])(Lt,Pt,Dt,!1,null,"1bb7d052",null)),Mt=At.exports,Rt={name:"t-char",props:{id:Number,progress_state:{type:String,default:""},graph_name:{type:String,default:""},x_label:{type:String,default:""},y_label:{type:String,default:""},plot_data:{type:Array,default:function(){return[]}},type:{type:String,default:"lines"},settings:{type:Object,default:function(){}},menus:{type:Object,default:function(){}},start:Boolean},components:{Plotly:Et["Plotly"],PopUpMenu:Mt,LoadSpiner:g["a"]},data:function(){return{graphicShow:!0,popMenuShow:!1,defLayout:{autosize:!0,margin:{l:50,r:20,t:10,b:35,pad:0,autoexpand:!0},font:{color:"#A7BED3"},showlegend:!0,legend:{y:-.2,itemsizing:"constant",orientation:"h",font:{family:"Open Sans",color:"#A7BED3"}},paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:""},xaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1},yaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1}}}},computed:{order:function(){return{order:this.graphicShow?this.settings.id:998}},layout:function(){var t=this.defLayout;return this.plot_data&&(t.xaxis.title=this.x_label,t.yaxis.title=this.y_label),t},data:function(){var t=this;return this.plot_data.map((function(e){var i=e.x,s=e.y,a=e.mode,n=void 0===a?t.type:a,r=e.label;return{x:i,y:s,mode:n,name:r}}))}},mounted:function(){},methods:{event:function(t){var e=t.name,i=t.data;"hide"===i&&this.show(),this.$emit("event",{name:e,data:i}),this.popMenuShow=!1},show:function(){this.graphicShow&&(this.popMenuShow=!1),this.graphicShow=!this.graphicShow},outside:function(){console.log("sdsdsd"),this.popMenuShow=!1}}},Gt=Rt,Ut=(i("4113"),Object(d["a"])(Gt,Tt,$t,!1,null,"deb55a96",null)),Nt=Ut.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-char-temp"},[t._m(0),i("div",{staticClass:"t-char-temp__header"}),t.graphicShow?i("div",{staticClass:"t-char-temp__main"},[i("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}})],1):t._e()])},Bt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-char-temp__overflow"},[i("i",{staticClass:"t-icon icon-add-chart"}),t._v(" Добавить график ")])}],Vt={name:"t-char-temp",components:{Plotly:Et["Plotly"]},data:function(){return{dataList:["loss","Metrics"],metrics:["Accuracy","CategoricalHinge","KLDivergence"],char:{graph_name:"График",x_label:"Эпоха",y_label:"Значение",plot_data:[],progress_state:"underfitting"},graphicShow:!0,popMenuShow:!1,defLayout:{autosize:!0,margin:{l:50,r:20,t:10,b:35,pad:0,autoexpand:!0},font:{color:"#A7BED3"},showlegend:!0,legend:{y:-.2,itemsizing:"constant",orientation:"h",font:{family:"Open Sans",color:"#A7BED3"}},paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:""},xaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1},yaxis:{title:"",showgrid:!0,zeroline:!1,linecolor:"#A7BED3",gridcolor:"#0E1621",gridwidth:1}}}},computed:{layout:function(){var t=this.defLayout;return this.char,t},data:function(){var t=this.char.plot_data||[],e=t.map((function(t){var e=t.epochs,i=t.values,s=t.mode,a=void 0===s?"lines":s,n=t.label;return{x:e,y:i,mode:a,name:n}}));return e}},methods:{handleMenu:function(t){console.log(t),this.popMenuShow=!1}},mounted:function(){console.log(this.char)}},Ft=Vt,Ht=(i("8ae2"),Object(d["a"])(Ft,It,Bt,!1,null,"0b30caa8",null)),Jt=Ht.exports,Wt={name:"t-graphs",components:{TChar:Nt,TCharTemp:Jt},props:{metric:String,outputs:Array,interactive:Object},data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({chars:"trainings/getChars",status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},menus:function(){return{isClass:this.classGraphics,outputs:this.allOutputs,type:this.metric}},allOutputs:function(){var t,e,i=this.$store.getters["trainings/getTrainSettings"],s=(null===i||void 0===i||null===(t=i.architecture)||void 0===t||null===(e=t.parameters)||void 0===e?void 0:e.outputs)||[];return s.map((function(t,e){return t?Object(o["a"])({id:e},t):null})).filter((function(t){return t}))},classGraphics:function(){return this.$store.getters["trainings/getTrainData"]("class_graphics")},charts:{set:function(t){console.log(t),this.$store.dispatch("trainings/setObjectInteractive",Object(St["a"])({},this.metric,t))},get:function(){return this.$store.getters["trainings/getArrayInteractive"](this.metric)}},data:function(){return this.$store.getters["trainings/getTrainData"](this.metric)||[]},outputIdx:function(){return this.outputs.find((function(t){return t.id})).id},metrics:function(){var t,e;return null!==(t=null===(e=this.outputs)||void 0===e?void 0:e[0].metrics)&&void 0!==t?t:[]}}),mounted:function(){},methods:{event:function(t,e){var i=t.name,s=t.data,a=e.id;console.log(i,s,a),"add"===s&&this.add(),"remove"===s&&this.remove(a),"copy"===s&&this.copy(a),"chart"===i&&(this.charts=this.charts.map((function(t){return t.id===a&&(t.output_idx=s),t}))),"data"===i&&(this.charts=this.charts.map((function(t){return t.id===a&&(t.show=s),t}))),"metric"===i&&(this.charts=this.charts.map((function(t){return t.id===a&&(t.show_metric=s),t}))),this.send()},getChart:function(t){var e=t.id;return this.data.find((function(t){return t.id===e}))},add:function(){if(console.log(this.charts),this.charts.length<10){var t=Math.max.apply(Math,[0].concat(Object(K["a"])(this.charts.map((function(t){return t.id})))));"metric_graphs"===this.metric?this.charts.push({id:t+1,output_idx:this.outputIdx,show:"model",show_metric:this.metrics[0]}):this.charts.push({id:t+1,output_idx:this.outputIdx,show:"model"}),this.charts=Object(K["a"])(this.charts),this.send()}},copy:function(t){if(this.charts.length<10){var e=Math.max.apply(Math,[0].concat(Object(K["a"])(this.charts.map((function(t){return t.id}))))),i=Object(o["a"])({},this.charts.find((function(e){return e.id===t})));i&&(i.id=e+1,this.charts=[].concat(Object(K["a"])(this.charts),[i]))}},remove:function(t){this.charts=this.charts.filter((function(e){return e.id!==t}))},send:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/interactive",{});case 2:i=e.sent,console.log("response",i);case 4:case"end":return e.stop()}}),e)})))()}}},Xt=Wt,Yt=(i("b37f"),Object(d["a"])(Xt,Ot,jt,!1,null,"1916ee39",null)),Kt=Yt.exports,qt={name:"Graphics",components:{Prediction:xt,Texts:T,Progress:J,Stats:tt,Balance:rt,Graphs:Kt},data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({})),{},{collapse:{set:function(t){this.$store.dispatch("trainings/setСollapse",t)},get:function(){return this.$store.getters["trainings/getСollapse"]}},show:function(){return this.collabse.includes("0")},outputs:function(){return this.$store.getters["trainings/getOutputs"]},interactive:function(){return this.$store.getters["trainings/getInteractive"]}}),methods:{change:function(t){this.collabse=t,console.log(t)}}},Qt=qt,Zt=(i("60fd"),Object(d["a"])(Qt,_,m,!1,null,"2ebd24fe",null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"params"},["start"===t.statusTrain?i("div",{staticClass:"params__overlay"},[i("LoadSpiner",{attrs:{text:"Запуск обучения..."}})],1):t._e(),i("scrollbar",[i("div",{staticClass:"params__body"},[i("div",{staticClass:"params__items"},[i("at-collapse",{attrs:{value:t.collapse}},[i("at-collapse-item",{staticClass:"mt-3",attrs:{title:""}},[t._l(t.main.fields,(function(e,s){return[i("t-auto-field-trainings",t._b({key:"main_"+s,attrs:{state:t.state,inline:!1,disabled:t.disabledAny},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:""}},[i("div",{staticClass:"fit"},[t._l(t.fit.fields,(function(e,s){return[i("t-auto-field-trainings",t._b({key:"fit_"+s,staticClass:"fit__item",attrs:{state:t.state,inline:!0,disabled:t.disabledAny},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)]),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.optimizer.name}},[i("div",{staticClass:"optimizer"},[t._l(t.optimizerFields,(function(e,s){return[i("t-auto-field-trainings",t._b({key:"optimizer_"+s+e.parse,staticClass:"optimizer__item",attrs:{state:t.state,inline:"",disabled:t.disabledAny},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)]),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.outputs.name}},[i("div",{staticClass:"blocks-layers"},[t._l(t.outputs.fields,(function(e,s){return[i("div",{key:"block_layers_"+s,staticClass:"block-layers"},[i("div",{staticClass:"block-layers__header"},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticClass:"block-layers__body"},[t._l(e.fields,(function(e,s){return[i("t-auto-field-trainings",t._b({key:"checkpoint_"+s+e.parse,attrs:{state:t.state,inline:!0,disabled:e.disabled||t.disabled},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)])]}))],2)]),i("at-collapse-item",{staticClass:"mt-3",attrs:{title:t.checkpoint.name}},[i("div",{staticClass:"checkpoint"},[i("t-field",{staticClass:"checkpoint__item",attrs:{inline:"",label:"Функция"}},[i("t-select-new",{attrs:{list:t.func,small:"",update:"",name:"metric_name",parse:"architecture[parameters][checkpoint][metric_name]",value:t.getValue,disabled:t.disabled},on:{parse:t.parse}})],1),t._l(t.checkpoint.fields,(function(e,s){return[i("t-auto-field-trainings",t._b({key:"outputs_"+s,staticClass:"checkpoint__item",attrs:{state:t.state,inline:!0,disabled:t.disabled},on:{parse:t.parse}},"t-auto-field-trainings",e,!1))]}))],2)])],1)],1)])]),i("div",{staticClass:"params__footer"},t._l(t.button,(function(e,s){var a=e.title,n=e.visible;return i("div",{key:s,staticClass:"params__btn",class:{params__save:"clear"===s}},["save"!==s?i("t-button",{attrs:{disabled:!n},on:{click:function(e){return t.btnEvent(s)}}},[t._v(t._s(a))]):t._e()],1)})),0)],1)},ie=[],se=i("3835"),ae=i("eb4c"),ne=(i("4d63"),i("ac1f"),i("466d"),/(\[[^\[\]]*\])/g);function re(t){var e=[],i=/^([^\[\]]*)/,s=new RegExp(ne),a=i.exec(t);a[1]&&e.push(a[1]);while(null!==(a=s.exec(t)))e.push(a[1]);return e}function oe(t,e,i){if(0===e.length)return t=i,t;var s=e.shift(),a=s.match(/^\[(.+?)\]$/);if("[]"===s)return t=t||[],Array.isArray(t)?t.push(oe(null,e,i)):(t._values=t._values||[],t._values.push(oe(null,e,i))),t;if(a){var n=a[1],r=+n;isNaN(r)?(t=t||{},t[n]=oe(t[n],e,i)):(t=t||[],t[r]=oe(t[r],e,i))}else t[s]=oe(t[s],e,i);return t}function ce(t,e,i){var s=e.match(ne);if(s){var a=re(e);oe(t,a,i)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(i)):t[e]=i}return t}var le=ce,ue={name:"params-traning",components:{LoadSpiner:g["a"]},data:function(){return{collapse:[0,1,3,4],optimizerValue:"",metricData:"",debounce:null}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({params:"trainings/getParams",button:"trainings/getButtons",status:"trainings/getStatus"})),{},{isLearning:function(){return["addtrain","training"].includes(this.status)},disabled:function(){return"no_train"!==this.status},disabledAny:function(){var t=this.status;return!!this.isLearning||"stopped"===t&&["epochs"]},getValue:function(){var t,e,i,s,a,n,r=(null===(t=this.trainSettings)||void 0===t||null===(e=t.architecture)||void 0===e||null===(i=e.parameters)||void 0===i?void 0:i.outputs)||[];return r=(null===(s=r)||void 0===s||null===(a=s[this.metricData])||void 0===a?void 0:a.metrics)||[],this.saveValue(r),(null===(n=this.state)||void 0===n?void 0:n["architecture[parameters][checkpoint][metric_name]"])||r[0]||""},state:{set:function(t){this.$store.dispatch("trainings/setStateParams",t)},get:function(){return this.$store.getters["trainings/getStateParams"]}},trainSettings:{set:function(t){this.$store.dispatch("trainings/setTrainSettings",t)},get:function(){return this.$store.getters["trainings/getTrainSettings"]}},main:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.main)||{}},fit:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.fit)||{}},outputs:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.outputs)||{}},optimizerFields:function(){var t,e,i;return(null===(t=this.params)||void 0===t||null===(e=t.optimizer)||void 0===e||null===(i=e.fields)||void 0===i?void 0:i[this.optimizerValue])||[]},optimizer:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.optimizer)||{}},checkpoint:function(){var t;return(null===(t=this.params)||void 0===t?void 0:t.checkpoint)||{}},statusTrain:function(){return this.$store.getters["trainings/getStatusTrain"]},func:function(){var t,e,i,s,a,n=(null===(t=this.trainSettings)||void 0===t||null===(e=t.architecture)||void 0===e||null===(i=e.parameters)||void 0===i?void 0:i.outputs)||[];return n=(null===(s=n)||void 0===s||null===(a=s[this.metricData])||void 0===a?void 0:a.metrics)||[],n=n.map((function(t){return{label:t,value:t}})),n}}),methods:{saveValue:function(t){var e=Object(se["a"])(t,1),i=e[0];le(this.trainSettings,"architecture[parameters][checkpoint][metric_name]",i),this.trainSettings=Object(o["a"])({},this.trainSettings)},btnEvent:function(t){"train"===t&&this.start(),"stop"===t&&this.stop(),"clear"===t&&this.clear(),"save"===t&&this.save()},click:function(t){console.log(t)},start:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var i,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/start",t.trainSettings);case 2:i=e.sent,i&&(s=i.data,s&&null!==s&&void 0!==s&&null!==(a=s.state)&&void 0!==a&&a.status&&(localStorage.setItem("settingsTrainings",JSON.stringify(t.state)),t.debounce(!0)));case 4:case"end":return e.stop()}}),e)})))()},stop:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.debounce(!1),e.next=3,t.$store.dispatch("trainings/stop",{});case 3:case"end":return e.stop()}}),e)})))()},clear:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/clear",{});case 2:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/save",{});case 2:case"end":return e.stop()}}),e)})))()},progress:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var i,s,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("trainings/progress",{});case 2:i=e.sent,i&&(s=i.data,a=s.finished,n=s.message,r=s.percent,t.$store.dispatch("messages/setProgressMessage",n),t.$store.dispatch("messages/setProgress",r),a?t.$store.dispatch("projects/get"):t.debounce(t.isLearning));case 4:case"end":return e.stop()}}),e)})))()},parse:function(t){var e=t.parse,i=t.value,s=t.name;le(this.trainSettings,e,i),this.trainSettings=Object(o["a"])({},this.trainSettings),"architecture_parameters_checkpoint_layer"===s?(this.metricData=i,i&&(this.state=Object(St["a"])({},"".concat(e),i))):this.state=Object(St["a"])({},"".concat(e),i),"optimizer"===s&&(this.optimizerValue=i)}},created:function(){var t=this;this.debounce=Object(ae["a"])((function(e){e&&t.progress()}),1e3),this.debounce(this.isLearning);var e=localStorage.getItem("settingsTrainings");if(e)try{this.state=JSON.parse(e)}catch(i){console.warn(i)}},beforeDestroy:function(){this.debounce(!1)}},de=ue,pe=(i("0248"),Object(d["a"])(de,ee,ie,!1,null,"710540ac",null)),he=pe.exports,_e={name:"Training",components:{Toolbar:h,Graphics:te,Params:he},data:function(){return{collabse:[]}},methods:{},created:function(){}},me=_e,fe=(i("0ae7"),Object(d["a"])(me,s,a,!1,null,"dcc032b4",null));e["default"]=fe.exports},b99e:function(t,e,i){},c50c:function(t,e,i){"use strict";i("45ac")},c829:function(t,e,i){"use strict";i("dfaa")},d2e0:function(t,e,i){},dcc7:function(t,e,i){"use strict";i("49ff")},dfaa:function(t,e,i){},e635:function(t,e,i){},e807:function(t,e,i){},eb4c:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var s=function(t,e,i){var s;return function(){var a=this,n=arguments,r=function(){s=null,i||t.apply(a,n)},o=i&&!s;clearTimeout(s),s=setTimeout(r,e),o&&t.apply(a,n)}}},eca8:function(t,e,i){}}]);