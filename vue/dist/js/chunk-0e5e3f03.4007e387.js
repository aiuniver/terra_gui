(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e5e3f03"],{"26c2":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("at-modal",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"t-modal",attrs:{width:"400",maskClosable:!1,showClose:!1},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("Загрузка проекта")])]),s("div",{staticClass:"t-modal__body"},[s("p",[t._v("Загрузка проекта удалит текущий.")])]),s("div",{staticClass:"t-modal__sub-body"},[s("span",{staticClass:"t-modal__link",on:{click:function(e){return t.$emit("start",!0)}}},[t._v("Сохранить проект")])]),s("div",{ref:"list",staticClass:"t-modal__list"},[s("scrollbar",[s("ul",{staticClass:"loaded-list"},[t._l(t.list,(function(e,o){return s("li",{key:"custom_"+o,class:["loaded-list__item",{"loaded-list__item--active":t.selected.label===e.label}],on:{click:function(s){t.selected=e}}},[s("i",{staticClass:"loaded-list__item--icon"}),s("span",{staticClass:"loaded-list__item--text"},[t._v(t._s(e.label))]),s("div",{staticClass:"loaded-list__item--empty"}),s("div",{staticClass:"loaded-list__item--remove",on:{click:function(s){return s.stopPropagation(),t.remove(e)}}},[s("i")])])})),t.list.length?t._e():s("li",{staticClass:"loaded-list__no-list"},[t._v("Нет проектов для загрузки")])],2)])],1),s("template",{slot:"footer"},[s("t-button",{attrs:{disabled:!t.selected.label},on:{click:function(e){return t.loadProject(t.selected)}}},[t._v("Загрузить")]),s("t-button",{attrs:{cancel:""},on:{click:function(e){t.dialog=!1}}},[t._v("Отменить")])],1)],2)},a=[],n=s("1da1"),l=(s("96cf"),{name:"modal-load-project",props:{value:Boolean},data:function(){return{selected:{},show:!0,list:[]}},computed:{dialog:{set:function(t){this.$emit("input",t)},get:function(){return this.value}}},methods:{remove:function(t){var e=this;this.$Modal.confirm({title:"Удаление проекта",content:"Вы действительно хотите удалить проект «".concat(t.label,"»?"),width:300,maskClosable:!1,showClose:!1}).then((function(){e.removeProject(t)})).catch((function(){}))},loadProject:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log(t),s.prev=1,s.next=4,e.$store.dispatch("projects/loadProject",{value:t.value});case 4:o=s.sent,console.log(o),o&&!o.error&&(e.$emit("message",{message:"Проект «".concat(t.label,"» загружен")}),e.dialog=!1),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](1),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[1,9]])})))()},removeProject:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log(t),s.prev=1,s.next=4,e.$store.dispatch("projects/removeProject",{path:t.value});case 4:o=s.sent,o&&!o.error&&(e.$emit("message",{message:"Проект «".concat(t.label,"» удален")}),e.infoProject()),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](1),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[1,8]])})))()},infoProject:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("projects/infoProject",{});case 3:s=e.sent,s&&(o=s.data.projects,t.list=o),t.$nextTick((function(){t.$refs.list.clientHeight>200&&(t.$refs.list.style.height="200px")})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},watch:{dialog:function(t){t&&this.infoProject()}}}),c=l,i=(s("f55b"),s("2877")),r=Object(i["a"])(c,o,a,!1,null,"45231cc7",null);e["default"]=r.exports},b9f8:function(t,e,s){},f55b:function(t,e,s){"use strict";s("b9f8")}}]);