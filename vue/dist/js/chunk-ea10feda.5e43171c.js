(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea10feda"],{"27db":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("main",{staticClass:"page-deploy"},[t("div",{staticClass:"cont"},[t("div",{staticClass:"board"},[t("scrollbar",[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content"},[t("div",{staticClass:"board__data-field"},[t("div",[t("div",{staticClass:"board__title"},[e._v("Исходные данные / Предсказанные данные")]),e.isTable?t("div",{staticClass:"board__data"},["DataframeRegression"===e.type?t("Table",e._b({key:"#board-"+e.updateKey,on:{reload:e.reload,reloadAll:e.reloadAll}},"Table",e.deploy,!1)):e._e(),"DataframeClassification"===e.type?t("TableClass",e._b({key:"#board-"+e.updateKey,on:{reload:e.reload,reloadAll:e.reloadAll}},"TableClass",e.deploy,!1)):e._e()],1):t("div",{staticClass:"board__data"},e._l(e.cards,(function(a,r){return t("IndexCard",{key:"#board-card-"+r,attrs:{card:a,"color-map":e.deploy.color_map,index:r,"default-layout":e.defaultLayout,type:e.type},on:{reload:e.reload}})})),1)])])])])])],1),t("Params",{attrs:{params:e.params,"module-list":e.moduleList,"project-data":e.projectData,"user-data":e.userData,"sent-deploy":e.paramsSettings.isSendParamsDeploy,"params-downloaded":e.paramsSettings,"overlay-status":e.overlay},on:{downloadSettings:e.getData,overlay:e.setOverlay,sendParamsDeploy:e.uploadData,clear:e.clearParams}})],1),e.overlay?t("div",{staticClass:"overlay"}):e._e()])},s=[],n=t("1da1"),o=t("5530"),i=(t("96cf"),t("d3b7"),t("3ca3"),t("ddb0"),t("caad"),t("b0c0"),t("2f62")),c=t("eb4c"),d={name:"Datasets",components:{Params:function(){return t.e("chunk-4826e7d3").then(t.bind(null,"4973"))},IndexCard:function(){return t.e("chunk-4ea898e2").then(t.bind(null,"3af9"))},Table:function(){return t.e("chunk-1c0abd43").then(t.bind(null,"5448"))},TableClass:function(){return t.e("chunk-1f1083e0").then(t.bind(null,"6eb8"))}},computed:Object(o["a"])(Object(o["a"])({},Object(i["b"])({defaultLayout:"deploy/getDefaultLayout",dataLoaded:"deploy/getDataLoaded",cards:"deploy/getCards",autoHeight:"settings/autoHeight",type:"deploy/getDeployType",deploy:"deploy/getDeploy",params:"deploy/getParams",height:"settings/height",moduleList:"deploy/getModuleList",projectData:"projects/getProject",userData:"projects/getUser"})),{},{isTable:function(){return["DataframeClassification","DataframeRegression"].includes(this.type)}}),data:function(){return{overlay:!1,updateKey:0,debounceProgressData:null,debounceProgressUpload:null,idCheckProgressSendDeploy:null,paramsSettings:{isSendParamsDeploy:!1,isParamsSettingsLoad:!1}}},created:function(){var e=this;this.debounceProgressData=Object(c["a"])((function(a){a&&e.progressData()}),1e3),this.debounceProgressUpload=Object(c["a"])((function(a){a&&e.progressUpload()}),1e3)},beforeDestroy:function(){this.debounceProgressUpload(!1),this.debounceProgressData(!1)},methods:{clearParams:function(){this.$store.dispatch("deploy/clear")},setOverlay:function(e){this.overlay=e},progressUpload:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t,r,s,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("deploy/progressUpload");case 2:if(t=a.sent,console.log(t),null===t||void 0===t||!t.data){a.next=16;break}if(r=t.data,s=r.finished,n=r.message,o=r.percent,e.$store.dispatch("messages/setProgressMessage",n),e.$store.dispatch("messages/setProgress",o),s||t.error){a.next=13;break}return a.next=11,e.debounceProgressUpload(!0);case 11:a.next=16;break;case 13:e.$store.dispatch("projects/get"),e.paramsSettings.isSendParamsDeploy=!0,e.overlay=!1;case 16:case"end":return a.stop()}}),a)})))()},uploadData:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$store.dispatch("deploy/uploadData",e);case 2:if(r=t.sent,!r){t.next=9;break}if(s=r.error,n=r.success,s||!n){t.next=9;break}return a.overlay=!0,t.next=9,a.debounceProgressUpload(!0);case 9:case"end":return t.stop()}}),t)})))()},progressData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t,r,s,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("deploy/progressData",{});case 2:if(t=a.sent,!t||null===t||void 0===t||!t.data){a.next=15;break}if(r=t.data,s=r.finished,n=r.message,o=r.percent,e.$store.dispatch("messages/setProgressMessage",n),e.$store.dispatch("messages/setProgress",o),s){a.next=12;break}return a.next=10,e.debounceProgressData(!0);case 10:a.next=15;break;case 12:e.$store.dispatch("projects/get"),e.paramsSettings.isParamsSettingsLoad=!0,e.overlay=!1;case 15:null!==t&&void 0!==t&&t.error&&(e.overlay=!1);case 16:case"end":return a.stop()}}),a)})))()},getData:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.type,s=void 0===r?null:r,n=e.name,o=void 0===n?null:n,!s||!o){t.next=9;break}return a.overlay=!0,t.next=5,a.$store.dispatch("deploy/getData",{type:s,name:o});case 5:if(i=t.sent,null===i||void 0===i||!i.success){t.next=9;break}return t.next=9,a.debounceProgressData(!0);case 9:case"end":return t.stop()}}),t)})))()},reload:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.updateKey++,t.next=3,a.$store.dispatch("deploy/reloadCard",[String(e)]);case 3:case"end":return t.stop()}}),t)})))()},reloadAll:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(t=[],r=0;r<e.cards.length;r++)t.push(String(r));return a.next=4,e.$store.dispatch("deploy/reloadCard",t);case 4:case"end":return a.stop()}}),a)})))()}}},l=d,u=(t("b8ad"),t("2877")),p=Object(u["a"])(l,r,s,!1,null,"fca2690c",null);a["default"]=p.exports},3970:function(e,a,t){},b8ad:function(e,a,t){"use strict";t("3970")},eb4c:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var r=function(e,a,t){var r;return function(){var s=this,n=arguments,o=function(){r=null,t||e.apply(s,n)},i=t&&!r;clearTimeout(r),r=setTimeout(o,a),i&&e.apply(s,n)}}}}]);