(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2176c8"],{c753:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("at-modal",{attrs:{width:"400",maskClosable:!1,showClose:!1},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Сохранить проект")])]),a("div",{staticClass:"inner form-inline-label"},[a("div",{staticClass:"field-form"},[a("label",[e._v("Название проекта")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",disabled:e.loading},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"field-form field-inline field-reverse"},[a("label",{on:{click:function(t){e.overwrite=!e.overwrite}}},[e._v("Перезаписать")]),a("div",{staticClass:"checkout-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overwrite,expression:"overwrite"}],attrs:{type:"checkbox",disabled:e.loading},domProps:{checked:Array.isArray(e.overwrite)?e._i(e.overwrite,null)>-1:e.overwrite},on:{change:function(t){var a=e.overwrite,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i=null,o=e._i(a,i);r.checked?o<0&&(e.overwrite=a.concat([i])):o>-1&&(e.overwrite=a.slice(0,o).concat(a.slice(o+1)))}else e.overwrite=n}}}),a("span",{staticClass:"switcher"})])])]),a("template",{slot:"footer"},[a("t-button",{attrs:{loading:e.loading},on:{click:function(t){return e.save({name:e.name,overwrite:e.overwrite})}}},[e._v("Сохранить")]),a("t-button",{attrs:{cancel:"",disabled:e.loading},on:{click:function(t){e.dialog=!1}}},[e._v("Отменить")])],1)],2)},n=[],i=a("1da1"),o=(a("96cf"),a("b0c0"),{name:"modal-save-project",props:{value:Boolean},data:function(){return{name:"",overwrite:!1,loading:!1,disabled:!1}},computed:{dialog:{set:function(e){this.$emit("input",e)},get:function(){return this.value}}},methods:{save:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.loading=!0,t.$emit("message",{message:"Сохранения проекта «".concat(e.name,"»")}),a.next=5,t.$store.dispatch("projects/saveProject",e);case 5:r=a.sent,r&&!r.error?(t.$emit("message",{message:"Проект «".concat(e.name,"» сохранен")}),t.dialog=!1,t.overwrite=!1):t.$emit("message",{error:r.error.general}),t.loading=!1,a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),t.loading=!1;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},watch:{dialog:function(e){e&&(this.name=this.$store.getters["projects/getProject"].name)}}}),s=o,l=a("2877"),c=Object(l["a"])(s,r,n,!1,null,null,null);t["default"]=c.exports}}]);